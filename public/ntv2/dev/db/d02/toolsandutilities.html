<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AJA NTV2 SDK: Tools and Utilities</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../ajastyles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../AJALogoMini.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AJA NTV2 SDK
   &#160;<span id="projectnumber">17.6.0.1906</span>
   </div>
   <div id="projectbrief">NTV2 SDK 17.6.0.1906</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/d02/toolsandutilities.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Tools and Utilities </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The SDK includes a number of tools and utilities that help diagnose issues involving the SDK and AJA devices.</p>
<p>These all operate the same on all three supported platforms (Linux, MacOS and Windows) and live in the top-level <b>bin</b> folder.</p><ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#usingntv2watcher">“NTV2Watcher”</a> — A handy debugging utility that shows the inner workings of NTV2 devices.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#usingajalogger">“AJA Logger”</a> —&#160;A handy viewer for displaying and/or recording <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> messages.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#usingsystemtest">“AJA System Test”</a> — Measures the DMA performance of any AJA device attached to the host, as well as the read/write performance of local host storage.</li>
<li><b>Data Rate Calculator</b> calculates DMA performance requirements for various video and pixel formats. It's now universally available for mobile devices:<ul>
<li><a href="https://itunes.apple.com/us/app/aja-datacalc/id343454572">iOS</a></li>
<li><a href="https://play.google.com/store/apps/details?id=com.aja.AJADataCalc">Android</a></li>
</ul>
</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#usingsupportlog">‘supportlog’ Command-Line Utility</a> — Sometimes when diagnosing an issue, AJA’s OEM SDK support staff may request a “register dump” or “register log”. This log file can be generated using <a class="el" href="../../db/d02/toolsandutilities.html#usingsupportlog">‘supportlog’ Command-Line Utility</a> or <a class="el" href="../../db/d02/toolsandutilities.html#usingntv2watcher">“NTV2Watcher”</a>. See the Knowledgebase article at our SDK Support site <a href="https://sdksupport.aja.com/">https://sdksupport.aja.com/</a> for more information.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#usingfwinstaller">‘ntv2firmwareinstaller’ Command-Line Utility</a> — A command-line tool used to “flash” new firmware into a connected AJA device. This tool is included because AJA developers or their customers need to be able to program new firmware on an AJA device, and may not need or have access to the AJA retail services, including the <b>AJA ControlPanel</b>, which is commonly used to perform this task. <dl class="section note"><dt>Note</dt><dd>The <a class="el" href="../../d0/d53/ntv2devices.html#corvidhevc">Corvid HEVC</a> requires a somewhat different procedure for checking and updating its firmware. See hevcsupplement for more information.</dd></dl>
</li>
<li><b>ntv2konaipj2ksetup</b> — A command-line tool used to configure the <a class="el" href="../../d0/d53/ntv2devices.html#konaip">KONA IP</a> from a JSON configuration file.</li>
<li><b>ntv2konaipjsonsetup</b> — A command-line tool used to configure the <a class="el" href="../../d0/d53/ntv2devices.html#konaip">KONA IP</a> from a JSON configuration file.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#usinglogreader">‘logreader’ Command-Line Utility</a> —&#160;A command-line tool that prints messages from the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#usinglogjammer">‘logjammer’ Command-Line Utility</a> —&#160;A command-line tool that generates messages for the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#ntv2thermo">‘ntv2thermo’ Command-Line Utility</a> — Interrogates and/or controls temperature-related parameters of connected AJA devices.</li>
</ul>
<hr  size="50px" />
<h1><a class="anchor" id="ntv2thermo"></a>
‘ntv2thermo’ Command-Line Utility</h1>
<dl class="section user"><dt>Description</dt><dd></dd></dl>
<p>A command-line tool that interrogates and/or controls temperature-related parameters of connected AJA devices.</p>
<dl class="section user"><dt>Synopsis</dt><dd></dd></dl>
<div class="fragment"><div class="line">ntv2thermo [OPTION...]</div>
<div class="line">  -d, --device=index#|serial#|model      device to use</div>
<div class="line">  -f, --format=brief|verbose|json        desired format</div>
<div class="line">  -s, --scale=celsius|fahrenheit         desired scale</div>
<div class="line">      --fan=read|off|on|lo|med|hi|auto   desired fan setting</div>
<div class="line">      --version                          show version and exit</div>
<div class="line">Help options:</div>
<div class="line">  -?, --help                             Show this help message</div>
<div class="line">      --usage                            Show brief usage message</div>
</div><!-- fragment --><ul>
<li>Anything specified after a command line option switch is case insensitive (e.g., <code>cElSiUs == Celsius</code>).</li>
<li>If you have more than one device attached to your host, use the <code>-d</code> switch to pick one of them. You can specify a zero-based index number, the serial number of a specific device, or a model name (e.g., <b>io4k</b>).</li>
<li>Use the <code>&ndash;format</code> option to specify the output format: <code>brief</code> (minimal), <code>verbose</code> (english sentence), or <code>json</code> (something a computer would appreciate). JSON formats always include a date/time stamp (in local time), the device name, and the device index number … plus the requested fan state or temperature (and temperature units).</li>
<li>Use the <code>&ndash;scale</code> option to specify the temperature unit scale to use: <code>celsius</code> (or <code>c</code>, the default), <code>fahrenheit</code> (or <code>f</code>), <code>kelvin</code> (or <code>k</code>) or <code>rankine</code> (or <code>r</code>).</li>
<li>Use the <code>&ndash;fan</code> option to inquire about or control the fan. Follow it with <code>read</code> to report the current fan state, <code>on</code> to turn it on, or <code>off</code> to turn it off. Use <code>auto</code> to enable automatic fan control (assuming the device and/or driver supports it).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>On devices for which automatic fan control is supported, using <b>on</b>, <b>off</b>, <b>lo</b>, <b>med</b>, or <b>hi</b> will override and disable the automatic fan control.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><b><em>CAUTION!</em> Turning the fan “off” or disabling a device’s automatic fan control can cause the device to overheat, and result in permanent damage to the device!</b></dd></dl>
<dl class="section user"><dt>Temperature Measurement</dt><dd></dd></dl>
<p>To read the temperature: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo -b1</div>
<div class="line">&#39;Io4K - 1&#39; die temperature is 72.8406 degrees Celsius</div>
</div><!-- fragment --><p>Note that it defaults to verbose format and Celsius units. To show just the numeric temperature reading in Fahrenheit: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo -b1 -s=fahrenheit -f=brief</div>
<div class="line">161.341</div>
</div><!-- fragment --><p>To output the temperature in the Rankine scale in JSON format: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo -b1 -s=rankine -f=json</div>
<div class="line">{&quot;timestamp&quot;: &quot;Wed Oct 21 12:18:53 2015&quot;, &quot;name&quot;: &quot;Io4K - 1&quot;, &quot;deviceIndex&quot;: 1, &quot;temperature&quot;: 621.011, &quot;temperatureScale&quot;: &quot;rankine&quot;}</div>
</div><!-- fragment --><p>To show the temperature in Kelvin: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo --device io4k --scale kelvin</div>
<div class="line">&#39;Io4K - 1&#39; die temperature is 344.514 degrees Kelvin</div>
</div><!-- fragment --><dl class="section user"><dt>Logging</dt><dd></dd></dl>
<p>By specifying the <code>&ndash;log</code> command line switch, the tool enters “logging” mode, which periodically writes temperature and fan state until interrupted (using Ctrl-C). The argument to the <code>&ndash;log</code> switch is an unsigned decimal integer that specifies the number of seconds between each line in the report: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo --device io4k --log 5 --scale=f -f=json</div>
<div class="line">{&quot;timestamp&quot;: &quot;Wed Oct 21 12:14:32 2015&quot;, &quot;name&quot;: &quot;Io4K - 2&quot;,</div>
<div class="line">&quot;deviceIndex&quot;: 2, &quot;temperature&quot;: 173.744, &quot;temperatureScale&quot;: &quot;f&quot;}</div>
<div class="line">{&quot;timestamp&quot;: &quot;Wed Oct 21 12:14:37 2015&quot;, &quot;name&quot;: &quot;Io4K - 2&quot;,</div>
<div class="line">&quot;deviceIndex&quot;: 2, &quot;temperature&quot;: 172.858, &quot;temperatureScale&quot;: &quot;f&quot;}</div>
<div class="line">{&quot;timestamp&quot;: &quot;Wed Oct 21 12:14:42 2015&quot;, &quot;name&quot;: &quot;Io4K - 2&quot;,</div>
<div class="line">&quot;deviceIndex&quot;: 2, &quot;temperature&quot;: 172.858, &quot;temperatureScale&quot;: &quot;f&quot;}</div>
<div class="line">^C</div>
</div><!-- fragment --><dl class="section user"><dt>“Fan” Mode</dt><dd></dd></dl>
<p>By specifying the <code>&ndash;fan</code> command line switch, the tool enters “fan” mode, which overrides its temperature measurement functionality.</p>
<dl class="section note"><dt>Note</dt><dd>Fan mode is only supported on devices that have adjustable fans — see <a class="el" href="../../dd/d0f/ntv2devicefeatures_8hpp.html#a4a8ecec2ff808b738fa16da8db590529">NTV2DeviceCanThermostat</a>.</dd></dl>
<p>To show the fan status: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo --device io4k --fan read</div>
<div class="line">&#39;Io4K - 1&#39; fan is ON</div>
</div><!-- fragment --><p>To output the fan status as a number: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo --device io4k --fan read --format brief</div>
<div class="line">1</div>
</div><!-- fragment --><p>To output the fan status in JSON: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo --device io4k --fan read --format json</div>
<div class="line">{&quot;name&quot;: &quot;Io4K - 1&quot;, &quot;deviceIndex&quot;: 1, &quot;fanIsOn&quot;: true}</div>
</div><!-- fragment --><p>To turn on the fan: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo --device io4k --fan on</div>
<div class="line">Fan turned ON on &#39;Io4K - 1&#39;</div>
</div><!-- fragment --><p>To turn off the fan with minimal output: </p><div class="fragment"><div class="line">$ ./bin/ntv2thermo --device io4k --fan off -f b</div>
<div class="line">0</div>
</div><!-- fragment --><p>It’s not an error to turn on the fan when it’s already on, nor is it an error to turn off the fan when it’s already off.</p>
<p>JSON output is not supported when turning the fan on or off.</p>
<dl class="section user"><dt>Exit Codes</dt><dd><ul>
<li><b>0</b> — Success. No errors encountered. The tool did what it was asked to do.</li>
<li><b>1</b> — An illegal command line parameter was specified.</li>
<li><b>2</b> — No such device (e.g., specifying <code>-b io4k</code> when there’s no Io4K attached).</li>
<li><b>3</b> — The tool failed to successfully communicate with the device driver, or an API call failed.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Output File Streams</dt><dd></dd></dl>
<ul>
<li><b>stdout</b> &mdash; Normal output (e.g., brief, verbose or JSON output) is directed to this stream.</li>
<li><b>stderr</b> &mdash; Warning and error messages are directed to this stream, usually followed by the tool exiting with a non-zero exit code.</li>
</ul>
<hr  size="50px" />
<h1><a class="anchor" id="usingajalogger"></a>
“AJA Logger”</h1>
<p>This page describes how to use the <b>AJA Logger</b> utility to monitor AJA software.</p>
<dl class="section note"><dt>Note</dt><dd>This application is deprecated and will be removed in a future SDK. Please use the <a class="el" href="../../db/d02/toolsandutilities.html#debuglog">“AJADebug Log” Tool</a> in <a class="el" href="../../db/d02/toolsandutilities.html#usingntv2watcher">“NTV2Watcher”</a>.</dd></dl>
<div class="image">
<img src="../../logger-in-action.png" alt=""/>
</div>
<p>The <b>AJA Logger</b> application allows you to monitor, in near real time, log messages originated by the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility. It has several handy features:</p><ul>
<li>Filtering based on message content.</li>
<li>Filter based on message classification and/or severity.</li>
<li>Colorize messages based on originating process ID.</li>
<li>Calculate time between two messages.</li>
<li>Log recording, snapshotting, copying (clipboard) and printing.</li>
<li>Non-AJA software can contribute messages from the logjammer tool.</li>
</ul>
<dl class="section user"><dt>General Operation</dt><dd></dd></dl>
<p>The<b>AJA Logger</b>’s user interface consists of one main window, the main window having three parts:</p><ul>
<li>The <b>Main View</b> containing the log display with column headings;</li>
<li>A <b>Toolbar</b> at the top that allows you to configure what is seen (or not seen) in the main view;</li>
<li><p class="startli">A <b>Status Bar</b> at the bottom that shows logging activity statistics.</p>
<dl class="bug"><dt><b><a class="el" href="../../de/da5/bug.html#_bug000002">Bug:</a></b></dt><dd>On Windows, prior to SDK 16.2, elevated user privileges were required for the first process to create the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility’s global shared memory region. Before any kind of logging could be done, the first <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> client (a process that calls <a class="el" href="../../db/d56/class_a_j_a_debug.html#a00ff3e1d68cf7d7b49a6545774c22bb2">AJADebug::Open</a>) must be “Run as Administrator”. Once this was done, all subsequent processes calling <a class="el" href="../../db/d56/class_a_j_a_debug.html#a00ff3e1d68cf7d7b49a6545774c22bb2">AJADebug::Open</a> could read or write log messages.</dd></dl>
</li>
</ul>
<h2><a class="anchor" id="logger-operation"></a>
AJA Logger Operation</h2>
<div class="image">
<img src="../../logger-toolbar.png" alt=""/>
</div>
<p>The <b>Main View</b> shows log messages in tabular fashion, one log entry per table row, with the log entry data shown in columns. The tool bar at the top has the following controls:</p><ul>
<li><b>Message Groups…</b>: Click to open the configuration dialog box. See <a class="el" href="../../db/d02/toolsandutilities.html#loggerconfig">Enable/Disable Message Groups Dialog</a> for details.</li>
<li><b>Log to File</b>: Enables or disables recording incoming messages to a log file.</li>
<li><b>Save As…</b>: Saves the contents of the message display to a file of the user’s choosing.</li>
<li><b>Font…</b>: Opens a font dialog to change the font and size of the log display.</li>
<li><b>Clear</b>: Erases all captured messages from the log display.</li>
<li><b>AutoScroll</b>: Enables or disables the auto-scrolling feature.</li>
<li><b>Pause</b>: Pauses or resumes the capture/display of new messages.</li>
<li><b>Add Marker</b>: Inserts a marker into the log.</li>
<li><b>Auto Group</b>: Specifies a “quiet time”, in seconds, that if no messages are logged in that interval, the first that arrives after it transpires will automatically be preceded by a marker entry.</li>
<li><b>Message Filter</b>: If non-empty, filters the log display such that it will only show messages containing the filter text.</li>
</ul>
<div class="image">
<img src="../../logger-msg-fields.png" alt=""/>
</div>
<p>The data columns are as follows:</p><ul>
<li><b>Index</b>: The unique index number of the message. This number starts at zero when the AJA Debug Facility is initialized.</li>
<li><b>PID</b>: The ID of the message’s originating host process.</li>
<li><b>TID</b>: The ID of the message’s originating host thread.</li>
<li><b>Time</b>: The host timestamp when the message entered the AJA Debug Facility’s ring buffer.</li>
<li><b>Group</b>: The message’s classification group (see <a class="el" href="../../d0/db4/debugshare_8h.html#ab39be81b481f6034a234f5b36f54581e">AJADebugUnit</a>).</li>
<li><b>Severity</b>: The message’s severity (see <a class="el" href="../../d0/db4/debugshare_8h.html#ab79e9b7969ef5d20032e96ff229a7186">AJADebugSeverity</a>).</li>
<li><b>Source</b>: The message’s originating source file name and line number (if known).</li>
<li><b>Message</b>: The log message text.</li>
</ul>
<p>By default, all columns are visible. If needed, any of the columns (except for <b>Message</b>) can be hidden.</p><ul>
<li>To hide a column, uncheck it in the <b>View</b> menu’s <b>Column</b> sub-menu.</li>
<li>To re-show a column, check it.</li>
<li>To quickly re-show all columns, choose the <b>Show All Columns</b> command in the <b>Column</b> submenu in the <b>View</b> menu.</li>
</ul>
<p>Messages are always displayed in increasing index/time order, top-to-bottom.</p>
<p>The <b>Status Bar</b> shows:</p><ul>
<li><b>File Recording State</b>: If the logger’s “Log” setting is enabled, it shows the path of the log file being written, and its size, in bytes. If the logger’s “Log” setting is off, it shows “not logging to file”.</li>
<li><b>Message Stats</b>:<ul>
<li><b>Ignored</b>: The number of messages that were reported by <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> clients, but ignored by the AJA Logger. You can choose the kinds of messages to ignore by showing the <b>Enables</b> dialog box by clicking the <b>Enables</b> button. You can also pause the logger by clicking the <b>Pause</b> button.</li>
<li><b>Accepted</b>: The number of messages that were reported by <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> clients, and accepted for display by the AJA Logger application.</li>
<li><b>Total</b>: The total number of messages that were reported by <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> clients.</li>
<li><b>Ref Count</b>: The number of attached clients that are currently monitoring <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> activity.</li>
</ul>
</li>
</ul>
<p>As new messages are reported to the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> logging facility, these are detected and, if configured to show them, incorporated into the log display.</p>
<p>If the <b>AutoScroll</b> button is highlighted, the display will auto-scroll to the bottom, to continually show the newest message. Otherwise, the <b>Main View</b> remains at its current scroll position.</p>
<dl class="section note"><dt>Note</dt><dd>Log messages containing line breaks (newline characters) are displayed in a single row, with the message text truncated at the first line break in the message. If logging to a file is enabled, the message text is written to the log file unchanged (including line breaks).</dd></dl>
<dl class="section user"><dt>Selecting and Copying Data</dt><dd></dd></dl>
<p>Clicking inside the <b>Main View</b> highlights (selects) information on a per-messsage (row) basis.</p>
<p>The usual rules of selection are followed:</p><ul>
<li>“Shift-click” — Extends the selection.</li>
<li>“Ctrl-click” or “Command-click” — Extends or contracts the selection.</li>
<li>“Dragging” — Continues to extend (or contract) the selection while the mouse button is down (and auto-scrolls, too).</li>
</ul>
<p>An <b>Edit</b> menu is provided for standard data copying commands:</p><ul>
<li><b>Copy</b> — Copies the highlighted (selected) information to the clipboard. The copied text will have the same line and field delimiters used for file logging (see below).<ul>
<li>The standard “Ctrl-C” or “Command-C” shortcuts also can be used.</li>
<li>Right-clicking inside the highlighted messages brings up a context menu:<ul>
<li>Choose <b>Copy</b> to copy the highlighted information to the clipboard.</li>
</ul>
</li>
</ul>
</li>
<li><b>Clear</b> — Erases all captured messages from the display.</li>
<li><b>Select All</b> — Highlights all captured messages in the display.</li>
</ul>
<dl class="section user"><dt>Logging to a File</dt><dd></dd></dl>
<p>When the <b>Log to File</b> button in the Toolbar is highlighted, or the <b>Log to File</b> command in the <b>Action</b> menu is checked, incoming messages are automatically recorded into a file on the host.</p><ul>
<li>The path to the file (and its current size, in bytes) is displayed in the Status Bar, on the left side.</li>
<li>The file is written in clear text, in UTF-8 encoding, one line per message.</li>
<li>The line delimiter used is native to the host operating system.</li>
<li>The delimiter between fields (Index, PID, TID, Time, Group, etc.) is user-selectable, and defaults to the semicolon (“;”).<ul>
<li>To change it, click in the <b>View</b> menu, choose <b>Text Delimiter</b>, then choose the desired delimiter.</li>
<li>Subsequent writes to the file will use the new delimiter.</li>
</ul>
</li>
<li>Log messages that contain line breaks in the message text are written into the log file without change.</li>
</ul>
<p>To toggle file logging on or off, click the <b>Log to File</b> button in the Toolbar, or un-check its command in the <b>Action</b> menu.</p>
<dl class="section user"><dt>Clearing the Log Display</dt><dd></dd></dl>
<p>To clear the log display, do one of the following:</p><ul>
<li>click the <b>Clear</b> button in the Toolbar;</li>
<li>choose <b>Clear</b> from the <b>Edit</b> menu;</li>
<li>or press the forward-delete key.</li>
</ul>
<dl class="section user"><dt>Pausing or Resuming the Log Display</dt><dd></dd></dl>
<p>When the <b>Pause</b> button in the Toolbar is highlighted, incoming messages are no longer captured. They are, however, are still recorded in the log file (if file logging is enabled).</p>
<p>To toggle the log display, click the <b>Pause</b> button in the Toolbar.</p>
<dl class="section user"><dt>Inserting Markers Into the Log</dt><dd></dd></dl>
<p>An “elapsed time” marker is automatically inserted into the log when a new log message is captured by AJA Logger after a user-configurable number of seconds has passed since the last accepted message was received. The default time interval is 86400 seconds (one day). To change this automatic marker-insertion delay, type a new value, in seconds, into the <b>Auto Group</b> edit box in the Toolbar …&#160;then press Return, Enter or Tab.</p>
<p>To manually insert a marker into the log, click the <b>Add Marker</b> button in the Toolbar. It will be timestamped and appended to the log.</p>
<dl class="section user"><dt>Changing the Display Font/Typeface</dt><dd></dd></dl>
<p>To change the typeface used in the log display, click the <b>Font…</b> button in the Toolbar or the <b>Font…</b> command in the <b>View</b> menu. The host-specific Font-chooser dialog box will appear. Choose the font family, size and style, then click <b>OK</b>. The <b>Main View</b> will be redrawn using the new typeface.</p>
<dl class="section user"><dt>Changing the Message Color Based on Process ID</dt><dd></dd></dl>
<p>AJA Logger can display messages having the same process ID (PID) with any background color you choose. This makes it very easy to differentiate messages coming from different processes on the host computer.</p><ul>
<li>Right-click on the message(s) having the desired process ID you wish to colorize.</li>
<li>Choose <b>Set row color for PID…</b>.</li>
<li>A color picker dialog will appear. Choose the new desired background color, then click OK.</li>
</ul>
<p>All messages having that process ID will be drawn with the chosen background color.</p>
<dl class="section user"><dt>Resizing Columns</dt><dd></dd></dl>
<p>AJA Logger can automatically adjust the width of its columns based on the longest data in the column. When the <b>Automatically Resize Columns</b> item in the <b>View</b> menu is checked, AJA Logger will automatically resize columns based on the messages it’s captured for display. If the item is unchecked, column widths are fixed. Choose the <b>Automatically Resize Columns</b> item to toggle its setting.</p>
<p>To manually resize a column, click on the column’s border in the column heading, and drag.</p>
<dl class="section user"><dt>Filtering Displayed Messages</dt><dd></dd></dl>
<p>To see only those messages that contain a particular character string, enter the search text into the <b>Message Filter</b> edit box in the Toolbar …&#160;then press Return, Enter or Tab. Henceforth, you’ll only see messages that contain that text — all others will be excluded and invisible.</p>
<dl class="section note"><dt>Note</dt><dd>This will only affect messages received by AJA Logger <em>after</em> changing the <b>Message Filter</b> text.</dd></dl>
<p>To stop filtering displayed messages, delete all text from the <b>Message Filter</b> edit box … then press Return, Enter or Tab.</p>
<dl class="section user"><dt>Measuring the Time Between Two Messages</dt><dd></dd></dl>
<p>To measure the time span between two messages in the display:</p><ul>
<li>Turn off <b>AutoScroll</b>. This makes it easier to select the desired message.</li>
<li>Scroll to reveal the first message, then (left) click on it.</li>
<li>Scroll to reveal the second message, then Command-Click (MacOS) or Control-Click on it.</li>
<li>Right-click on either of the two highlighted messages.</li>
<li>Note the elapsed time is the first item in the popup menu.</li>
</ul>
<dl class="section user"><dt>AJA Debug System Information</dt><dd></dd></dl>
<p>Choose “<b>About AJALogger</b>” from the “Help” menu (Windows and Linux) or the “<b>AJA Logger</b>” menu (MacOS). Scroll down to view the AJA Debug facility version and its other technical details.</p>
<h2><a class="anchor" id="loggerconfig"></a>
Enable/Disable Message Groups Dialog</h2>
<div class="image">
<img src="../../logger-enables.png" alt=""/>
</div>
<p>The AJA Logger has powerful filtering capabilities that make it easy to “include everything except…” or “exclude everything but…” or a combination.</p>
<p>To reveal the <b>Enable/Disable Message Groups</b> dialog box, click the <b>Message Groups…</b> button in the Toolbar, or choose the <b>Message Groups…</b> command from the <b>View</b> menu.</p>
<p>The dialog box has two sections:</p><ul>
<li><b>Groups</b> — Enable or disable message display by group (aka <a class="el" href="../../d0/db4/debugshare_8h.html#ab39be81b481f6034a234f5b36f54581e">AJADebugUnit</a>).</li>
<li><b>Severity</b> — Enable or disable message display by severity (aka <a class="el" href="../../d0/db4/debugshare_8h.html#ab79e9b7969ef5d20032e96ff229a7186">AJADebugSeverity</a>).</li>
</ul>
<p>Each checkbox is “live” — i.e. toggling a checkbox takes effect immediately.</p>
<p>There are handy pushbuttons for immediately enabling or disabling all of the Group or Severity checkboxes.</p>
<p>Click <b>OK</b> to dismiss (hide) the dialog box.</p>
<h2><a class="anchor" id="loggercustom"></a>
How to Post Messages</h2>
<p>SDK clients can post their own messages with the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility.</p>
<ol type="1">
<li>In your source file(s), <code>#include</code> <code>"ajadebug.h"</code> .</li>
<li>Be sure to link with the <b>libajantv2</b> library.</li>
<li>When the application starts, call <a class="el" href="../../db/d56/class_a_j_a_debug.html#a00ff3e1d68cf7d7b49a6545774c22bb2">AJADebug::Open</a>.</li>
<li>Call <a class="el" href="../../db/d56/class_a_j_a_debug.html#a1516564a30573c6a32c8699fc204bbf0">AJADebug::Report</a> to log a message …&#160;or use one of the <a class="el" href="../../db/df7/group___a_j_a_group_macro.html#gaabd7cfd000c8d08a32ed1f77eeeb1e6f">AJA_sDEBUG</a>, <a class="el" href="../../db/df7/group___a_j_a_group_macro.html#ga1975f7e93899a83cd85bcfe370247bfd">AJA_sINFO</a>, <a class="el" href="../../db/df7/group___a_j_a_group_macro.html#ga457ab8824e0e1e09c8996e3a39cda877">AJA_sNOTICE</a>, etc. macros.</li>
</ol>
<hr  size="50px" />
<h1><a class="anchor" id="usingfwinstaller"></a>
‘ntv2firmwareinstaller’ Command-Line Utility</h1>
<dl class="section user"><dt>Description</dt><dd></dd></dl>
<p>A command-line tool that can install firmware on AJA NTV2 devices.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="../../d0/d53/ntv2devices.html#konaip25g">KONA IP25</a> firmware is <b><em>NOT</em></b> installed using this utility. Instead, it’s installed through its web interface over the local network using the board’s ethernet connector.</dd></dl>
<dl class="section user"><dt>Synopsis</dt><dd></dd></dl>
<div class="fragment"><div class="line">    ntv2firmwareinstaller [OPTION...]  [PATH...]</div>
<div class="line">      --version                             Shows version &amp; exit</div>
<div class="line">  -d, --device=index#, serial#, or model    Specifies device to flash</div>
<div class="line">  -l, --license=license                     Installs firmware license</div>
<div class="line">  -p, --progress                            Shows installation progress</div>
<div class="line">  -q, --quiet                               Suppresses status messages</div>
<div class="line">  -w, --wait                                Require Enter press when done?</div>
<div class="line">  -i, --info                                Shows bitfile info &amp; exits</div>
<div class="line"> </div>
<div class="line">Help options:</div>
<div class="line">  -?, --help                                Show this help message</div>
<div class="line">      --usage                               Display brief usage message</div>
</div><!-- fragment --><dl class="section user"><dt>Determining Installed Firmware</dt><dd></dd></dl>
<p>To simply display the installed and currently-running firmware, use the <code>&ndash;info</code> parameter.</p>
<p>In this example on Windows, a Corvid 44 has flashed with newer firmware, but hasn’t yet been power-cycled to load it: </p><div class="fragment"><div class="line">C:&gt; path\to\ntv2firmwareinstaller  -dcorvid44  --info</div>
<div class="line">  Running FW Rev: 0x2c(44)</div>
<div class="line"> Running Bitfile: 2024/04/19 11:43:43</div>
<div class="line">    Main Bitfile: &#39;corvid_44&#39; 2024/09/27 16:17:49  &lt;== NOT CURRENTLY RUNNING -- NEEDS POWER-CYCLE TO TAKE EFFECT</div>
<div class="line">Failsafe Bitfile: &#39;corvid_44&#39; 2014/08/22 16:59:18</div>
<div class="line">   Serial Number: &#39;00123456&#39;</div>
</div><!-- fragment --><dl class="section user"><dt>Obtaining Bitfile Information</dt><dd></dd></dl>
<p>The <code>&ndash;info</code> parameter can also report information about bitfiles stored on the local host file system.</p>
<p>This example on a Unix-type host with a KONA X installed displays information about the bitfiles whose names start with “konal”: </p><div class="fragment"><div class="line">$ path/to/ntv2firmwareinstaller  --info /opt/aja/firmware/konal*.bit</div>
<div class="line">2 bitfile paths specified:</div>
<div class="line">Bitfile Path                       Device      Date       Time      Design            </div>
<div class="line">---------------------------------  ----------- ---------- --------  ------------------</div>
<div class="line">/opt/aja/firmware/konalheplus.bit  KonaLHe+    2018/06/27 12:39:26  lhe_12_pcie</div>
<div class="line">/opt/aja/firmware/konalhi.bit      KonaLHi     2012/05/21 15:25:30  top_pike</div>
<div class="line">  Running FW Rev: 0x00(0)</div>
<div class="line"> Running Bitfile: 2024/03/22 13:53:08</div>
<div class="line">    Main Bitfile: &#39;konax&#39; 2024/03/22 15:55:36</div>
<div class="line">Failsafe Bitfile: &#39;konax&#39; 2023/05/26 08:27:26</div>
<div class="line">   Serial Number: &#39;10421748&#39;</div>
</div><!-- fragment --><dl class="section user"><dt>Installing Firmware</dt><dd></dd></dl>
<p>This example on a macOS computer re-installs the T-Tap Pro firmware: </p><div class="fragment"><div class="line">% path/to/ntv2firmwareinstaller  -dttappro  --progress  &quot;/Library/Application Support/AJA/Firmware/ttappro.bit&quot;</div>
<div class="line">  Running FW Rev: 0x04(4)</div>
<div class="line"> Running Bitfile: 2021/08/11 10:38:22</div>
<div class="line">    Main Bitfile: &#39;t_tap_pro&#39; 2021/08/11 12:00:14</div>
<div class="line">Failsafe Bitfile: &#39;t_tap_pro&#39; 2020/07/14 11:42:00</div>
<div class="line">   Serial Number: &#39;02092022&#39;</div>
<div class="line">Installing firmware...</div>
<div class="line">## NOTE:  CNTV2FirmwareInstallerThread:  Firmware update started</div>
<div class="line">    bitfile: /Library/Application Support/AJA/Firmware/ttappro.bit</div>
<div class="line">     device: TTapPro &#39;02092022&#39; on &#39;localhost&#39; at index 0, S/N 02092022</div>
<div class="line">   firmware: /Library/Application Support/AJA/Firmware/ttappro.bit - 2021/08/11 12:00:14</div>
<div class="line">Erase status: 100%                  </div>
<div class="line">Program status: 100%                       </div>
<div class="line">Program verify: 100%                         </div>
<div class="line">## NOTE:  CNTV2FirmwareInstallerThread:  Firmware update completed</div>
<div class="line">    bitfile: /Library/Application Support/AJA/Firmware/ttappro.bit</div>
<div class="line">     device: TTapPro &#39;02092022&#39; on &#39;localhost&#39; at index 0, S/N 02092022</div>
<div class="line">   firmware: /Library/Application Support/AJA/Firmware/ttappro.bit - 2021/08/11 12:00:14</div>
<div class="line">Verifying...          </div>
<div class="line">  Running FW Rev: 0x04(4)</div>
<div class="line"> Running Bitfile: 2021/08/11 10:38:22</div>
<div class="line">    Main Bitfile: &#39;t_tap_pro&#39; 2021/08/11 12:00:14</div>
<div class="line">Failsafe Bitfile: &#39;t_tap_pro&#39; 2020/07/14 11:42:00</div>
<div class="line">   Serial Number: &#39;02092022&#39;</div>
<div class="line">## NOTE:  This host and/or AJA device must be power-cycled for the new firmware to load.</div>
<div class="line">Firmware installed - OK</div>
</div><!-- fragment --><hr  size="50px" />
<h1><a class="anchor" id="hevcmon-about"></a>
“HEVC Monitor”</h1>
<p>The NTV2 <b>HEVC Monitor</b> is a development tool that provides setup, control and state information for the <a class="el" href="../../d0/d53/ntv2devices.html#corvidhevc">Corvid HEVC</a> codec board, which is a standard NTV2 video video ingest board coupled with an HEVC hardware codec. The NTV2 driver controls both the NTV2 components and the HEVC codec.</p>
<p>The <b>HEVC Monitor</b> is a window into the NTV2 driver which tracks the hardware state and video transfer queues to and from the codec.</p>
<p>The normal NTV2 component state can be monitored using the standard <b>Watcher</b> and <b>Cables</b> applications.</p>
<p>The HEVC Monitor is a <b>Qt</b> application with a tabbed presentation. The layout of the interface is tightly coupled to the codec hardware and control architecture. The HEVC codec provides encoding setup registers and 3 transaction interfaces to control state and transfer video data.</p>
<p>The top line of the HEVC monitor contains a board selector and reset button. The reset button will reset the codec hardware and all driver control logic and queues. It should only be used when the codec is idle or has reached an irrecoverable error state. The result of a reset during codec operation will be random! The "Control" tab provides access to the codec command interface and encoding setup parameters. The "Stream" tab monitors the codec DMA interfaces and maintains statistics for the driver queues that stream data. The "Debug" tab provides driver and firmware revision information and can enable/disable driver debug output to the system log file.</p>
<h2><a class="anchor" id="hevcmon-tab-control"></a>
Control Tab</h2>
<p>The HEVC monitor control tab provides access to the codec command interface and encoding setup parameters.</p>
<div class="image">
<img src="../../hevcmon-controltab-75.png" alt=""/>
</div>
<p>The <b>Codec Commands</b> interface allows the user to send state change commands to the codec. The desired state is selected for the main, video input and encoder streams using the drop down boxes. The send buttons sends the request to the codec. The stream check boxes determine which streams receive the stream state commands. There is no filtering of the commands to insure the codec remains in an operational state. See the codec documentation for detailed descriptions of the codec state machine.</p>
<p>The <b>Codec State</b> data is the current state of the codec state machine. The main state will indicate <b>Boot</b> after a codec reset. The <b>Init</b> state indicates that the codec is ready to receive encode parameters. The <b>Encode</b> state indicates the codec is ready to encode. The encode mode can be <b>Single</b> or <b>Multiple</b> which controls how many streams the codec can encode. The Vin and Eh states can be <b>Stop</b> or <b>Start</b>. In the <b>Stop</b> state the encoder can be reconfigured using the codec parameters interface. In the <b>Start</b> state the codec is ready to encode video frames.</p>
<p>The <b>Codec Command Queue</b> information displays the current state of the NTV2 driver command queue. It contains the current count of the commands issued to the codec between resets and the current command queue level.</p>
<p>The <b>Codec Parameters</b> interface can load and dump codec encoding parameters. The binary directory is used to specify a directory containing the binary parameter files provided by the codec vendor. The codec parameters can also be saved and loaded from a single text file. The file is formatted as simple 32-bit address/value pairs that can be viewed with a text editor and compared using standard text file comparison applications. This can be useful in debugging encoder settings. There is also a parameter peek/poke interface to allow examining and changing individual parameter registers.</p>
<h2><a class="anchor" id="hevcmon-tab-stream"></a>
Stream Tab</h2>
<p>The <b>Stream</b> tab monitors the codec DMA interfaces and maintains statistics for the driver queues that stream data.</p>
<div class="image">
<img src="../../hevcmon-streamtab-75.png" alt=""/>
</div>
<p>The <b>Codec DMA Queue</b> interface displays the current state of the NTV2 driver codec queues. There is a raw video queue and a compressed HEVC queue. The transfer count is the number of DMA transfers operations completed by each queue. The queue level is the current number of transfers in the driver queue. The DMA submit value is the current number of DMA transfers issued to the codec. The DMA Ack value is the current number of acknowledge interrupts received from the codec. The DMA Msg value is the current number of DMA completion message interrupts received from the codec. For more information concerning the codec transactions see the codec documentation.</p>
<p>The <b>Codec Stream Statistics</b> contains counts and timing information for each of the codec streams. Sizes are displayed in bytes, time in microseconds and data rates in kilobytes per second.</p><ul>
<li><b>Transfer Count</b> &mdash; The number of transfers completed for this stream.</li>
<li><b>Avr Transfer Time</b> &mdash; The average time between transfers.</li>
<li><b>Min Transfer Size</b> &mdash; The minimum size of a video transfer.</li>
<li><b>Avr Transfer Size</b> &mdash; The average size of a video transfer.</li>
<li><b>Max Transfer Size</b> &mdash; The maximum size of a video transfer.</li>
<li><b>Min Copy Duration</b> &mdash; The minimum duration of a video frame bounce buffer copy. This is the software time required to copy the video frame.</li>
<li><b>Avr Copy Duration</b> &mdash; The average duration of a video frame bounce buffer copy. This is the software time required to copy the video frame.</li>
<li><b>Max Copy Duration</b> &mdash; The maximum duration of a video frame bounce buffer copy. This is the software time required to copy the video frame.</li>
<li><b>Min Enqueue Duration</b> &mdash; The minimum time between adding a DMA transfer to the queue and sending the DMA request to the codec.</li>
<li><b>Avr Enqueue Duration</b> &mdash; The average time between adding a DMA transfer to the queue and sending the DMA request to the codec.</li>
<li><b>Max Enqueue Duration</b> &mdash; The maximum time between adding a DMA transfer to the queue and sending the DMA request to the codec.</li>
<li><b>Min Send Duration</b> &mdash; The minimum, average and maximum time between sending a DMA request to the codec and the acknowledge interrupt from the codec.</li>
<li><b>Avr Send Duration</b> &mdash; The minimum, average and maximum time between sending a DMA request to the codec and the acknowledge interrupt from the codec.</li>
<li><b>Max Send Duration</b> &mdash; The minimum, average and maximum time between sending a DMA request to the codec and the acknowledge interrupt from the codec.</li>
<li><b>Min DMA Duration</b> &mdash; The minimum time between the codec acknowledge interrupt and completion message interrupt. This is the hardware time required for the DMA transfer.</li>
<li><b>Avr DMA Duration</b> &mdash; The average time between the codec acknowledge interrupt and completion message interrupt. This is the hardware time required for the DMA transfer.</li>
<li><b>Max DMA Duration</b> &mdash; The maximum time between the codec acknowledge interrupt and completion message interrupt. This is the hardware time required for the DMA transfer.</li>
<li><b>Min Dequeue Duration</b> &mdash; The minimum time between the adding a transfer to the DMA queue and releasing the queue entry. This is the software time required for the DMA transfer.</li>
<li><b>Avr Dequeue Duration</b> &mdash; The average time between the adding a transfer to the DMA queue and releasing the queue entry. This is the software time required for the DMA transfer.</li>
<li><b>Max Dequeue Duration</b> &mdash; The maximum time between the adding a transfer to the DMA queue and releasing the queue entry. This is the software time required for the DMA transfer.</li>
<li><b>Avr Total Duration</b> &mdash; The total software time required for the video transfer.</li>
<li><b>Avr DMA Rate</b> &mdash; The average hardware DMA data rate.</li>
<li><b>Avr Data Rate</b> &mdash; The average stream data rate.</li>
</ul>
<p>The DMA duration of the HEVC stream does not reflect the actual hardware DMA time. It appears the codec stalls this DMA operation until a frame is available. This also affects the calculation of the HEVC stream DMA rate.</p>
<p>There is a <b>Reset Statistics</b> button that can be used to restart the statistics tracking at any time. </p>
<h2><a class="anchor" id="hevcmon-tab-debug"></a>
Debug Tab</h2>
<p>The <b>Debug</b> tab provides driver and firmware revision information and can enable/disable driver debug output to the system log file.</p>
<div class="image">
<img src="../../hevcmon-debugtab-75.png" alt=""/>
</div>
<p>The <b>Driver Debug Output</b> check boxes enable various debug messages from the NTV2 driver. The messages are written to the system driver debug output log. In linux, messages can be monitored using: </p><div class="fragment"><div class="line">$ sudo tail –f /var/log/syslog</div>
</div><!-- fragment --><p>In Windows, use the <b>dbgview</b> application from the Microsoft Technet website.</p>
<p>Driver debug messages can be very useful in debugging all types of software and hardware issues. The driver debug information is categorized into several subsystems. The info messages are usually one per driver call for monitoring how the driver is being driven by the application or the operating system. The state messages contain more detail on how the driver performs operations. The error messages are warnings and errors that usually require developer attention. <br  />
</p>
<p>The initial info, warning and error information relates mostly to driver loading and unloading. The interrupt category messages are reported from the interrupt routines. The command, <b>vei</b> (raw video) and <b>seo</b> (encodec video) information relate to the interrupt driver requests to the codec. The register category will log all codec register access. The command and stream categories are for monitoring the codec command and streaming transfer operations. The DMA category messages detail the setup of the DMA registers. There are also categories for bounce buffer allocation and driver status information requests.</p>
<p>The debug tab also contains version information for the NTV2 codec driver and internal codec software and firmware.</p>
<hr  size="50px" />
<h1><a class="anchor" id="usinglogjammer"></a>
‘logjammer’ Command-Line Utility</h1>
<dl class="section user"><dt>Description</dt><dd></dd></dl>
<p>A command-line tool that generates <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> log messages.</p>
<dl class="section user"><dt>Synopsis</dt><dd></dd></dl>
<div class="fragment"><div class="line">logjammer [OPTION...]</div>
<div class="line">  -i, --index=0 thru 84                       Message group to use (defaults to 4)</div>
<div class="line">  -s, --severity=deb|inf|not|warn|err|...     Message severity to use (defaults to Debug)</div>
<div class="line"> </div>
<div class="line">  -r, --rate=messages per second              Message log rate (robotic mode)</div>
<div class="line"> </div>
<div class="line">Help options:</div>
<div class="line">  -?, --help                                  Show this help message</div>
<div class="line">      --usage                                 Show brief usage message</div>
</div><!-- fragment --><dl class="section user"><dt>Generating Messages</dt><dd></dd></dl>
<p>By default, <b>logjammer</b> posts one message per line read from standard input, using the message group UserGeneric (4) and Debug severity.</p>
<p>For example, on a Unix-type operating system, this will copy log messages from a web server into the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility: </p><div class="fragment"><div class="line">$ tail -f /var/log/apache2/httpd.log | ./bin/logjammer</div>
</div><!-- fragment --><p>Use the <b>&ndash;index</b> (<b>-i</b>) parameter to specify the message group for all generated messages. For example…</p>
<div class="fragment"><div class="line">$ ./bin/logjammer  -i10</div>
</div><!-- fragment --><p>Use the <b>&ndash;severity</b> (<b>-s</b>) parameter to specify the severity for all generated messages. For example…</p>
<div class="fragment"><div class="line">$ ./bin/logjammer  --severity inf</div>
</div><!-- fragment --><dl class="section user"><dt>Robotic Mode</dt><dd></dd></dl>
<p>This mode generates messages automatically at a specified rate. When in this mode, standard input is not read.</p>
<p>The <b>&ndash;rate</b> (<b>-r</b>) parameter is used for this mode. It expects a single, non-zero, unsigned decimal value to specify the number of messages to generate every second.</p>
<hr  size="50px" />
<h1><a class="anchor" id="usinglogreader"></a>
‘logreader’ Command-Line Utility</h1>
<dl class="section user"><dt>Description</dt><dd></dd></dl>
<p>A command-line tool that streams <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> log messages to standard output (or standard error).</p>
<dl class="section user"><dt>Synopsis</dt><dd></dd></dl>
<div class="fragment"><div class="line">logreader [OPTION...]</div>
<div class="line">  -u, --unit=[*|?]{{+|-}{0-84}}[...]                        debug unit filter</div>
<div class="line">  -s, --severity=[*|?]{{+|-}{deb|inf|not|warn|err}}[...]    severity level filter</div>
<div class="line">  --pid=process ID                                          process ID filter</div>
<div class="line">  --tid=thread ID                                           thread ID filter</div>
<div class="line">  -t, --threshold=deb|inf|not|warn|err|assert|alert|emerg   stderr severity threshold</div>
<div class="line">  --setdu                                                   set debug units</div>
<div class="line">  --stats                                                   show active stats, then exit</div>
<div class="line">  -v  --verbose                                             show extra information when starting</div>
<div class="line">  -V, --version                                             shows debug facility version</div>
<div class="line">Help options:</div>
<div class="line">  -?, --help                                                Show this help message</div>
<div class="line">      --usage                                               Show brief usage message</div>
</div><!-- fragment --><ul>
<li>The executable is shipped pre-built with the SDK, and appears in the “<b>bin</b>” directory.</li>
<li>Source code is provided in the SDK.</li>
</ul>
<dl class="section user"><dt>Filtering by Message Severity</dt><dd></dd></dl>
<p>By default, <b>logreader</b> reports all messages regardless of message severity. Each severity can be specified by a <b>severity identifier</b> (which correspond to the <a class="el" href="../../d0/db4/debugshare_8h.html#ab79e9b7969ef5d20032e96ff229a7186">AJADebugSeverity</a> enumeration values):</p><ul>
<li><b>Emergency</b> (or <b>0</b>)</li>
<li><b>Alert</b> (or <b>1</b>)</li>
<li><b>Assert</b> (or <b>2</b>)</li>
<li><b>Error</b> (or <b>3</b>)</li>
<li><b>Warning</b> (or <b>4</b>)</li>
<li><b>Notice</b> (or <b>5</b>)</li>
<li><b>Info</b> (or <b>6</b>)</li>
<li><b>Debug</b> (or <b>7</b>)</li>
</ul>
<p>The <b>&ndash;severity</b> or <b>-s</b> option allows you to specify which severities to display.</p>
<p>The parameter value is a sequence of <b>severity identifiers</b> that each are preceded by:</p><ul>
<li><b>+</b> (to <b>include</b>), or…</li>
<li><b>-</b> (to <b>exclude</b>).</li>
</ul>
<p>The parameter value can also start with <b>*</b> (an asterisk) to mean “all” severities.</p>
<p>A <b>?</b> (question mark) placed anywhere in the parameter will display a help message and terminate the tool: </p><div class="fragment"><div class="line">$ ./bin/logreader  -s&quot;?&quot;</div>
<div class="line">## Legal severity values:  debug|info|notice|warning|error|assert|alert|emergency</div>
<div class="line">## Precede with &#39;+&#39; to include, or &#39;-&#39; to exclude;  start with &#39;*&#39; to specify &#39;everything&#39;</div>
<div class="line">## EXAMPLE:  --severity=&quot;*-debug-info&quot;   Show all except Debug and Info messages</div>
<div class="line">## EXAMPLE:  --severity=+notice+warn     Show only Notice and Warning messages</div>
</div><!-- fragment --><p>Order and case is irrelevant, and identifiers can be repeated. They’re parsed left-to-right, so the right-most specification “wins”. They can also be abbreviated to the smallest number of letters that uniquely identify it.</p>
<p>To display all messages, regardless of severity, omit the <b>-s</b> parameter, or use this: </p><div class="fragment"><div class="line">$ ./bin/logreader  -s&quot;*&quot;</div>
</div><!-- fragment --><p>To display all messages except those having <b>Debug</b> or <b>Info</b> severities, use the “all except” form: </p><div class="fragment"><div class="line">$ ./bin/logreader  --severity &quot;*-debug-info&quot;</div>
</div><!-- fragment --><p>To display only <b>Notice</b> or <b>Warning</b> severities: </p><div class="fragment"><div class="line">$ ./bin/logreader  -s+not+warn</div>
<div class="line">$ ./bin/logreader  -s+5+4</div>
<div class="line">$ ./bin/logreader  -s+debug+info+notice+warning+error+assert+alert+emergency-alert-emergency-assert-error-info-debug</div>
</div><!-- fragment --><dl class="section user"><dt>Filtering by Message Debug Unit (Groups)</dt><dd></dd></dl>
<p>By default, <b>logreader</b> reports all messages whose <b>Debug Unit</b>s are <b>Enabled</b>. These are the messages that are allowed to enter the global ring buffer on the host computer.</p>
<p><a class="el" href="../../db/d02/toolsandutilities.html#usingajalogger">“AJA Logger”</a> has a configuration dialog that allows you to choose which <b>Debug Unit</b>’s messages to allow into the buffer (see logger-config ).</p>
<p>Each <b>Debug Unit</b> can be specified by a <b>Debug Unit identifier</b> (which correspond to the <a class="el" href="../../d0/db4/debugshare_8h.html#ab39be81b481f6034a234f5b36f54581e">AJADebugUnit</a> enumeration values):</p><ul>
<li><b>Unknown</b> (or <b>0</b>)</li>
<li><b>Critical</b> (or <b>1</b>)</li>
<li><b>DriverGeneric</b> (or <b>2</b>)</li>
<li><b>ServiceGeneric</b> (or <b>3</b>)</li>
<li><b>UserGeneric</b> (or <b>4</b>)</li>
<li><b>VideoGeneric</b> (or <b>5</b>)</li>
<li><b>AudioGeneric</b> (or <b>6</b>)</li>
<li><b>TimecodeGeneric</b> (or <b>7</b>)</li>
<li><b>AncGeneric</b> (or <b>8</b>)</li>
<li><b>RoutingGeneric</b> (or <b>9</b>)</li>
<li><b>StatsGeneric</b> (or <b>10</b>)</li>
<li><b>Enumeration</b> (or <b>11</b>)</li>
<li><b>Application</b> (or <b>12</b>)</li>
<li><b>QuickTime</b> (or <b>13</b>)</li>
<li><b>ControlPanel</b> (or <b>14</b>)</li>
<li><b>Watcher</b> (or <b>15</b>)</li>
<li><b>Plugins</b> (or <b>16</b>)</li>
<li><b>CCLine21Decode</b> (or <b>17</b>)</li>
<li><b>CCLine21Encode</b> (or <b>18</b>)</li>
<li><b>CC608DataQueue</b> (or <b>19</b>)</li>
<li><b>CC608MsgQueue</b> (or <b>20</b>)</li>
<li><b>CC608Decode</b> (or <b>21</b>)</li>
<li><b>CC608DecodeChannel</b> (or <b>22</b>)</li>
<li><b>CC608DecodeScreen</b> (or <b>23</b>)</li>
<li><b>CC608Encode</b> (or <b>24</b>)</li>
<li><b>CC708Decode</b> (or <b>25</b>)</li>
<li><b>CC708Service</b> (or <b>26</b>)</li>
<li><b>CC708ServiceBlockQueue</b> (or <b>27</b>)</li>
<li><b>CC708Window</b> (or <b>28</b>)</li>
<li><b>CC708Encode</b> (or <b>29</b>)</li>
<li><b>CCFont</b> (or <b>30</b>)</li>
<li><b>SMPTEAnc</b> (or <b>31</b>)</li>
<li><b>AJAAncData</b> (or <b>32</b>)</li>
<li><b>AJAAncList</b> (or <b>33</b>)</li>
<li><b>BFT</b> (or <b>34</b>)</li>
<li><b>PnP</b> (or <b>35</b>)</li>
<li><b>Persistence</b> (or <b>36</b>)</li>
<li><b>Avid</b> (or <b>37</b>)</li>
<li><b>DriverInterface</b> (or <b>38</b>)</li>
<li><b>AutoCirculate</b> (or <b>39</b>)</li>
<li><b>NMOS</b> (or <b>40</b>)</li>
<li><b>App_DiskRead</b> (or <b>41</b>)</li>
<li><b>App_DiskWrite</b> (or <b>42</b>)</li>
<li><b>App_Decode</b> (or <b>43</b>)</li>
<li><b>App_Encode</b> (or <b>44</b>)</li>
<li><b>App_DMA</b> (or <b>45</b>)</li>
<li><b>App_Screen</b> (or <b>46</b>)</li>
<li><b>App_User1</b> (or <b>47</b>)</li>
<li><b>App_User2</b> (or <b>48</b>)</li>
<li><b>Anc2110Xmit</b> (or <b>49</b>)</li>
<li><b>Anc2110Rcv</b> (or <b>50</b>)</li>
<li><b>DemoPlayout</b> (or <b>51</b>)</li>
<li><b>DemoCapture</b> (or <b>52</b>)</li>
<li><b>CSC</b> (or <b>53</b>)</li>
<li><b>LUT</b> (or <b>54</b>)</li>
<li><b>Cables</b> (or <b>55</b>)</li>
<li>…plus the “unused” set <b>56</b> thru <b>84</b></li>
</ul>
<p>The <b>&ndash;unit</b> or <b>-u</b> option allows you to specify which <b>Debug Unit</b>(s) to display.</p>
<p>The parameter value is a sequence of <b>Debug Unit identifiers</b> that each must be preceded by:</p><ul>
<li><b>+</b> (to <b>include</b>), or…</li>
<li><b>-</b> (to <b>exclude</b>).</li>
</ul>
<p>The parameter value can also start with <b>*</b> (an asterisk) to mean “all” <b>Debug Units</b>.</p>
<p>A <b>?</b> (question mark) placed anywhere in the parameter will display a help message and terminate the tool: </p><div class="fragment"><div class="line">$ ./bin/logreader  -u&quot;?&quot;</div>
<div class="line">## Legal debug units:  Unknown|Critical|DriverGeneric|ServiceGeneric|UserGeneric|VideoGeneric|AudioGeneric|…</div>
<div class="line">## Precede with &#39;+&#39; to include, or &#39;-&#39; to exclude;  start with &#39;*&#39; to specify &#39;everything&#39;</div>
<div class="line">## EXAMPLE:  -u&quot;*-AncGeneric-CC608Decode&quot;       Show all except AncGeneric &amp; CC608Decode messages</div>
<div class="line">## EXAMPLE:  -u+DriverInterface+AutoCirculate   Show only DriverInterface &amp; AutoCirculate messages</div>
</div><!-- fragment --><p>Order and case is irrelevant, and identifiers can be repeated. They’re parsed left-to-right, so the right-most specification “wins”. They can also be abbreviated to the smallest number of letters that uniquely identify it.</p>
<p>To display all messages, regardless of <b>Debug Unit</b>, omit the <b>-u</b> parameter, or use this: </p><div class="fragment"><div class="line">$ ./bin/logreader  -u&quot;*&quot;</div>
</div><!-- fragment --><p>To display all messages except those in the <b>AncGeneric</b> and <b>CC608Decode</b> groups, use the “all except” form: </p><div class="fragment"><div class="line">$ ./bin/logreader  --unit &quot;*-AncGeneric-CC608Decode&quot;</div>
</div><!-- fragment --><p>To display only messages from the <b>DriverInterface</b> and <b>AutoCirculate</b> groups: </p><div class="fragment"><div class="line">$ ./bin/logreader  -u+driverint+autocirc</div>
<div class="line">$ ./bin/logreader  -u+38+39</div>
<div class="line">$ ./bin/logreader  -u+39+driverint</div>
</div><!-- fragment --><p>Use the <b>&ndash;enable</b> option to forcibly <b>Enable</b> the specified <b>Debug Units</b> and permit messages of those groups to enter the global ring buffer on the host computer. For example, to <b>Enable</b> (and also monitor) only messages from the <b>DriverInterface</b> and <b>AutoCirculate</b> groups: </p><div class="fragment"><div class="line">$ ./bin/logreader  --enable  --unit +DriverInterface+AutoCirculate   -v</div>
<div class="line">## NOTE: Filtering: Showing 2 debug unit(s): +DriverInterface+AutoCirculate</div>
<div class="line">## NOTE: Selected debug unit(s) AJADebug::Enable&#39;d -- all others AJADebug::Disable&#39;d</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Using the <b>&ndash;enable</b> option will affect what’s displayed in all running instances of <a class="el" href="../../db/d02/toolsandutilities.html#usingajalogger">“AJA Logger”</a> and <b>logreader</b>.</dd></dl>
<dl class="section user"><dt>Logging to Files</dt><dd></dd></dl>
<p>Use the host operating system’s own output redirection facility to stream <b>logreader</b>’s output to a file. </p><div class="fragment"><div class="line">$ ./bin/logreader  &gt;/home/bozo/logfile.txt</div>
</div><!-- fragment --><p>By default, all <b>logreader</b> output is streamed to the standard output stream.</p>
<p>Use the <b>&ndash;threshold</b> or <b>-t</b> option to split the message output into two different streams based on the message’s severity.</p>
<p>To route all messages of severity <b>Info</b> and below into file “debuginfo.txt” and all other messages into another file “errors.txt”: </p><div class="fragment"><div class="line">$ ./bin/logreader  --threshold Info  2&gt;debuginfo.txt  &gt;errors.txt</div>
<div class="line">## NOTE: Messages higher than severity &#39;info&#39; will be written to stderr; all others to stdout</div>
</div><!-- fragment --><dl class="section user"><dt>Custom Formatting</dt><dd></dd></dl>
<p>By default, <b>logreader</b> writes the following information fields to the output stream, each field delimited by a single horizontal tab character (ASCII 0x08), and each message delimited by the default platform-specific “newline” character (<code>≺CR≻≺LF≻</code> on Windows, and <code>≺LF≻</code> on Mac and Linux):</p><ul>
<li><b>Message Index Number</b> (unsigned decimal number)</li>
<li><b>Process ID</b> (unsigned decimal number)</li>
<li><b>Thread ID</b> (unsigned decimal number)</li>
<li><b>Time Stamp</b> (unsigned 64-bit number, host OS high-resolution tick count)</li>
<li><b>Debug Unit</b> (string/name)</li>
<li><b>Severity</b> (string/name)</li>
<li><b>Source File</b> (full path, string)</li>
<li><b>Source Line Number</b> (unsigned decimal number)</li>
<li><b>Message Text</b> (string)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Some messages incorporate multiple lines of text, each line separated by the “newline” character(s) appropriate for the platform that produced the message.</dd></dl>
<p>This default output can be customized to some extent using the <b>&ndash;format</b> or <b>-f</b> option. Its parameter value is a character string that can contain escape sequences that get replaced with message field data.</p>
<p>The valid escape sequences are as follows:</p><ul>
<li><b>I</b> Message Index Number</li>
<li><b>p</b> Process ID</li>
<li><b>t</b> Thread ID</li>
<li><b>T</b> Time Stamp</li>
<li><b>D</b> Debug unit</li>
<li><b>S</b> Severity</li>
<li><b>P</b> Full source file path</li>
<li><b>F</b> Source folder path (part of full source file path)</li>
<li><b>N</b> Source file name (part of full source file path, includes extension)</li>
<li><b>n</b> Source file base name (part of source file name, excludes extension)</li>
<li><b>x</b> Source file name extension (part of file name)</li>
<li><b>L</b> Source file line number</li>
<li><b>M</b> Message text</li>
<li><b>%%</b> Percent sign</li>
<li><b><br  />
</b> Line Feed (<code>0x0A</code> )</li>
<li><b>\f</b> Form Feed (<code>0x0C</code> )</li>
<li><b>\r</b> Carriage Return (<code>0x0D</code> )</li>
<li><b>\</b> Backslash (<code>0x5C</code> )</li>
<li><b><em></em> </b> Bell (<code>0x07</code> )</li>
<li><b><b></b> </b> Backspace (<code>0x08</code> )</li>
<li><b>\t</b> Horizontal Tab (<code>0x09</code> )</li>
<li><b>\v</b> Vertical Tab (<code>0x0B</code> )</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>When using custom formatting, <b>logreader</b> does not emit a line break after each message. If you need a line break after each message (or before each message), be sure to put one into the parameter string (e.g. <code>"%T\t%M\n"</code> ).</dd></dl>
<p><b>Example:</b> To emit the default output, omit the <b>&ndash;format</b> or <b>-f</b> option, or do this: </p><div class="fragment"><div class="line">$ ./bin/logreader  --format &quot;%I\t%p\t%t\t%T\t%D\t%S\t%P\t%L\t%M\n&quot;</div>
</div><!-- fragment --><p><b>Example:</b> To emit the default output, but use a <b>Comma</b> instead of a <b>Horizontal Tab</b> character as the field delimiter: </p><div class="fragment"><div class="line">$ ./bin/logreader  --format &quot;%I,%p,%t,%T,%D,%S,%P,%L,%M\n&quot;</div>
</div><!-- fragment --><hr  size="50px" />
<h1><a class="anchor" id="usingntv2watcher"></a>
“NTV2Watcher”</h1>
<p>This page describes how to use the <b>NTV2 Watcher</b> tool to interactively monitor and control an AJA device.</p><ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorgeneralop">General Operation</a><ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#watcherdevselect">Device Selection</a></li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#watchermenucommands">Menu Commands</a></li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#watchercommonsettings">Common Settings</a></li>
</ul>
</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#watcherinspectors">Inspectors</a><ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> — Views/edits device frame buffer memory</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectoraudio">Audio Inspector</a> — Views/edits device audio buffer memory</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a> — Monitors device ancillary data</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorac">AutoCirculate Inspector</a> — Monitors driver <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> status</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectormixerkeyer">Mixer/Keyer Inspector</a> — Views/edits Mixer/Keyer state</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorlut">LUT Inspector</a> — Views/edits LUTs</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorregs">Registers Inspector</a> — Views/edits registers</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorroute">Routing Inspector</a> — Views/edits device widget routing</li>
</ul>
</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#watchertools">Tool Windows</a><ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#fillbufferdlog">“Fill Buffer” Tool</a> — for changing the contents of frame buffer memory</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#anc608viewer">“EIA/CEA-608 Caption” Tool</a> — for viewing/setting EIA608 captions</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#regautocycler">“Register Cycler” Tool</a> — for periodically changing a register value</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#tonegenerator">“Tone Generator” Tool</a> — writes tone values into an audio buffer</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#memmapdlog">“Memory Map” Tool</a> — shows device memory utilization</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#scraptool">“Scrap Buffer” Tool</a> — displays contents of arbitrary host buffers</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#demostool">“SDK Demos” Tool</a> — configures and runs demo apps</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#debugstats">“AJADebug Stats” Tool</a> — displays AJA debug stats</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#debuglog">“AJADebug Log” Tool</a> — displays AJA debug logs</li>
</ul>
</li>
<li>Global Settings<ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#watcherprefs">NTV2Watcher Preferences</a> — Sets global preferences</li>
</ul>
</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectorgeneralop"></a>
General Operation</h2>
<p>The <b>NTV2 Watcher</b> is a graphical tool that interactively monitors and configures an NTV2 device.</p>
<div class="image">
<img src="../../watcherlayout.png" alt=""/>
</div>
<p>The user interface consists of a main window that contains these major elements:</p><ul>
<li><b>Common Device Controls</b> — These Toolbars are common to all devices (and can be undocked, if desired):<ul>
<li><b>Device Selection</b> Toolbar — for selecting which device to monitor/control;</li>
<li><b>Common Controls</b> Toolbar — for changing the poll rate, task mode, and other “global” aspects of the device.</li>
</ul>
</li>
<li><b>Inspector List</b> — for selecting which aspect of the device to inspect and/or control;</li>
<li><b>Inspector Display Area</b> — the main data display area;</li>
<li><b>Status Bar</b> — which holds the status indicators:<ul>
<li><b>Status Message</b> — Some inspectors will display messages here in certain situations.</li>
<li><b>Selection Indicator</b> — Some inspectors allow data portions to be selected interactively using the keyboard or mouse. This part of the Status Bar briefly describes the current selection.</li>
<li><b>Endianness</b> — Some inspectors display 2, 4, or 8-byte numbers. This indicator shows the current endianness of the data display as <b>BE</b> (“Big Endian”) or <b>LE</b> (“Little Endian”).<ul>
<li>It’s colored <b>Green</b> if it’s the native endianness for the host processor.</li>
<li>It’s colored <b>Yellow</b> if it’s not native.</li>
</ul>
</li>
<li><b>Die Temperature</b> — Indicates the instantaneous measured die temperature of the device’s FPGA, in degrees Celcius by default.<ul>
<li>The color changes depending on the temperature; it’s <b>Green</b> if the temperature is at or below normal; <b>Yellow</b> if slightly above normal; or <b>Red</b> if significantly above normal.</li>
<li>Hovering the mouse pointer over the temperature display pops up a tooltip that reveals additional thermal details about the device:<ul>
<li>The die temperature given in both Celcius and Fahrenheit.</li>
<li>A notice if the temperature is slightly above normal (warm) or warning if significantly above normal.</li>
</ul>
</li>
<li>Right-clicking on the temperature display pops up a menu for choosing the desired temperature scale. Choose either “Celcius” or “Fahrenheight”. The new setting is remembered for subsequent launches of NTV2Watcher.</li>
</ul>
</li>
<li><b>Refresh Rate</b> — Indicates the actual measured refresh rate of the main window’s active inspector (a moving average).<ul>
<li>The refresh rate of detached inspector windows is not measured.</li>
<li>The indicator shows “N/A” when polling is disabled (i.e. when the <b>Poll</b> checkbox is not checked/ticked).</li>
<li>The indicator is <b>Green</b> if the measured refresh rate is what’s expected:<ul>
<li>For inspectors tied to the VBI, it must be no more than the expected frame rate.</li>
<li>For all other inspectors, it must be no greater than the polling <b>Interval</b> slider setting.</li>
</ul>
</li>
<li>It’s colored <b>Yellow</b> if the measured rate lags the expected rate by less than about 5%.</li>
<li>It’s colored <b>Red</b> if the measured rate lags the expected rate by more than approximately 5%.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="watcherdevselect"></a>
Device Selection</h3>
<p>A single instance of <b>NTV2 Watcher</b> monitors and/or controls one AJA device at a time. This panel provides a menu for choosing which AJA device the tool will focus on.</p>
<p>The top of the menu is populated with devices that are installed or attached directly to the host. It’s followed by the “<b>Manage Other Devices…</b>” command, which opens the <b>Manage Devices</b> tool window. The bottom section of the menu is populated with the <b>Known Remote Devices</b> (see below).</p>
<p>Choosing a different device in the menu causes <b>NTV2Watcher</b> to stop monitoring the previously-selected device, and starts monitoring the newly-selected one. Depending on the device and its capabilities, the list of available inspectors may change.</p>
<p><b>“Manage Devices” Window</b></p>
<div class="image">
<img src="../../watcher-deviceselection.png" alt=""/>
</div>
<p>This tool window is for…</p><ul>
<li><b>Remote Devices</b> — to find remote devices on other hosts in your LAN to monitor and/or control:<ul>
<li>To add a remote device to the list of <b>Known Remote Devices</b>:<ul>
<li>Type its IP address or DNS name in the provided text box.</li>
<li>If the remote “nub” uses a port number other than 7575, enter its port number in the <b>Port:</b> box.</li>
<li>When NTV2Watcher is able to successfully communicate with the remote “nub”, the <b>Add</b> button will become enabled.</li>
<li>Click <b>Add</b> to add the remote device to the <b>Known Remote Devices</b> list.</li>
</ul>
</li>
<li>To remove a remote device from the <b>Known Remote Devices</b> list:<ul>
<li>Right-click on the remote device to be removed.</li>
<li>Choose the appropriate <b>Remove</b> command from the menu.</li>
</ul>
</li>
</ul>
</li>
<li><b>Publish Devices</b> — to publish a locally attached/installed host device (to allow other hosts to connect to it).<ul>
<li>This runs or stops a local “NTV2 Nub” server.</li>
</ul>
</li>
<li><b>Software Devices</b> — to configure AJA “software” devices.</li>
</ul>
<h3><a class="anchor" id="watchermenucommands"></a>
Menu Commands</h3>
<p>Here’s what’s in the menu bar:</p><ul>
<li><b>File</b> Menu<ul>
<li><b>Save As…</b> — Saves (exports) “raw” data for the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> and <a class="el" href="../../db/d02/toolsandutilities.html#inspectoraudio">Audio Inspector</a>.</li>
<li><b>Print…</b> — Prints the diagram and code panels for the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorroute">Routing Inspector</a>.</li>
<li><b>Quit</b> (Linux &amp; Windows only) — Closes/exits the tool.</li>
</ul>
</li>
<li><b>Edit</b> Menu<ul>
<li><b>Cut</b> — Disabled.</li>
<li><b>Copy</b> — Copies the currently highlighted/selected data, if any, to the host computer’s clipboard.</li>
<li><b>Paste</b> — Pastes the host computer’s clipboard contents into the current inspector’s data view, if possible.</li>
<li><b>Clear</b> — Deletes or zero’s the currently highlighted/selected data, if possible.</li>
<li><b>Select All</b> — Highlights/selects everything in the current inspector’s data view, if possible.</li>
</ul>
</li>
<li><b>View</b> Menu<ul>
<li><b>Memory Map</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#memmapdlog">“Memory Map” Tool</a>.</li>
<li><b>CEA608 Monitor</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#anc608viewer">“EIA/CEA-608 Caption” Tool</a>.</li>
<li><b>Fill Buffers</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#fillbufferdlog">“Fill Buffer” Tool</a>.</li>
<li><b>Register Cycler</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#regautocycler">“Register Cycler” Tool</a>.</li>
<li><b>Tone Generator</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#tonegenerator">“Tone Generator” Tool</a>.</li>
<li><b>Scrap Buffer</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#scraptool">“Scrap Buffer” Tool</a>.</li>
<li><b>SDK Demos</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#demostool">“SDK Demos” Tool</a>.</li>
<li><b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Stats</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#debugstats">“AJADebug Stats” Tool</a>.</li>
<li><b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Log</b> — Shows/Hides the <a class="el" href="../../db/d02/toolsandutilities.html#debuglog">“AJADebug Log” Tool</a>.</li>
<li><b>Register Name</b> — <em>(IP Device inspectors only)</em> —&#160;Shows/Hides register names.</li>
<li><b>Hex Reg Numbers</b> — <em>(IP Device inspectors only)</em> —&#160;Toggles showing IP Device register numbers in hexadecimal or decimal.</li>
<li><b>Register Address</b> — <em>(IP Device inspectors only)</em> —&#160;Displays IP Device registers as a hexadecimal (BAR) address.</li>
<li><b>Register Offset</b> — <em>(IP Device inspectors only)</em> —&#160;Displays IP Device registers as a byte offset (from base address).</li>
<li><b>Register Number</b> — <em>(IP Device inspectors only)</em> —&#160;Displays IP Device registers as an index number (normally ¼ the byte offset).</li>
<li><b>Register Number Offset</b> — <em>(IP Device inspectors only)</em> —&#160;.</li>
</ul>
</li>
<li><b>Help</b> Menu<ul>
<li><b>SDK Support Login</b> — Opens your web browser to the AJA SDK Support site’s home/login page.</li>
<li><b>Generate Support Log</b> — Generates a “register log” (aka “support log”) file, which is essential for AJA SDK Support staff to diagnose issues and ascertain the state of the AJA device.</li>
<li><b>Capture SDRAM Contents</b> — Records the contents of device SDRAM into a “.raw” binary data file. This may be requested on rare occasion by AJA SDK Support staff in order to diagnose certain issues.</li>
<li><b>SDK Documentation</b> — Opens your web browser to the main page of the online SDK Documentation.</li>
<li><b>NTV2Watcher User Guide</b> — Opens your web browser to the online <a class="el" href="../../db/d02/toolsandutilities.html#usingntv2watcher">“NTV2Watcher”</a> User Guide.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="watchercommonsettings"></a>
Common Settings</h3>
<div class="image">
<img src="../../watcher-commonsettings.png" alt=""/>
</div>
<p>There are several settings that are common to the device and apply to all inspectors:</p><ul>
<li><b>Poll</b> — Indicates and controls automatic device polling.<ul>
<li>Check/tick the box to repeatedly poll the device, and automatically update all active/visible inspectors.<ul>
<li>When polling is enabled, the <b>Polling Interval</b> slider appears, while the <b>Refresh</b> button will disappear.</li>
</ul>
</li>
<li>Un-check/un-tick the box to “freeze” all active/visible inspectors.<ul>
<li>When polling is disabled, a <b>Refresh</b> button appears, while the <b>Polling Interval</b> slider will disappear.</li>
</ul>
</li>
</ul>
</li>
<li><b>Refresh</b> — Push this button to immediately update and refresh all active/visible inspectors.<ul>
<li>This control is visible only when polling is disabled. It’s hidden when polling is enabled.</li>
</ul>
</li>
<li><b>Interval</b> — Adjusts the polling interval, from 25 milliseconds up to 2 seconds.<ul>
<li>This control is visible only when polling is enabled. It’s hidden when polling is disabled.</li>
<li>The <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> and <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a> are sync’d to an input/output/reference VBI, and ignore this setting when polling is enabled.</li>
</ul>
</li>
<li><b>Task Mode</b> — Indicates the device’s current task mode, and allows it to be changed.</li>
<li><b>Multi-Format Mode</b> — Indicates the device’s “multi-format” mode, and allows it to be changed.</li>
<li><b>Reference</b> — Indicates the device’s current clock reference setting, and allows it to be changed.</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="watcherinspectors"></a>
Inspectors</h2>
<div class="image">
<img src="../../watcher-inspectorlist.png" alt=""/>
</div>
<p>There are a number of inspectors shown in the list at the left side of the window, only one of which can be selected at any given time. This list may change if more capabilities are added to <b>NTV2 Watcher</b> in subsequent SDK releases.</p>
<p>Each inspector has its own particular user interface that’s designed to monitor and/or control a specific aspect of the AJA device.</p>
<p>Clicking on an inspector item in the list replaces the one that’s currently displayed in the main window to the newly-selected one. If the newly-selected inspector was previously in use for the current device, its state will be exactly as it was left. (Only when the device is changed does a new inspector get started in its default state.)</p>
<p>Right-clicking an inspector item in the list pops up a context menu</p><ul>
<li>“<b>Move to Separate Window</b>” — Opens or moves the inspector to a separate window. This permits multiple inspectors to be viewed simultaneously.</li>
<li>“<b>Preferences…</b>” — If present, opens (or activates) the <a class="el" href="../../db/d02/toolsandutilities.html#watcherprefs">NTV2Watcher Preferences</a> dialog, and activates the chosen inspector’s tab.</li>
</ul>
<p>Double-clicking on an inspector item in the list does the same thing as choosing the “<b>Move to Separate Window</b>” context menu item.</p>
<dl class="section note"><dt>Note</dt><dd>Having multiple inspectors open in separate windows increases NTV2 Watcher CPU utilization, and can significantly impact the DMA transfer budget of the device and the PCIe bus.</dd></dl>
<dl class="bug"><dt><b><a class="el" href="../../de/da5/bug.html#_bug000003">Bug:</a></b></dt><dd>NTV2Watcher keeps some persistent settings data in a local config file. If this file gets corrupted, it can cause NTV2Watcher to hang or crash upon startup. To work around this issue:<ul>
<li><b>Linux</b> — Delete the ‘NTV2Watcher.conf’ file from your local app data folder ‘~/.config/aja’.</li>
<li><b>Mac OS</b> — Delete the ‘NTV2Watcher’ folder from your local app data (in ‘/Users/<em>username</em>/Library/Application Support/AJA’).</li>
<li><b>Windows</b> — Delete the ‘NTV2Watcher’ folder from your local app data (in ‘/Users/<em>username</em>/AppData/Local/aja’).</li>
</ul>
</dd></dl>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectorframebuffer"></a>
Frame Buffer Inspector</h2>
<div class="image">
<img src="../../watcher-inspector-framebuffer.png" alt=""/>
</div>
<p>The <b>Frame Buffer</b> inspector displays the contents of frame buffer memory on the AJA device in the context of a FrameStore.</p>
<dl class="section note"><dt>Note</dt><dd>Because this inspector reads (via DMA) the entire contents of a frame buffer at the selected channel’s frame rate, it can interfere with any currently running video application, particularly if the additional DMAs exceed the available device or host data transfer budget. Thus, this inspector is not immune from “Heisenbugs” in which the act of monitoring an AJA device affects it and the application(s) under test.</dd></dl>
<p>In the context of the selected Channel/FrameStore, this inspector…</p><ul>
<li>…reads (via DMA) the frame buffer into host memory.<ul>
<li>In <b>Raw</b> mode, or for planar pixel formats, it reads the entire 8MB/16MB/32MB buffer.</li>
<li>All other views — <b>Line</b>, <b>Component</b>, <b>Waveform</b>, <b>Image</b> — it reads the frame buffer up to and including the last visible raster line.</li>
</ul>
</li>
<li>…attempts to refresh at the FrameStore’s current frame rate (as soon after the VBI as possible) when polling is enabled (i.e. when the <b>Poll</b> checkbox is checked/ticked).<ul>
<li>An indicator in the bottom-right corner of the main window’s status bar shows the actual, measured refresh rate.</li>
<li>When the indicator’s color is not Green, then the inspector is not frame-accurate, and the data being displayed is stale.</li>
</ul>
</li>
<li>When polling is disabled, it will only update when the <b>Refresh</b> button is pressed.</li>
<li>After each refresh, it compares the frame buffer contents to what was read the last time:<ul>
<li>The bottom left of the main window‘s status bar shows the number of raster lines that changed from the last frame (except <b>Raw</b> view).</li>
<li>Changed data is highlighted with a brighter color (except <b>Image</b> view).</li>
<li><b>Frame Differencing mode</b> statically highlights the differences between the current frame and another frame.</li>
</ul>
</li>
</ul>
<p>Frame buffer memory content can be displayed in four different <b>View Mode</b>s:</p><ul>
<li><b>Line</b> — The full raster (including VANC lines, if any), line-by-line, in decimal or hex format, grouped by 1, 2, 4 or 8-byte chunks.</li>
<li><b>Raw</b> — The entire 8MB or 16MB buffer in fixed-length “lines”, grouped by 1, 2, 4 or 8-byte chunks. The line length is adjustable. By default, unless disabled, boundaries between raster lines are indicated with a blue marker. Regions and planes are indicated by color: green for audio, yellow for Ancillary data, etc.</li>
<li><b>Component</b> — The full raster (including VANC lines, if any), line-by-line, in component format, determined by the FrameStore’s frame buffer format, in hex or decimal. <div class="image">
<img src="../../watcher-inspector-fb-comp.png" alt=""/>
</div>
</li>
<li><b>Waveform</b> — The full raster (including VANC lines, if any), one-line-at-a-time, as a waveform, with the component waveforms overlaid on top of each other. <div class="image">
<img src="../../watcher-inspector-fb-wfm.png" alt=""/>
</div>
</li>
<li><b>Image</b> — The visible raster, as an image.</li>
</ul>
<dl class="section user"><dt>Configuration &amp; Controls</dt><dd><ul>
<li><b>FrameStore/Channel</b> — Selects the FrameStore (a.k.a. Channel) of interest.</li>
<li><b>Mode</b> — Indicates/controls the FrameStore’s current mode:<ul>
<li><b>Off</b> — the FrameStore is disabled (i.e. cannot read or write device SDRAM).<ul>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a086355b86c3de0f733bb98d37f673f77" title="Enables the given FrameStore.">CNTV2Card::EnableChannel</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#ad7b7b304fea36b3323f1fb2c75fbf69b" title="Disables the given FrameStore.">CNTV2Card::DisableChannel</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#ad7ab43c1f7d53cc2f073b15048146723" title="Answers whether or not the given FrameStore is enabled.">CNTV2Card::IsChannelEnabled</a> , <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a></li>
</ul>
</li>
<li><b>Input</b> — the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a0e7716728e9df7086c72609f806dd4a5" title="Used to identify the mode of a widget_framestore, or the direction of an AutoCirculate stream: either...">NTV2Mode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a0e7716728e9df7086c72609f806dd4a5abcde4ccd2d4a6ac48298827bdbaac6dc" title="Input (capture) mode, which writes into device SDRAM.">NTV2_MODE_INPUT</a> or <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a0e7716728e9df7086c72609f806dd4a5a533ead24b07dddb42981aa9944757f46" title="Capture (input) mode, which writes into device SDRAM.">NTV2_MODE_CAPTURE</a> (i.e. will write into device SDRAM).</li>
<li><b>Output</b> — the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a0e7716728e9df7086c72609f806dd4a5" title="Used to identify the mode of a widget_framestore, or the direction of an AutoCirculate stream: either...">NTV2Mode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a0e7716728e9df7086c72609f806dd4a5a3f42800d2586d5c3caee453e1319fa1a" title="Output (playout, display) mode, which reads from device SDRAM.">NTV2_MODE_OUTPUT</a> or <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a0e7716728e9df7086c72609f806dd4a5abec59926c3de1fac4acd02f438a2a634" title="Playout (output) mode, which reads from device SDRAM.">NTV2_MODE_DISPLAY</a> (i.e. will read from device SDRAM).</li>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a0f1f023340d0b4e2f31949ae9684b46d" title="Answers with the current NTV2Mode of the given FrameStore on the AJA device.">CNTV2Card::GetMode</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a9484e167070e800882ca7843033637e2" title="Determines if a given FrameStore on the AJA device will be used to capture or playout video.">CNTV2Card::SetMode</a> , <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a></li>
<li>The <b>Mode</b> can be changed if not in <b>Auto</b> mode and the device <b>Task Mode</b> is not <b>Standard Tasks</b>.</li>
</ul>
</li>
<li><b>Auto</b>:<ul>
<li><b><em>checked</em>:</b> The frame being displayed automatically follows the “current frame” register, and the <b>Frame Number</b> control (below) will be disabled.</li>
<li><b><em>unchecked</em>:</b> The <b>Frame Number</b> control (below) will be available, and the frame being displayed can be manually controlled. Other aspects of the FrameStore can be controlled in this state (e.g., <b>Mode</b>, <b>Video Format</b>, <b>VANC</b>, etc.), including the ability to manually edit/change the buffer content.</li>
</ul>
</li>
<li><b>Frame Number</b>: Indicates which frame in device memory is being displayed.<ul>
<li>Frame 0 is the first frame in device memory.</li>
<li>The prefix text in the control indicates the intrinsic <b>Frame Size</b> — 8MB or 16MB, whichever is the largest size required by all device FrameStores (determined by firmware) — and multiplied by 4 for UHD/4K, or by 16 for UHD2/8K rasters.</li>
<li>The indicated <b>Frame Number</b> and <b>Frame Size</b> determines the region in device memory being sampled and displayed.</li>
<li>When enabled, the user can adjust/control the <b>Frame Number</b>:<ul>
<li>Clicking the up-arrow increments the frame number by one. Holding down the mouse button repeatedly increments the frame number.</li>
<li>Clicking the down-arrow decrements the frame number by one. Holding down the mouse button repeatedly decrements the frame number.</li>
<li>Clicking on the number allows the user to type in a new value.</li>
</ul>
</li>
</ul>
</li>
<li><b>Frame Address</b>: Indicates the hexadecimal (base 16) frame address in device memory being read or written by the FrameStore and displayed in the view.<ul>
<li>Frame address <code>0x00000000</code> is the starting address of the first frame in device memory.</li>
<li>The indicated <b>Frame Address</b> and the FrameStore’s intrinsic <b>Frame Size</b> determines the region in device memory being sampled and displayed.</li>
<li>When enabled, the user can adjust/control the <b>Frame Address</b>:<ul>
<li>Clicking the up-arrow bumps the frame address by the intrinsic frame size (× 4 for UHD/4K or × 16 for UHD2/8K). Holding down the mouse button repeatedly increases the frame address.</li>
<li>Clicking the down-arrow decreases the frame address by the intrinsic frame size (× 4 for UHD/4K or × 16 for UHD2/8K). Holding down the mouse button repeatedly decreases the frame address.</li>
<li>Clicking on the number allows a new address to be typed in, including values that don’t align on a frame boundary.</li>
</ul>
</li>
</ul>
</li>
<li><b>Video Format</b> — Indicates/controls the FrameStore’s current video format. It can be changed using this menu (if not in <b>Auto</b> mode and the device <b>Task Mode</b> is not <b>Standard Tasks</b>).<ul>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#aa2fd595db82ca28dcedcdb77c3ac99ab">CNTV2Card::GetVideoFormat</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a9f0915bc38e35ce74dad187427d03e16" title="Configures the AJA device to handle a specific video format.">CNTV2Card::SetVideoFormat</a> , <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a8f85ca8efb8928620e1fbb6282a5e686" title="Identifies a particular video format.">NTV2VideoFormat</a> , <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a></li>
</ul>
</li>
<li><b>VANC</b> — Indicates/controls the FrameStore’s current VANC mode. It can be changed using this menu (if not in <b>Auto</b> mode and the device <b>Task Mode</b> is not <b>Standard Tasks</b>).<ul>
<li><b>Off</b> — the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7" title="These enum values identify the available VANC modes.">NTV2VANCMode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7a11d1cfa22ee15b28b8bfddcfd6c2806f" title="This identifies the mode in which there are no VANC lines in the frame buffer.">NTV2_VANCMODE_OFF</a></li>
<li><b>Tall</b> — the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7" title="These enum values identify the available VANC modes.">NTV2VANCMode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7aed934f6f5213f1b095f053619f328bb3" title="This identifies the &quot;tall&quot; mode in which there are some VANC lines in the frame buffer.">NTV2_VANCMODE_TALL</a> (if available for the video format)</li>
<li><b>Taller</b> — the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7" title="These enum values identify the available VANC modes.">NTV2VANCMode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7a19000e5c813d8fefed568ccacda79b0a" title="This identifies the mode in which there are some + extra VANC lines in the frame buffer.">NTV2_VANCMODE_TALLER</a> (if available for the video format)</li>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#aeb150e72f3c506d2510a8500eab2c119" title="Retrieves the current VANC mode for the given FrameStore.">CNTV2Card::GetVANCMode</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#abbb0a91d16cddb3fc10a5d867f92e582" title="Sets the VANC mode for the given FrameStore.">CNTV2Card::SetVANCMode</a> , <a class="el" href="../../d7/dcb/ancillarydata.html#vancframegeometries">VANC Frame Geometries</a></li>
</ul>
</li>
<li><b>Pixel Format</b> — Indicates/controls the FrameStore’s current pixel format. It can be changed using this menu (if not in <b>Auto</b> mode and the device <b>Task Mode</b> is not <b>Standard Tasks</b>).<ul>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a197831a736299e2c68e3f7f0f860387f" title="Returns the current frame buffer format for the given FrameStore on the AJA device.">CNTV2Card::GetFrameBufferFormat</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a93397b3f49ad2dea97a8555cf15fbeaa" title="Sets the frame buffer format for the given FrameStore on the AJA device.">CNTV2Card::SetFrameBufferFormat</a> , <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ace03c7b6e4f21738519430d1fa42161c" title="Identifies a particular video frame buffer format. See Device Frame Buffer Formats for details.">NTV2FrameBufferFormat</a> , <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a> , <a class="el" href="../../d5/d32/dataformats.html#devicefbformats">Device Frame Buffer Formats</a></li>
</ul>
</li>
<li><b>VFlip</b> — Indicates/controls the FrameStore’s vertical frame buffer orientation. Can be changed at any time.<ul>
<li>When checked — the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ac03b1be56c369c6a72769a56770049f5" title="Determines the order that raster lines are written into, or read out of, frame buffer memory on the d...">NTV2VideoFrameBufferOrientation</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ac03b1be56c369c6a72769a56770049f5a993922c743f83e47053886317b17623c">NTV2_FRAMEBUFFER_ORIENTATION_BOTTOMUP</a></li>
<li>When unchecked — the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ac03b1be56c369c6a72769a56770049f5" title="Determines the order that raster lines are written into, or read out of, frame buffer memory on the d...">NTV2VideoFrameBufferOrientation</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ac03b1be56c369c6a72769a56770049f5a0a0c72f7d643a4b3f990548053dcb054">NTV2_FRAMEBUFFER_ORIENTATION_TOPDOWN</a> (aka <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ac03b1be56c369c6a72769a56770049f5a0de9e49f2dcced22e99ef3a204959f3e">NTV2_FRAMEBUFFER_ORIENTATION_NORMAL</a> )</li>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a32f51d88e46dbb799f18fa1e5a774ad4" title="Answers with the current frame buffer orientation for the given NTV2Channel.">CNTV2Card::GetFrameBufferOrientation</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#af912415005661c169157725ab77767bc" title="Sets the frame buffer orientation for the given NTV2Channel.">CNTV2Card::SetFrameBufferOrientation</a> , <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a></li>
</ul>
</li>
<li><b>VancShift</b> — Indicates/controls the FrameStore’s VANC Data Shift Mode. It can be changed when not in <b>Auto</b> mode and the device <b>Task Mode</b> is not <b>Standard Tasks</b>.<ul>
<li>When checked, the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8">NTV2VANCDataShiftMode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8a14ab6514015e46fc5db9a54d751bb2be">NTV2_VANCDATA_8BITSHIFT_ENABLE</a>.</li>
<li>When unchecked, the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8">NTV2VANCDataShiftMode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8aa7e7f247312dfdd4da72272771e0ffdc">NTV2_VANCDATA_NORMAL</a>.</li>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a6d8c6925dda7aa8e9b0cb903e8b25d78" title="Retrieves the current &quot;VANC Shift Mode&quot; feature for the given channel.">CNTV2Card::GetVANCShiftMode</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a7599cff630fc737368608cd795be2949" title="Enables or disables the &quot;VANC Shift Mode&quot; feature for the given channel.">CNTV2Card::SetVANCShiftMode</a> , <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a> , <a class="el" href="../../d7/dcb/ancillarydata.html#vancframegeometries">VANC Frame Geometries</a></li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Navigation and Data Selection</dt><dd><ul>
<li><b>Scrolling</b> — The display can be scrolled horizontally and/or vertically.<ul>
<li>Use the vertical scroll bar to manually scroll the display up or down.</li>
<li>Use the horizontal scroll bar to manually scroll the display left or right.</li>
<li>If a scroll-wheel is available, move the cursor into the display, and roll the scroll wheel to scroll the display up or down.</li>
<li>When there’s no current selection, use the up/down/left/right-arrow keys to scroll the display up/down/left/right, respectively.</li>
<li>Use the Page-Up or Page-Down keys to scroll the display up or down by a larger amount.</li>
<li>Press <b>Home</b> to scroll the upper-left corner of the current selection into view (or frame, if nothing selected).</li>
<li>Press <b>End</b> to scroll the bottom-right corner of the current selection into view (or frame, if nothing selected).</li>
</ul>
</li>
<li><b>Vertical Ruler</b> — This ruler labels lines (rows) in the display.<ul>
<li>Left-click (and optionally drag up or down) to select entire lines.</li>
<li>Right-click to pop up a context menu:<ul>
<li><b>Units</b> menu: Sets the vertical ruler's display units:<ul>
<li><b>Line Numbers</b> — 1-based decimal line numbers relative to the start of the frame buffer.</li>
<li><b>Lines With Fields</b> — 1-based decimal line numbers relative to the start of the field … plus the field number (<b>F1</b> or <b>F2</b>).</li>
<li><b>SMPTE Lines</b> — Decimal SMPTE line numbers (including field numbers, if interlaced).</li>
<li><b>Bytes From Top</b> — The hexadecimal offset, in bytes, from the start of the frame buffer.</li>
<li><b>Bytes From Bottom</b> — The negative hexadecimal offset, in bytes, from the bottom of the frame buffer.</li>
<li><b>Device Memory Address</b> — The hexadecimal byte offset into the device SDRAM.</li>
<li>Note that the <b>Image</b> view always uses 1-based decimal line numbers relative to the start of the visible portion of the frame buffer (i.e., excludes any VANC lines).</li>
</ul>
</li>
<li><b>Fill</b> menu: Sets all values in the line:<ul>
<li><b>Black</b> — Fills the line with legal black.</li>
<li><b>White</b> — Fills the line with legal white.</li>
<li><b>0x000s</b> — Clears (zeroes) the entire line.</li>
<li><b>0xFFFs</b> — Fills the line with 0xFFs.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>Horizontal Ruler</b> — This ruler labels columns in the display.<ul>
<li>Left-click (and optionally drag left or right) to select entire columns.</li>
<li>Right-click to pop up a context menu:<ul>
<li><b>Units</b>:<ul>
<li><b>Elements From Left Edge</b> — 0-based decimal element numbers relative to the start of each line, where an element is the natural “chunk” of pixels for a given frame buffer format.</li>
<li><b>Bytes From Left Edge</b> — The decimal offset, in bytes, from the start of each line.</li>
<li><b>Bytes From Left Edge (Hex)</b> — The hexadecimal offset, in bytes, from the start of each line.</li>
<li><b>Pixels From Left Edge</b> — 0-based decimal pixel numbers, as measured from the start of each line.</li>
<li>Note that the <b>Image</b> view always uses 0-based decimal pixel offsets relative to the left edge of the frame buffer.</li>
</ul>
</li>
<li><b>Fill Down</b> menu: Sets all values in the column:<ul>
<li><b>Black</b> — Fills the column with legal black.</li>
<li><b>White</b> — Fills the column with legal white.</li>
<li><b>0x000s</b> — Clears (zeroes) the entire column.</li>
<li><b>0xFFFs</b> — Fills the column with 0xFFs.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>Selecting</b> — A rectangular <b>region-of-interest</b> of the raster (or raw memory) can be selected/highlighted, and is shown as a yellow box in the view.<ul>
<li>The current selection, if any, is described in the status bar, to the left of the refresh timing indicator.</li>
<li>To cancel the current selection, press <b>Esc</b>ape.</li>
<li>Switching views will attempt to retain the current selection. If this is not possible (e.g., switching from <b>Raw</b> to <b>Image</b> when a byte range outside the raster was selected), the selection will be reset/cancelled.</li>
<li>Left-click in the display (and optionally drag up/down/left/right) to select a rectangular raster or memory portion. <div class="image">
<img src="../../watcher-fb09kMouseDragMode_DrawSelection.png" alt=""/>
</div>
<ul>
<li>Vertically, <b>Component</b>, <b>Image</b>, and <b>Line</b> views will select line-by-line, whereas <b>Raw</b> views will select by a number of powers-of-two byte offsets.</li>
<li>Horizontally, <b>Image</b> and <b>Component</b> views will select pixel-by-pixel, whereas <b>Line</b> and <b>Raw</b> views will select by 1/2/4/8-byte groups (depending on the current <b>Grouping</b> setting).</li>
</ul>
</li>
<li>Use the arrow keys to precisely and incrementally change the existing selection:<ul>
<li>By default, the selection will change to a single-element selection above/left of the top/left corner, or below/right of the bottom/right corner.</li>
<li>Hold the <b>Shift</b> key down to expand the selection from the top/left or bottom/right corner.</li>
<li>Hold the <b>Ctrl</b> (<b>Command</b> on MacOS) key down to shrink the selection from the top/left or bottom/right corner.</li>
</ul>
</li>
<li>Choose <b>Select All</b> from the <b>Edit</b> menu to select the entire raster (<b>Image</b>, <b>Component</b> or <b>Line</b> view) or frame buffer (<b>Raw</b> view).</li>
<li>Moving the mouse cursor into the selection will cause a ToolTip to appear that describes the selection.</li>
<li>Dragging the edge of the yellow selection box will resize the selection without moving it. <div class="image">
<img src="../../watcher-fb01kMouseDragMode_AdjustTopLeft.png" alt=""/>
</div>
 <div class="image">
<img src="../../watcher-fb02kMouseDragMode_AdjustTop.png" alt=""/>
</div>
 <div class="image">
<img src="../../watcher-fb03kMouseDragMode_AdjustTopRight.png" alt=""/>
</div>
 <div class="image">
<img src="../../watcher-fb04kMouseDragMode_AdjustRight.png" alt=""/>
</div>
 <div class="image">
<img src="../../watcher-fb05kMouseDragMode_AdjustBotRight.png" alt=""/>
</div>
 <div class="image">
<img src="../../watcher-fb06kMouseDragMode_AdjustBottom.png" alt=""/>
</div>
 <div class="image">
<img src="../../watcher-fb07kMouseDragMode_AdjustBotLeft.png" alt=""/>
</div>
 <div class="image">
<img src="../../watcher-fb08kMouseDragMode_AdjustLeft.png" alt=""/>
</div>
</li>
<li>Dragging from inside the selection box will change the selection’s position without changing its dimensions. <div class="image">
<img src="../../watcher-fb10kMouseDragMode_MoveSelection.png" alt=""/>
</div>
</li>
<li>Dragging from inside the selection box with both the <b>Ctrl</b> and <b>Shift</b> keys held down will copy the underlying raster data in the frame buffer to the position where the selection frame was moved (<b>Line</b> or <b>Raw</b> views only). <div class="image">
<img src="../../watcher-fb11kMouseDragMode_MoveContents.png" alt=""/>
</div>
</li>
<li>Press <b>Enter</b> or <b>Return</b> to enter an interactive editing mode:<ul>
<li>Works in <b>Lines</b> or <b>Raw</b> view modes only.</li>
<li>Starts in the selection’s top-left “cell”.</li>
<li>Standard text editing behaviors apply.</li>
<li>Press <b>Esc</b>ape to cancel and make no changes.</li>
<li>Press <b>Enter</b> or <b>Return</b> to commit the change. This will replace every “cell” of the selection with the new value.</li>
</ul>
</li>
</ul>
</li>
<li><b>Right-Click Operations</b><ul>
<li><b>View Mode</b> — Changes the view to <b>Lines</b>, <b>Raw</b>, <b>Components</b> or <b>Image</b>.</li>
<li><b>Grouping</b> — (<b>Lines</b> and <b>Raw</b> views only) — Changes the data grouping to 8-bit (1-byte), 16-bit (2-byte), 32-bit (4-byte) or 64-bit (8-byte).</li>
<li><b>Component Radix</b> — (<b>Components</b> view only) — Changes the radix of the component data to Hexadecimal or Decimal.</li>
<li><b>Show Components</b> — (<b>Components</b> view only) — Enables/disables the display of the Luma/Cb/Cr/A or R/G/B/A components.</li>
<li><b>Show Fields</b> — (<b>Lines</b> and <b>Components</b> views only) — Enables/disables the display of lines F1, F2 or both.</li>
<li><b>Bytes/Line</b> — (<b>Raw</b> view only) — Changes the number of bytes to display in each line of the Raw data view. Choose from 64 bytes up to 32K bytes by powers of 2. Note that larger values make for fewer lines and many more columns. Smaller values show many more lines with fewer columns.</li>
<li><b>Show/Hide Line Boundaries</b> — (<b>Raw</b> view only) — Shows or hides the line boundary markers.</li>
<li><b>Show Little/Big Endian</b> — (<b>Lines</b> and <b>Raw</b> views only) — Toggles endianness of 16/32/64-bit word data display.</li>
<li><b>Copy … (Image)</b> — Copies the frame image (or the selected portion) to the host Clipboard.</li>
<li><b>Copy … Data (Text)</b> — Copies the frame data (or the currently-selected portion) to the host Clipboard. The data is encoded such that it’s readily usable in C/C++ code, as well as importing into spreadsheet and database programs (.csv).</li>
<li><b>Copy … Description</b> — Copies a description of the frame data (or the currently-selected portion) to the host Clipboard.</li>
<li><b>Copy … to Scrap Buffer</b> — Copies raster data into a new tab in the <a class="el" href="../../db/d02/toolsandutilities.html#scraptool">“Scrap Buffer” Tool</a> window. If nothing is currently selected/highlighted, the entire buffer is copied; otherwise only the selected portion of the buffer is copied.</li>
<li><b>Paste</b> — (<b>Auto</b> mode OFF, and only if an entire frame was previously Copied) — Replaces the current 8/16/32MB frame with the 8/16/32MB frame that was Copied earlier.</li>
<li><b>Clear</b> — (<b>Auto</b> mode OFF only) — Zeroes the frame (or the currently-selected portion of it).</li>
<li><b>Select All</b> — Selects everything possible in the current view mode:<ul>
<li><b>Image</b> view — Selects the visible lines of the frame.</li>
<li><b>Lines</b> and <b>Components</b> views — Selects the visible lines plus VANC lines (if VANC enabled).</li>
<li><b>Waveform</b> view — Selects the entire line that’s currently displayed.</li>
<li><b>Raw</b> view — Selects the entire 8/16/32MB buffer.</li>
</ul>
</li>
<li><b>Set Input/Output Frame Here</b> — (<b>Auto</b> mode OFF, and current frame being viewed doesn’t match the FrameStore’s current Input or Output Frame) — Changes the FrameStore’s Input or Output Frame to the current frame being viewed.</li>
<li><b>Fill Frames…</b>:<ul>
<li>With no selection: opens the <a class="el" href="../../db/d02/toolsandutilities.html#fillbufferdlog">“Fill Buffer” Tool</a> for filling device frame memory with specific values, colors, test patterns, etc.</li>
<li>With a selection: pops up a submenu to fill the selection with:<ul>
<li><b>Legal Black</b> — Fills the region with legal black.</li>
<li><b>Legal White</b> — Fills the region with legal white.</li>
<li><b>All 0x00s</b> — Zeroes (clears) the region.</li>
<li><b>All 0xFFs</b> — Fills the region with all 0xFFs.</li>
</ul>
</li>
</ul>
</li>
<li><b>Edit Value…</b> — (<b>Auto</b> mode OFF, <b>Lines</b> or <b>Raw</b> views, something selected) — Enters the interactive editing mode. See “Press <b>Enter</b> or <b>Return</b>” discussion above.</li>
<li><b>Swap Byte Order</b> — (<b>Auto</b> mode OFF, <b>Lines</b> or <b>Raw</b> views, 16/32/64-bit groups) — Swaps the byte order of the frame data (or the currently-selected portion).</li>
<li><b>Compare to Frame…</b> — (<b>Auto</b> mode OFF only) — Enables <b>Frame Differencing mode</b>, comparing the current frame with another, highlighting the differences. To cancel this mode, toggle the “Auto” setting, or change the current frame being viewed.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Data Operations</dt><dd><ul>
<li><b>File</b> menu<ul>
<li><b>Save As…</b> — Saves the frame buffer contents to a file.<ul>
<li>The <b>Auto</b> checkbox must be un-checked.</li>
<li>Choose the <b>FrameStore</b> and <b>Frame</b> of interest.</li>
<li>Click in the <b>File</b> menu, then choose <b>Save As…</b>.</li>
<li>A standard file-save dialog box appears. Navigate to the folder on your local host where you want the file to be saved, and give it a name.</li>
<li><b>IMPORTANT:</b> The format of the data written to the file is View-dependent:<ul>
<li><b>Image</b> — Writes a PNG image file of the raster selection, or, if there’s no selection, the full raster.</li>
<li><b>Lines</b> and <b>Components</b> — Writes a human-readable C-compilable dump of the raster selection, or, if there’s no selection, the full raster.</li>
<li><b>Raw</b> — Writes a raw, binary data file containing the contents of the entire frame buffer. This will be 8MB or 16MB for normal rasters. For “quad” 4K/UHD, it will be 8MB/16MB × 4. For “quad-quad” 8K, it will be 8MB/16MB × 16.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>Edit</b> menu<ul>
<li><b>Copy</b> — Copies the current selection to the “clipboard” that can be used in a subsequent “Paste” operation. The data written to the clipboard is View-dependent:<ul>
<li><b>Image</b> — The selected raster image, or, if there’s no selection, the full raster.</li>
<li>All Others — Text that’s a human-readable, C-compilable dump of the selected data, or if there’s no selection, the entire buffer.</li>
</ul>
</li>
<li><b>Select All</b> — Selects everything possible in the current view mode:<ul>
<li><b>Image</b> view — Selects the visible lines of the frame.</li>
<li><b>Lines</b> and <b>Components</b> views — Selects the visible lines plus VANC lines (if VANC enabled).</li>
<li><b>Waveform</b> view — Selects the entire line that’s currently displayed.</li>
<li><b>Raw</b> view — Selects the entire 8/16/32MB buffer.</li>
</ul>
</li>
</ul>
</li>
<li><b>Buffer Editing</b> — (<b>Lines</b> or <b>Raw</b> view only)<ul>
<li>This will fill a portion of the currently displayed frame buffer with a specific value that you enter from the keyboard.</li>
</ul>
<ol type="1">
<li>Highlight a selection area of any size.</li>
<li>Press <b>Enter</b> (or <b>Return</b>).</li>
<li>Type the new value in the edit box that appears.</li>
<li>Press <b>Enter</b> (or <b>Return</b>) to fill the selection with the new value. Press <b>Esc</b> (or click outside the selection) to cancel.</li>
</ol>
</li>
<li><b>Drag and Drop</b><ul>
<li>The <b>Auto</b> checkbox must be un-checked.</li>
<li>Choose the <b>FrameStore</b> and <b>Frame</b> of interest.</li>
<li>Drag operations started from inside the Frame Buffer inspector view cannot end outside the view (not yet supported).</li>
<li>Ctrl+Shift+Drag operations started from inside an existing selection in the Frame Buffer inspector (<b>Line</b> or <b>Raw</b> views only) will copy the underlying raster data to where it’s dropped in the frame buffer.</li>
<li>Dropping files and/or folders from outside the NTV2Watcher window are supported. (Prior to SDK 15.3, only one file having a particular name extension could be dropped at one time.)<ul>
<li>The first frame buffer to be changed is determined by the <b>frame number</b> spinbox control. Subsequent files are loaded into successive frame buffers.</li>
<li>The order of the files (and therefore which frame(s) get which file’s data) is host operating-system dependent.</li>
<li>Dropped folders have their immediate contents enumerated.</li>
<li>Symbolic links are skipped and not followed.</li>
<li>Files are first attempted to be loaded as <b>Image Files</b> <em>regardless of name extension</em>.<ul>
<li>Most popular image formats are supported (e.g. <b>PNG</b>, <b>JPG</b>, <b>BMP</b>, etc.).</li>
<li>If the image is decoded and loaded successfully, the frame’s visible raster content is replaced with the image.</li>
<li>If the image dimensions differ from the frame geometry, the image is scaled to fit without altering its aspect ratio.</li>
<li>Hold down the <b>Shift</b> key when dropping the file(s) to have the image’s aspect ratio changed to fill the raster. This will squish or stretch the image vertically or horizontally (or both).</li>
</ul>
</li>
<li>All other readable files are treated as <b>Raw Binary Data Files</b>:<ul>
<li>The frame’s buffer content is replaced byte-for-byte with the raw data from the file.</li>
<li>If the raw file is smaller than the frame buffer, only the bytes from the file will overwrite the frame buffer. All subsequent content in the buffer will remain unchanged.</li>
<li>If the raw file is larger than the frame buffer, subsequent frames will continue to be written until the remaining bytes from the file are read (or until the highest-numbered frame in device SDRAM has been DMA’d).</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Data coloring in the <b>Frame Buffer Inspector</b> can be configured in the <b>Colors</b> tab of the <a class="el" href="../../db/d02/toolsandutilities.html#watcherprefs">NTV2Watcher Preferences</a> dialog.</dd></dl>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectoraudio"></a>
Audio Inspector</h2>
<div class="image">
<img src="../../watcher-inspector-audio.png" alt=""/>
</div>
<p>The <b>Audio</b> inspector displays the input or output audio buffer memory of the AJA device in the context of an Audio System, including its read or write “head” position.</p>
<dl class="section note"><dt>Note</dt><dd>Because this inspector reads (via DMA) the entire contents of an audio buffer at NTV2Watcher’s currently selected polling rate, it can interfere with any currently running application, particularly if the additional DMAs exceed the available device or host data transfer budget. Thus, this inspector is not immune from “Heisenbugs” in which the act of monitoring an AJA device affects it and the application(s) under test.</dd></dl>
<p>Audio buffer memory content can be displayed in any one of three ways:</p><ul>
<li><b>Raw</b> — The entire buffer in per-channel “lines”, each sample value shown as a 4-byte (32-bit) longword.</li>
<li><b>Waveform</b> — A vertical stack of waveform plots for each audio channel that’s carrying PCM data.</li>
<li><b>Phase</b> — A phase plot of one audio channel against another. Both audio channels must be carrying PCM data.</li>
</ul>
<p>When device polling is enabled (i.e. when the <b>Poll</b> checkbox is checked/ticked), this inspector monitors the audio system’s input or output buffer. At the given polling <b>Interval</b> rate, it reads the entire buffer into host memory, and compares it to its previous contents. The status bar shows the read or write head position, as well as what changed. The display highlights changed content in a brighter color.</p>
<dl class="section user"><dt>Audio System Controls and Indicators</dt><dd><ul>
<li><b>Audio System Selection and Configuration</b><ul>
<li><b>Audio System</b> — Selects the audio system of interest.</li>
<li><b>Rate</b> — Indicates the audio system’s current sample rate. It can be changed using this menu (if the device <b>Task Mode</b> is not <b>Standard Tasks</b>).</li>
<li><b>Size</b> — Indicates the audio system’s current buffer size. It can be changed using this menu (if the device <b>Task Mode</b> is not <b>Standard Tasks</b>).</li>
<li><b>Channels</b> — Indicates the audio system’s current channel count. It can be changed using this menu (if the device <b>Task Mode</b> is not <b>Standard Tasks</b>).</li>
</ul>
</li>
<li><b>State Indicators</b><ul>
<li><b>A/C Indicator</b> — Indicates if the audio system is being used by <b>AutoCirculate</b>, and if so, which <b>AutoCirculate Channel</b>.</li>
<li><b>Active Pairs</b> — Indicates which audio channel pairs are currently active.</li>
<li><b>Non-PCM Pairs</b> — Indicates which of the active audio channel pairs are carrying non-PCM data.</li>
</ul>
</li>
<li><b>Operation Controls</b><ul>
<li><b>Start</b> — Click this button to start/run the audio system. If already running, the button is dimmed and indicates “Running”.</li>
<li><b>Stop</b> — Click this button to stop the audio system. If already stopped, the button is dimmed and indicates “Stopped”.</li>
<li><b>Loopback</b> — If checked, audio samples from the audio system’s source are routed directly into the output embedder(s) that are sourced from this audio system.</li>
<li><b>Write-Enable</b> — (Shown only in <b>Input</b> mode.) If checked, and if the capture audio system is running, captured audio will be written into the audio system’s capture buffer at the <b>Write Head</b>. Otherwise, the audio system will not be permitted to write into the capture buffer.</li>
<li><b>Erase</b> — (Shown only in <b>Output</b> mode.) If checked, the audio system will automatically write silence (i.e., zero values) into the output buffer immediately behind the <b>Read Head</b>.</li>
<li><b>Embed</b> — (Shown only in <b>Output</b> mode.) If checked, the audio system’s output audio embedder is enabled. If unchecked, the audio system’s output embedder is disabled, and will emit no audio packets.</li>
<li><b>PCM Output</b> — (Shown only in <b>Output</b> mode, and only for devices that lack per-audio-channel-pair PCM control.) If checked, the output embedder marks all outgoing audio packets as normal PCM. If unchecked, the output embedder marks all outgoing audio packets as non-PCM.</li>
<li><b>Non-PCM Output</b> — (Shown only in <b>Output</b> mode, and only for devices that have per-audio-channel-pair PCM control.) This popup menu lists all possible channel pairs. If a channel pair is checked, the output embedder marks outgoing audio packets for that channel pair as non-PCM. If a channel pair is unchecked, the output embedder marks outgoing audio packets for that channel pair as normal PCM.</li>
</ul>
</li>
<li><b>Mode and View Controls</b><ul>
<li><b>View</b> — Controls which part of the audio system to inspect:<ul>
<li><b>Input</b> — Inspects the input (capture) audio buffer. Look for changes up to the write head, where the de-embedder is writing new samples.</li>
<li><b>Output</b> — Inspects the output (playout) audio buffer. Look for changes ahead of the read head, where a playout application may be writing new samples.</li>
</ul>
</li>
<li><b>Auto</b> — If checked, automatically and dynamically scrolls the display to reveal the audio data that immediately precedes the <b>Read Head</b> or follows the <b>Write Head</b>.</li>
<li><b>Mon</b> — If checked, sends new audio data to the host audio system. (<b>Note:</b> Because of the nature of digital audio, and the human ear’s sensitivity to interruptions or distortions in audio waveforms, monitoring audio should only be done with very short polling intervals.)</li>
<li><b>AutoDetect</b> — If checked, scans for muted channels or channels that contain Dolby-encoded audio data, and augments the <b>Vertical Ruler</b> scale accordingly.</li>
<li><b>Source</b> — (Shown only in <b>Input</b> mode.) This popup menu lists all possible audio sources for the audio system, and indicates the current source. The current source can be changed immediately using this menu.</li>
</ul>
</li>
<li><b>Other</b><ul>
<li><b>Status Bar</b> — Indicates the audio system’s current <b>Write Head</b> (<b>Input</b> mode) or <b>Read Head</b> (<b>Output</b> mode) position, and which part of its sample buffer changed (if any).</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Navigation</dt><dd><ul>
<li><b>Scrolling</b> — The display can be scrolled horizontally and/or vertically.<ul>
<li>Use the vertical scroll bar to manually scroll the display up or down.</li>
<li>Use the horizontal scroll bar to manually scroll the display left or right.</li>
<li>If a scroll-wheel is available, move the cursor into the display, and roll the scroll wheel to scroll the display up or down.</li>
<li>Use the up-arrow or down-arrow keys to scroll the display up or down.</li>
<li>Use the left-arrow or right-arrow keys to scroll the display left or right.</li>
<li>Use the page-up or page-down keys to scroll the display up or down by a larger amount.</li>
</ul>
</li>
<li><b>Vertical Ruler</b> — This ruler identifies each audio channel in the display. Each channel can be augmented with “Absent”, “PCM” or “Non-PCM” (or “Mute” or “Non-PCM Dolby” with <b>AutoDetect</b> enabled).<ul>
<li>Right-click to change the <b>Vertical Scale</b>. Choose from “Shortest” to “Tallest”.</li>
</ul>
</li>
<li><b>Horizontal Ruler</b> — This ruler identifies the offset into the audio buffer of each column (or pixel, horizontally) in the audio buffer.<ul>
<li>Right-click in the horizontal ruler to pop up the <b>Units</b> menu:<ul>
<li><b>Byte Offset</b> — Shows the buffer offset as a byte count, in hexadecimal.</li>
<li><b>Samples</b> — Shows the buffer offset as a zero-based decimal sample index number.</li>
<li><b>Seconds</b> — Shows the buffer offset as a fixed-point decimal time value (in microseconds, milliseconds, or seconds, as appropriate).</li>
<li><b>Abs Address</b> — Shows the buffer offset as an absolute physical device SDRAM address (in hex).</li>
<li>This setting affects the units used in the <b>Change Indicator</b> in the status bar.</li>
</ul>
</li>
</ul>
</li>
<li>Right-click in the display to pop up a context-sensitive menu:<ul>
<li><b>View</b> menu:<ul>
<li><b>Raw</b> — Switch to the <b>Raw</b> view.</li>
<li><b>Waveform</b> — Switch to the <b>Waveform</b> view.</li>
<li><b>Phase</b> — Switch to the <b>Phase</b> view.</li>
</ul>
</li>
<li><b>Units</b> menu (<b>Raw</b> View only):<ul>
<li><b>Hex</b> — Shows raw sample data as 4-byte hexadecimal values.</li>
<li><b>Decimal</b> — Shows raw sample data as decimal values.</li>
<li><b>Percent</b> — Shows raw sample data as a decimal percentage of maximum.</li>
<li><b>Float</b> — Shows samples as floating point values.</li>
<li><b>dB</b> — Shows samples in decibels.</li>
</ul>
</li>
<li><b>Scale</b> menu (<b>Waveform</b> View only):<ul>
<li><b>Fit in Window</b> — Shows all samples in audio buffer in the window.</li>
<li><b>1:1</b> — Shows 1 sample per pixel.</li>
<li><b>1:2</b> — Shows 2 samples per pixel.</li>
<li><b>1:4</b> — Shows 4 samples per pixel.</li>
<li><b>1:8</b> — Shows 8 samples per pixel.</li>
<li><b>1:16</b> — Shows 16 samples per pixel.</li>
</ul>
</li>
<li><b>Style</b> menu (<b>Waveform</b> View only):<ul>
<li><b>Points</b> — Draws each sample as an individual dot.</li>
<li><b>Lines</b> — Draws a line between each sample (makes the waveform easier to see).</li>
</ul>
</li>
<li><b>Copy Waveform</b> — (<b>Waveform</b> View only) — Copies the selected waveform to the host’s clipboard.</li>
<li><b>Copy Text</b> — (<b>Raw</b> View only) — Copies the selected samples to the host’s clipboard.</li>
<li><b>Copy All Raw Data</b> — Copies the entire buffer to the host’s clipboard.</li>
<li><b>Copy to Scrap Buffer</b> — Copies the selected portion of the buffer, or if nothing selected, the entire buffer, into a new tab in the <a class="el" href="../../db/d02/toolsandutilities.html#scraptool">“Scrap Buffer” Tool</a> window.</li>
<li><b>Paste Raw Data</b> — Pastes the entire buffer into the audio buffer. Available only if previously copied from an Audio inspector view.</li>
<li><b>Clear</b> — Sets the selected samples in the audio buffer to zero (silence).</li>
<li><b>Import Audio…</b> — Opens a file-picker dialog to choose an audio file to import and fill the audio buffer.</li>
<li><b>Export WAV…</b> — Opens a file-save dialog, and if confirmed, exports the selected audio samples to a WAV audio file.</li>
<li><b>Export RAW…</b> — Opens a file-save dialog, and if confirmed, copies the selected audio samples from the audio buffer into a RAW audio file.</li>
<li><b>View in Frame Buffer</b> — Shows the selected audio samples in the <b>Raw View</b> of the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> .</li>
</ul>
</li>
<li><b>Selecting</b> — A rectangular <b>region-of-interest</b> of the audio buffer can be selected/highlighted, and shown as a yellow box in the view.<ul>
<li>The current selection, if any, is described in the status bar, to the left of the refresh timing indicator.</li>
<li>To cancel the current selection, press <b>Esc</b>ape.</li>
<li>Switching views will attempt to retain the current selection. If this is not possible, then the selection will be reset/cancelled.</li>
<li>Left-click in the display (and optionally drag up/down/left/right) to select a portion of the audio buffer.<ul>
<li>Vertically, one or more <b>Channel</b>s will be selected.</li>
<li>Horizontally, one or more <b>Sample</b>s (sometimes called “frames”) will be selected.</li>
</ul>
</li>
<li>Use the arrow keys to precisely and incrementally change the existing selection:<ul>
<li>By default, the selection will change to a single-sample selection above/left of the top/left corner, or below/right of the bottom/right corner.</li>
<li>Hold the <b>Shift</b> key down to expand the selection from the top/left or bottom/right corner.</li>
<li>Hold the <b>Ctrl</b> (<b>Command</b> on MacOS) key down to shrink the selection from the top/left or bottom/right corner.</li>
</ul>
</li>
<li>Choose <b>Select All</b> from the <b>Edit</b> menu to select all samples in the buffer.</li>
<li>Moving the mouse cursor into the selection will cause a ToolTip to appear that describes the selection.</li>
<li>Dragging from inside the selection box will start making a new selection.</li>
</ul>
</li>
</ul>
</dd></dl>
<p>Use the <a class="el" href="../../db/d02/toolsandutilities.html#tonegenerator">“Tone Generator” Tool</a> to fill the audio output buffer, either statically (one-time data fill) or dynamically (continuously).</p>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectoranc"></a>
Ancillary Data Inspector</h2>
<p>The <b>Anc</b> inspector monitors the ancillary data regions inside device memory, including the state registers of the device’s SDI Anc inserter/extractor widgets (if any).</p>
<div class="image">
<img src="../../watcher-inspector-anc.png" alt=""/>
</div>
<dl class="section note"><dt>Note</dt><dd>Because this inspector frequently reads (via DMA) all or part of a frame buffer, it can interfere with any currently running application, particularly if the additional DMAs exceed the available device or host data transfer budget. Thus, this inspector is not immune from “Heisenbugs” (the Heisenburg Uncertainty Principle) in which the act of monitoring an AJA device affects it and the application(s) under test.</dd></dl>
<p>The Anc inspector has two main sections:</p><ul>
<li>Controls that are common to all tabs are located at the top:<ul>
<li><b>Anc Buffer Capacity</b> — Indicates the current maximum ancillary data buffer capacity.<ul>
<li>The popup menu allows the capacity to be changed.<ul>
<li>8KB is the default.</li>
<li>Choose from 4K up to 256KB.</li>
</ul>
</li>
<li>This section is absent on devices that don’t have Anc inserter/extractor firmware.</li>
</ul>
</li>
<li><b>Show Absent Packets</b> — If checked/ticked (the default), every <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc-pkt">Packet Display</a> will show missing packets (those that appeared at least once and then not seen again).</li>
<li><b>Snapshot</b> — Push the button to transmit a snapshot of the Anc buffer(s) into a new tab in the <a class="el" href="../../db/d02/toolsandutilities.html#scraptool">“Scrap Buffer” Tool</a> window.</li>
</ul>
</li>
</ul>
<p>The rest of the panel space has one or more tabs that display ancillary data from different buffer locations in the device.</p>
<p>There are two classes of tabs:</p><ul>
<li><b>Channel/FrameStore Tab</b> — Inspects ancillary data in a frame that’s associated with a FrameStore/Channel.<ul>
<li>There are three sections stacked vertically:<ul>
<li><b>Frame Indicator/Selector &amp; Status Indicator</b><ul>
<li><b>On/Off Indicator:</b> Indicates if the FrameStore is enabled (“On”) or disabled (“Off”).</li>
<li><b>Frame:</b> When available, controls which frame buffer to view. When unavailable, indicates the frame buffer being viewed.</li>
<li><b>Auto</b> — If checked/ticked, the frame buffer being monitored will automatically follow the FrameStore’s input or output frame register, and the frame buffer number spin control will be disabled. If unchecked, the frame buffer number is manually controlled.</li>
<li><b>Video Format Indicator</b> — Indicates the FrameStore’s current video standard, frame rate, geometry, pixel format, and intrinsic frame size.</li>
</ul>
</li>
<li><b>Frame Buffer Line 21 Region</b> <div class="image">
<img src="../../watcher-inspector-anc-line21.png" alt=""/>
</div>
<ul>
<li>This section is kept hidden unless the FrameStore is configured for 525i SD.</li>
<li><b>Line 21 (F1):</b> Displays the byte pairs decoded from line 21 (if any).</li>
<li><b>Line 284 (F2):</b> Displays the byte pairs decoded from line 284 (if any).</li>
</ul>
</li>
<li><b>Frame Buffer VANC Region</b> <div class="image">
<img src="../../watcher-inspector-anc-vanc.png" alt=""/>
</div>
<ul>
<li>This section displays the VANC region of the frame buffer (if any). It is hidden if the FrameStore is disabled.</li>
<li><b>VANC:</b> — This menu controls the ancillary data display:<ul>
<li><b>Hide</b> — Hides the buffer data display.</li>
<li><b>Raw</b> — Displays the VANC region (if any) data as raw data. (See <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc-raw">Raw Data Display</a>.)</li>
<li><b>Packets</b> — Decodes the VANC region (if any) data, and lists the decoded ancillary data packets. (See <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc-pkt">Packet Display</a>.)</li>
</ul>
</li>
<li><b>Mode</b> — Indicates and/or controls the current <b>VANC Mode</b> of the FrameStore:<ul>
<li><b>Off</b> — Turns off <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7" title="These enum values identify the available VANC modes.">NTV2VANCMode</a> (setting it to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7a11d1cfa22ee15b28b8bfddcfd6c2806f" title="This identifies the mode in which there are no VANC lines in the frame buffer.">NTV2_VANCMODE_OFF</a>).</li>
<li><b>Tall</b> — Enables VANC mode, setting it to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7aed934f6f5213f1b095f053619f328bb3" title="This identifies the &quot;tall&quot; mode in which there are some VANC lines in the frame buffer.">NTV2_VANCMODE_TALL</a>.</li>
<li><b>Taller</b> — Enables VANC mode, setting it to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abcba86c92aeadc025b854b7157baddc7a19000e5c813d8fefed568ccacda79b0a" title="This identifies the mode in which there are some + extra VANC lines in the frame buffer.">NTV2_VANCMODE_TALLER</a>.</li>
</ul>
</li>
<li><b>Vanc Shift</b> — Indicates/controls the FrameStore’s <b>VANC Data Shift Mode</b>.<ul>
<li>This setting only affects how <a class="el" href="../../d5/d32/dataformats.html#fbformat8bitycbcr">8-Bit YCbCr Format</a> data in the VANC region is written/read to/from the frame buffer.</li>
<li><b>Capture Mode (Input):</b> When enabled, the firmware automatically right-shifts incoming 10-bit data words in the VANC lines by 2 bits, making it easy to read ancillary data packets from the 8-bit values in the frame buffer.</li>
<li><b>Playback Mode (Output):</b> When enabled, the firmware automatically left-shifts outgoing data words by 2 bits from the VANC lines, making it easy to write ancillary data packets with 8-bit values into the frame buffer.</li>
<li>When checked/ticked, the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8">NTV2VANCDataShiftMode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8a14ab6514015e46fc5db9a54d751bb2be">NTV2_VANCDATA_8BITSHIFT_ENABLE</a>.</li>
<li>When unchecked, the FrameStore’s <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8">NTV2VANCDataShiftMode</a> is set to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a52ef2da10fd05237b9da320e75888ae8aa7e7f247312dfdd4da72272771e0ffdc">NTV2_VANCDATA_NORMAL</a>.</li>
<li>See also: <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a6d8c6925dda7aa8e9b0cb903e8b25d78" title="Retrieves the current &quot;VANC Shift Mode&quot; feature for the given channel.">CNTV2Card::GetVANCShiftMode</a> , <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a7599cff630fc737368608cd795be2949" title="Enables or disables the &quot;VANC Shift Mode&quot; feature for the given channel.">CNTV2Card::SetVANCShiftMode</a> , <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a> , <a class="el" href="../../d7/dcb/ancillarydata.html#vancframegeometries">VANC Frame Geometries</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>Anc Extractor/Inserter Tab</b> <div class="image">
<img src="../../watcher-inspector-anc-sdi.png" alt=""/>
</div>
<ul>
<li>This type of tab is present only for devices that have Anc inserter/extractor firmware.</li>
<li>It has three major sections stacked vertically:<ul>
<li><b>Control &amp; Registers Area</b><ul>
<li><b>Registers:</b> — This menu controls the inserter/extractor register display:<ul>
<li><b>Hide</b> — Hides the register display.</li>
<li><b>Show</b> — Displays the registers.</li>
</ul>
</li>
<li><b>Run</b> button — Click to start the inserter/extractor. Displays <em>“Running”</em> when running.</li>
<li><b>Stop</b> button — Click to stop the inserter/extractor. Displays <em>“Stopped”</em> when stopped.</li>
<li><b>Clear</b> button — Click to clear/zero the Anc region of device frame buffer memory.</li>
<li><b>Anc Exclusions:</b> menu <em>(for Anc Extractor tabs only)</em> — Indicates which Anc packet types (Data IDs) are currently being excluded by the Anc Extractor. It can be used to add or remove Anc packet types from the exclusion set.<ul>
<li><b>None (Show All Packets)</b> — Checked if the Anc Extractor is not filtering any packets. Choose this item to stop all packet filtering (i.e. to extract all packet types).</li>
<li><b>SD Defaults</b> — Checked if the Anc Extractor is not filtering SD audio packets. Choose this item to filter all SD audio packets.</li>
<li><b>HD Defaults</b> — Checked if the Anc Extractor is not filtering HD audio packets. Choose this item to filter all HD audio packets.</li>
<li><em>all other items</em> — The menu has dozens of pre-defined Anc packet types available for filtering. For each Anc packet type (i.e. Data ID, or DID)…<ul>
<li>If checked, the Anc Extractor is currently filtering that packet type (Data ID). Selecting the item will toggle its state and remove the DID from the Extractor’s filter set.</li>
<li>If unchecked, the Anc Extractor is <em>not</em> currently filtering that packet type (Data ID). Selecting the item will toggle its state and add the DID to the Extractor’s filter set.</li>
</ul>
</li>
</ul>
</li>
<li><b>Anc Register Display</b> <div class="image">
<img src="../../watcher-inspector-anc-regs.png" alt=""/>
</div>
<ul>
<li>Visible only when the <b>Registers</b> menu is set to <b>Show</b>.</li>
<li>It shows each of the inserter/extractor configuration registers.</li>
<li>The register values are editable.</li>
</ul>
</li>
</ul>
</li>
<li><b>Field 1 Area</b><ul>
<li><b>F1 Anc:</b> — This menu controls the F1 Anc data display:<ul>
<li><b>Hide</b> — Hides the F1 buffer data display.</li>
<li><b>Raw</b> — Displays the F1 Anc region data as raw data. (See <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc-raw">Raw Data Display</a>.)</li>
<li><b>Packets</b> — Decodes the F1 Anc region data, and lists the decoded ancillary data packets. (See <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc-pkt">Packet Display</a>.)</li>
</ul>
</li>
<li><b>Max Capacity:</b> — This indicates the current maximum capacity of the F1 Anc region, in bytes.</li>
<li><b>Overrun Indicator</b> <em>(capture mode only)</em> — This indicator will be visible and bright red if the F1 extractor is attempting to write past the end of its allotted buffer space.</li>
<li><b>Data Display Area</b><ul>
<li>When shown, displays the “raw” F1 data buffer or the list of packets that were decoded from the buffer area.</li>
</ul>
</li>
</ul>
</li>
<li><b>Field 2 Area</b><ul>
<li><b>F1 Anc:</b> — This menu controls the F2 Anc data display:<ul>
<li><b>Hide</b> — Hides the F2 buffer data display.</li>
<li><b>Raw</b> — Displays the F2 Anc region data as raw data. (See <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc-raw">Raw Data Display</a>.)</li>
<li><b>Packets</b> — Decodes the F2 Anc region data, and lists the decoded ancillary data packets. (See <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc-pkt">Packet Display</a>.)</li>
</ul>
</li>
<li><b>Max Capacity:</b> — This indicates the current maximum capacity of the F2 Anc region, in bytes.</li>
<li><b>Overrun Indicator</b> <em>(capture mode only)</em> — This indicator will be visible and bright red if the F2 extractor is attempting to write past the end of its allotted buffer space.</li>
<li><b>Data Display Area</b><ul>
<li>When shown, displays the “raw” F1 data buffer or the list of packets that were decoded from the buffer area.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="inspectoranc-raw"></a>
Raw Data Display</h3>
<ul>
<li>Displays the contents of the buffer as raw numeric data.</li>
<li>Available in the <b>VANC</b>, <b>F1 Anc</b> and <b>F2 Anc</b> sections by choosing <b>Raw</b> in the menu.</li>
<li>Data that changed from the previous buffer sample is highlighted with a brighter color.</li>
<li>Right-click in the data content area to change how the data is formatted:<ul>
<li><b>Grouping</b> — Choose byte grouping from <b>1</b>, <b>2</b>, <b>4</b> or <b>8</b> bytes.</li>
<li><b>Radix</b> — Choose from <b>binary</b>, <b>octal</b>, <b>decimal</b> or <b>hex</b>adecimal.</li>
<li><b>Bytes/Line</b> — Choose from <b>8</b>, <b>16</b>, <b>32</b>, … up to <b>4096</b> bytes per line. <dl class="section note"><dt>Note</dt><dd>The bytes-per-row count of the VANC display is fixed by the channel’s frame geometry, and is not adjustable.</dd></dl>
</li>
</ul>
</li>
<li>Right-click in the column heading area to change the horizontal scale:<ul>
<li><b>Reference</b> — Choose <b>Byte Offset From Start</b> or <b>Byte Offset From End</b>.</li>
<li><b>Radix</b> — Choose <b>Dec (Base 10)</b> or <b>Hex (Base 16)</b>.</li>
</ul>
</li>
<li>Right-click in the row heading area to change the vertical scale:<ul>
<li><b>Reference</b> — Choose <b>Byte Offset From Start</b> or <b>Byte Offset From End</b>.</li>
<li><b>Radix</b> — Choose <b>Dec (Base 10)</b> or <b>Hex (Base 16)</b>.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="inspectoranc-pkt"></a>
Packet Display</h3>
<ul>
<li>Displays a list of ancillary data packets parsed from the buffer. <dl class="section note"><dt>Note</dt><dd>For buffers written by the Anc Extractor firmware, the parser simply attempts to decode whatever packets it finds in the buffer. It’s generally not possible for NTV2Watcher to frame-accurately obtain the Inserter’s bytes-written counter. Thus it’s possible for invalid or stale packets to appear in the packet list. It can help to clear the Anc buffer (use the <b>Clear</b> button) and see if the suspected bad packets disappear.</dd></dl>
</li>
<li>Available for the <b>VANC</b>, <b>F1 Anc</b> and <b>F2 Anc</b> buffers by choosing <b>Packets</b> from the display control menu.</li>
<li>For each packet, it shows, in columns:<ul>
<li><b>Pkt</b> — The index number in the list.</li>
<li><b>Cod</b> — Coding – <b>Ana</b>log or <b>Dig</b>ital.</li>
<li><b>Fmt</b> — Originating Buffer Format: <b>SDI</b>, <b>RTP</b> or <b>VANC</b>.</li>
<li><b>Timestamp</b> — For RTP, the timestamp from the RTP header; otherwise, a frame sequence number.</li>
<li><b>Lnk</b> — The data link (A or B).</li>
<li><b>DS</b> — The data stream (DS1 … DS4).</li>
<li><b>Line</b> — On capture, the SMPTE line number where the data was found; on playout, the SMPTE line number where the data is to be inserted.</li>
<li><b>HOff</b> — Horizontal Offset: or HANC or VANC.</li>
<li><b>Chn</b> — Channel: Luma (Y) or chroma (C).</li>
<li><b>DID</b> — The DID of the packet.</li>
<li><b>SDID</b> — The SDID of the packet.</li>
<li><b>Description</b> — Packet description.</li>
<li><b>DC</b> — Data Count of the payload data, in bytes (decimal and hex).</li>
<li><b>CS</b> — The checksum of the payload data, in hexadecimal. On playout, this value is irrelevant, since the inserter/embedder performs the checksum computation.</li>
<li><b>Data</b> — A dump of the first several bytes of payload data.</li>
</ul>
</li>
<li>Data values that changed from the previous buffer sample are highlighted with a brighter color.</li>
<li>Packets missing from the prior buffer sample are shown in red (as “missing”).<ul>
<li>This behavior can be disabled by unchecking <b>Show Absent Packets</b> (near the top of the inspector).</li>
</ul>
</li>
</ul>
<p>Choose <b>Copy</b> from the <b>Edit</b> menu to copy a human-readable snapshot of the displayed information to the Clipboard.</p>
<h3><a class="anchor" id="inspectoranc-caption"></a>
Closed-Caption Display</h3>
<ul>
<li>This inspector can be used to drive the <a class="el" href="../../db/d02/toolsandutilities.html#anc608viewer">“EIA/CEA-608 Caption” Tool</a> for monitoring closed-captions.</li>
<li>To prevent duplicate or multiple caption byte streams from being sent to the <a class="el" href="../../db/d02/toolsandutilities.html#anc608viewer">“EIA/CEA-608 Caption” Tool</a> …<ul>
<li>Only one of the Anc buffer regions should be visible, and it must be set to display “Packets”.</li>
<li>Only one caption packet should be listed in the packet list.</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Hiding unneeded buffer displays uses fewer CPU resources, helping the inspector update at frame rate (which increases the fidelity of the <a class="el" href="../../db/d02/toolsandutilities.html#anc608viewer">“EIA/CEA-608 Caption” Tool</a>, if needed).</dd></dl>
<h3><a class="anchor" id="inspectoranc-dragdrop"></a>
Drag and Drop Support</h3>
<ul>
<li><b>Auto</b> mode must be disabled (un-checked).</li>
<li>Dropping a single file from outside the inspector window is supported.</li>
<li>Dropping the file into the <b>F1 Anc</b> or <b>F2 Anc</b> data areas (if visible, in either <b>Raw</b> or <b>Packets</b> view) will write the binary contents of the file into the Anc region of the frame buffer.</li>
<li>Dropping the file into the <b>VANC Anc</b> data area (if visible, in either <b>Raw</b> or <b>Packets</b> view) will write the binary contents of the file into the VANC lines (if VANC mode enabled) of the frame buffer.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Data coloring in the <b>Ancillary Data Inspector</b> can be configured in the <b>Colors</b> tab of the <a class="el" href="../../db/d02/toolsandutilities.html#watcherprefs">NTV2Watcher Preferences</a> dialog.</dd></dl>
<p>This inspector monitors the buffer region(s) for the currently-selected tab.</p><ul>
<li>It reads (via DMA) the anc buffer portion into host memory.<ul>
<li>For Channel (FrameStore) tabs:<ul>
<li>It reads all VANC lines that precede the first visible line in the raster.</li>
<li>For SD video, it reads all visible raster lines (to ensure it gets line 21 for “analog” captions).</li>
</ul>
</li>
<li>For Anc inserter/extractor tabs, if the inserter/extractor is actively writing/reading device memory:<ul>
<li>…it will read the Anc region pointed to by its <b>Start Address</b> registers (whichever is lower).</li>
</ul>
</li>
</ul>
</li>
<li>When the <b>Poll</b> checkbox is checked/ticked, this inspector attempts to refresh at the FrameStore’s current frame rate (as soon after the VBI as possible).<ul>
<li>An indicator in the bottom-right corner of the main window’s status bar shows the actual, measured refresh rate.</li>
<li>When the indicator’s color is not Green, then the inspector is not frame-accurate, and the data being presented is late (stale).</li>
</ul>
</li>
<li>When polling is disabled, it will only update when the <b>Refresh</b> button is manually pressed.</li>
<li>After each refresh, it compares the frame buffer contents to what was read the last time:<ul>
<li>The data display highlights changed content with a brighter color.</li>
</ul>
</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectorac"></a>
AutoCirculate Inspector</h2>
<div class="image">
<img src="../../watcher-inspector-ac.png" alt=""/>
</div>
<p>The <b>AutoCirculate</b> inspector monitors the <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> state for every available channel on the device. When the <b>Poll</b> checkbox is checked/ticked, this inspector updates at the given polling <b>Interval</b> rate. Information that changed from the last update is shown in a brighter color.</p>
<p>The inspector shows the following:</p><ul>
<li><b>Streaming Application</b> — Shows the process ID and four-CC “signature” of the application that called <a class="el" href="../../dc/dfc/class_c_n_t_v2_mac_driver_interface.html#a0e7df2ec68f90742fe54a023bb4b0b9b" title="Sets the four-CC type and process ID of the application that should &quot;own&quot; the AJA device (i....">CNTV2Card::SetStreamingApplication</a>. See <a class="el" href="../../dc/d29/devicesharing.html">Sharing AJA Devices With Other Applications</a> for more information.</li>
<li><b>AutoCirculate Status</b> — Formats and displays <a class="el" href="../../da/d18/class_a_u_t_o_c_i_r_c_u_l_a_t_e___s_t_a_t_u_s.html" title="This is returned from the CNTV2Card::AutoCirculateGetStatus function.">AUTOCIRCULATE_STATUS</a> information pulled from the <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a611031170a5dd26e456ed55e05dec9c2" title="Returns the current AutoCirculate status for the given channel.">CNTV2Card::AutoCirculateGetStatus</a> function call for each <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a00aeeb1c32a817cf8a5b71396c8e8dce" title="These enum values are mostly used to identify a specific widget_framestore. They&#39;re also commonly use...">NTV2Channel</a>.</li>
<li><b>Timecodes</b> — This area shows the contents of the <a class="el" href="../../d4/dd7/ntv2publicinterface_8h.html#a0dc5ff3a2d98a5b33fbc9ea988b0a80e" title="An ordered sequence of zero or more NTV2_RP188 structures. An NTV2TCIndex enum value can be used as a...">NTV2TimeCodeList</a> returned from <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a771fe110709ae2019de20d09a7c4fb20" title="Returns precise timing information for the given frame and channel that&#39;s currently AutoCirculating.">CNTV2Card::AutoCirculateGetFrameStamp</a> for each AutoCirculate frame buffer. Use the <b>Timecodes</b> popup menu to control which channel to display (or “Hide” to not display timecodes). <dl class="section note"><dt>Note</dt><dd>This area doesn’t appear on S2110 devices (i.e. <a class="el" href="../../d0/d53/ntv2devices.html#konaip">KONA IP</a> <a class="el" href="../../d0/d53/ntv2devices.html#ioip">Io IP</a> running S2110 firmware). This is because the driver’s internal AutoCirculate structures are tied to the hardware timecode registers, which are uninvolved in S2110. In S2110, timecodes are obtained (capture) or produced (playout) in ATC-LTC or ATC-VITC packets embedded in RTP packet(s).</dd></dl>
The inspector also provides the ability to control <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a>.</li>
<li><b>Force Release</b> — Click to force the release of a streaming application that had previously reserved the device for exclusive use. See <a class="el" href="../../dc/d29/devicesharing.html">Sharing AJA Devices With Other Applications</a> for more information.</li>
<li>Right-clicking anywhere in a channel column will pop up a menu with these commands:<ul>
<li><b>Start…</b> (or <b>Restart…</b>): Pops up the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoracstart">AutoCirculate Configuration Dialog</a> (see below).</li>
<li><b>Stop:</b> Gracefully stops the <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel (by passing <b>false</b> to <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#af8f8c43f63629d31d3f4c3dc4d71bbf5" title="Stops AutoCirculate for the given channel, and releases the on-device frame buffers that were allocat...">CNTV2Card::AutoCirculateStop</a>).</li>
<li><b>Abort:</b> Ungracefully stops the <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel (by passing <b>true</b> to <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#af8f8c43f63629d31d3f4c3dc4d71bbf5" title="Stops AutoCirculate for the given channel, and releases the on-device frame buffers that were allocat...">CNTV2Card::AutoCirculateStop</a>).</li>
<li><b>Pause:</b> Pauses the running <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel (by calling <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#ac72c740b4978e6be464d4075cc7c11b5" title="Pauses AutoCirculate for the given channel. Once paused, AutoCirculate can be resumed later by callin...">CNTV2Card::AutoCirculatePause</a>).</li>
<li><b>Resume:</b> Resumes the paused <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel (by calling <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a36316f23f45caaee19820629a9f0e4db" title="Resumes AutoCirculate for the given channel, picking up at the next frame without loss of audio synch...">CNTV2Card::AutoCirculateResume</a>).</li>
<li><b>Flush:</b> Flushes the <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel (by calling <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#a6bf5528015a7391f29652b235c0de44c" title="Flushes AutoCirculate for the given channel.">CNTV2Card::AutoCirculateFlush</a>).</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="inspectoracstart"></a>
AutoCirculate Configuration Dialog</h3>
<p>The <b>AutoCirculate</b> configuration dialog is used to configure a stopped <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel that is to be started, or to reconfigure a running <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel (by restarting it with new operating parameters).</p>
<div class="image">
<img src="../../watcher-autocirculate-config.png" alt=""/>
</div>
<ul>
<li>For a <b><em>Running</em></b> channel, clicking the <b>Restart</b> button will restart the AutoCirculate channel with the new settings specified in the dialog.</li>
<li>For a <b><em>Stopped</em></b> channel, clicking the <b>Start</b> button will start the AutoCirculate channel with the settings specified in the dialog.</li>
<li><b>Mode:</b> Selects <a class="el" href="../../d9/d9a/recordplaytechniques.html#autocirculatecapture">AutoCirculate Capture</a> or <a class="el" href="../../d9/d9a/recordplaytechniques.html#autocirculateplayout">AutoCirculate Playout</a>. (This menu will be disabled if the channel is <b><em>Running</em></b>.)</li>
<li><b>Frame Range:</b> This group controls which frame buffers on the device will be used for buffering frames.<ul>
<li><b>Start Frame:</b> Chooses the starting frame number. (This will be disabled if <b>Automatic</b> is checked.)</li>
<li><b>End Frame:</b> Chooses the ending frame number. (This will be disabled if <b>Automatic</b> is checked.)</li>
<li><b>Frame Count:</b> Chooses the number of frames to be used.</li>
<li><b>Automatic:</b> Given the desired <b>Frame Count</b>, lets AutoCirculate automatically choose which frames are to be used.</li>
</ul>
</li>
<li><b>Options:</b> This group controls the AutoCirculate options.<ul>
<li><b>Audio:</b> Controls if audio will also be streamed, and if so, which <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abe5e1274885a1ba60e04e66bb0b41516" title="Used to identify an Audio System on an NTV2 device. See Audio System Operation for more information.">NTV2AudioSystem</a> to use.</li>
<li><b>RP188/VITC:</b> If checked, capture/play RP188/VITC timecode.</li>
<li><b>FBF Change:</b> If checked, tells AutoCirculate to anticipate changes to <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ace03c7b6e4f21738519430d1fa42161c" title="Identifies a particular video frame buffer format. See Device Frame Buffer Formats for details.">NTV2FrameBufferFormat</a> while streaming.</li>
<li><b>Color Correction:</b> If checked, tells AutoCirculate to anticipate LUT changes while streaming.</li>
<li><b>Ancillary Data:</b> If checked, tells AutoCirculate to also capture/play custom ancillary data while streaming.</li>
<li><b>HDMI Aux Data:</b> If checked, tells AutoCirculate to also capture/play custom HDMI auxiliary data while streaming.</li>
<li><b>LTC:</b> If checked, tells AutoCirculate to also capture/play LTC while streaming.</li>
<li><b>FBO Change:</b> If checked, tells AutoCirculate to anticipate <a class="el" href="../../d6/d0c/ntv2enums_8h.html#abae0f092f4f517b23c051599c3c42e09">NTV2FBOrientation</a> changes while streaming.</li>
<li><b>Video Processing:</b> If checked, tells AutoCirculate to anticipate Mixer/Keyer configuration changes while streaming.</li>
<li><b>Audio Control:</b> If checked, tells AutoCirculate to anticipate Audio Control changes while streaming.</li>
<li><b>Field Mode:</b> If checked, tells AutoCirculate to stream in <b>Field Mode</b> rather than the default <b>Frame Mode</b>.</li>
</ul>
</li>
<li><b>Start Options:</b> This group controls how AutoCirculate will be initialized/started:<ul>
<li><b>Init Only:</b> If chosen, only CNTV2Card::AutoCirculateInit will be called. (<a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#ae617507f1b0562f866201a58c26e10e7" title="Starts AutoCirculating the specified channel that was previously initialized by CNTV2Card::AutoCircul...">CNTV2Card::AutoCirculateStart</a> will <em>not</em> be called.)</li>
<li><b>Normal:</b> If chosen, AutoCirculate will be initialized and started normally (<a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#ae617507f1b0562f866201a58c26e10e7" title="Starts AutoCirculating the specified channel that was previously initialized by CNTV2Card::AutoCircul...">CNTV2Card::AutoCirculateStart</a> is called with default parameters).</li>
<li><b>Delayed:</b> If chosen, AutoCirculate will be initialized (see CNTV2Card::AutoCirculateInit) and started (via <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#ae617507f1b0562f866201a58c26e10e7" title="Starts AutoCirculating the specified channel that was previously initialized by CNTV2Card::AutoCircul...">CNTV2Card::AutoCirculateStart</a>) with a non-zero <em>start time</em> value:<ul>
<li><b>Milliseconds:</b> Specifies the number of milliseconds to delay the start.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Choose <b>Copy</b> from the <b>Edit</b> menu to copy a human-readable frame-accurate snapshot of the AutoCirculate state of the device to the Clipboard.</p>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectormixerkeyer"></a>
Mixer/Keyer Inspector</h2>
<div class="image">
<img src="../../watcher-inspector-mixer.png" alt=""/>
</div>
<p>The <b>Mixer/Keyer</b> inspector monitors and controls the device’s <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-mixerkeyer">Mixer/Keyer Operation</a> .</p>
<p>There is a group of controls for each Mixer/Keyer widget on the device:</p><ul>
<li><b>Mixer Sync</b> — Indicates if the Mixer’s inputs are in-sync or not.</li>
<li><b>Foreground Input</b> — Shows what’s connected to the Mixer’s Foreground <b>Video</b> and <b>Key</b> inputs.</li>
<li><b>Background Input</b> — Shows what’s connected to the Mixer’s Background <b>Video</b> and <b>Key</b> inputs.</li>
<li><b>Mode</b> — Indicates and controls the Mixer’s mode. Choose from:<ul>
<li><b>Foreground ON</b> — Foreground video and key is exclusively passed to the Mixer output.</li>
<li><b>Mix</b> — A mix of the foreground video over the background video is passed to the Mixer output. If either foreground or background <b>Flat Matte</b> is enabled, the Matte will be mixed instead of its respective video input.</li>
<li><b>Foreground OFF</b> — Background video and key is exclusively passed to the Mixer output.</li>
</ul>
</li>
<li><b>Mix Coefficient</b> — Indicates and controls the mix. Disabled when not in <b>Mix Mode</b>.</li>
<li><b>Foreground Input Control</b> — Indicates and controls what gets selected from the foreground input raster.<ul>
<li><b>Full Raster</b> — Uses the full raster, disregarding any Foreground Key input.</li>
<li><b>Shaped</b> — Uses the Foreground Key input as a mask.</li>
</ul>
</li>
<li><b>Background Input Control</b> — Indicates and controls what gets selected from the background input raster.<ul>
<li><b>Full Raster</b> — Uses the full raster, disregarding any Background Key input.</li>
<li><b>Shaped</b> — Uses the Background Key input as a mask.</li>
</ul>
</li>
<li><b>Matte Control</b> — Indicates and controls the <b>Flat Matte</b> feature, which overrides an input raster with a flat field of constant luminance and color:<ul>
<li><b>Off</b> — Disables the feature.</li>
<li><b>Foreground</b> — Use the current <b>Flat Matte</b> color for the foreground.</li>
<li><b>Background</b> — Use the current <b>Flat Matte</b> color for the background.</li>
</ul>
</li>
<li><b>Matte Color</b> — Indicates and controls the <b>Flat Matte</b> color. Disabled if the <b>Matte Control</b> is “Off”. To change the color, click the color swatch pushbutton, which brings up a color picker dialog box. Choose <b>OK</b> to set the selected color.</li>
<li><b>Output VANC Source</b> — Indicates and controls the Mixer‘s VANC pass-through.<ul>
<li><b>Background Video</b> — Passes the background video’s VANC lines to the Mixer output.</li>
<li><b>Foreground Video</b> — Passes the foreground video’s VANC lines to the Mixer output.</li>
</ul>
</li>
</ul>
<p>Choose <b>Copy</b> from the <b>Edit</b> menu to copy a human-readable snapshot of the state of all Mixers to the Clipboard.</p>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectorlut"></a>
LUT Inspector</h2>
<div class="image">
<img src="../../watcher-inspector-lut.png" alt=""/>
</div>
<p>The <b>LUT</b> inspector monitors and controls any one of the device’s LUT banks (see <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-lut">LUT Operation</a> ). Because of access contention issues, it does not continually poll and update its LUT display. Instead, the displayed table data must be manually loaded from the device on demand.</p>
<ul>
<li>The data display is a 1,024-row table with three columns, one column per color component. It represents the contents of an in-host data buffer.</li>
<li>To load the in-host data buffer from the device, set the <b>LUT</b> of interest using the menu control, then right-click inside the table, and choose one of the <b>Load from Bank</b> commands. The contents of the in-host buffer are replaced.</li>
<li>To write/save the in-host data buffer to the device, set the <b>LUT</b> using the menu control, then right-click inside the table, and choose one of the <b>Write to Bank</b> commands.</li>
<li>To write/save the in-host data buffer to a host file, right-click inside the table, and choose an <b>Export</b> command.</li>
<li>The table can be edited any time:<ul>
<li>Make selections with the mouse and/or keyboard.</li>
<li>Right-click in the table to pop up a context menu of several commands:<ul>
<li><b>Copy</b> — Copies the highlighted cell data into the host scrap buffer for pasting elsewhere later.</li>
<li><b>Paste</b> — Pastes the host clipboard contents into the table starting at the top-left highlighted cell.</li>
<li><b>Select All</b> — Highlights all cells in the table.</li>
<li><b>Set From Predefined…</b> — Pops up a submenu of predefined LUTs, that if chosen, will replace the table contents:<ul>
<li><b>Linear</b> — With this LUT, output component values will exactly match input component values.</li>
<li><b>Gamma 18 Rec601 (Full)</b></li>
<li><b>Gamma 18 Rec709 (Full)</b></li>
<li><b>Gamma 18 Rec601 (SMPTE)</b></li>
<li><b>Gamma 18 Rec709 (SMPTE)</b></li>
<li><b>RGB Full-Range SMPTE</b></li>
</ul>
</li>
<li><b>Import…</b> — Presents a standard file-picker dialog for choosing a CSV or tab-delimited data file to import. If confirmed, replaces the in-host buffer with the contents of the chosen data file.</li>
<li><b>Export Text…</b> — Presents a standard file-save dialog for exporting the table into a tab-delimited text file.</li>
<li><b>Export CSV…</b> — Presents a standard file-save dialog for exporting the table into a CSV file.</li>
<li><b>Load from Bank <em>N</em></b> — Discards the in-host buffer, and replaces its contents with the requested LUT bank from the device.</li>
<li><b>Write to Bank <em>N</em></b> — Writes the in-host buffer to the requested LUT bank on the device.</li>
<li><b>Fill Selection</b> — Fills the highlighted cells with the value of the right-clicked cell.</li>
<li><b>Fill Down</b> — Fills all highlighted cells with the values of the top-most cells.</li>
<li><b>Fill Right</b> — Fills all highlighted cells with the values of the left-most cells.</li>
<li><b>Clear</b> — Fills all highlighted cells with zero.</li>
<li><b>Invert</b> — Inverts the values in all highlighted cells (i.e. subtracts its current value from 1023).</li>
</ul>
</li>
<li>Double-click in a table cell to change its value.</li>
<li>There is some <b>Drag &amp; Drop</b> support:<ul>
<li>Dropping a CSV or tab-delimited data file into the table will replace some/all the in-host data buffer cell values with the contents of the file.<ul>
<li>Excess columns and/or rows are ignored in files containing more than 3 columns or more than 1024 rows.</li>
<li>If the drop location is inside the table, the in-host buffer will be overwritten starting at the highlighted cell; otherwise, it will be overwritten starting at the top/left data cell.</li>
</ul>
</li>
</ul>
</li>
<li>Changes made to the table are not saved unless explicitly exported (or copy/pasted) into a file, or written to the device. No warnings are given before replacing/overwriting the in-host table buffer being edited. There is no <b>Undo</b> facility.</li>
</ul>
</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectorregs"></a>
Registers Inspector</h2>
<div class="image">
<img src="../../watcher-inspector-regs.png" alt=""/>
</div>
<p>The <b>Regs</b> inspector monitors any number of real and/or virtual 32-bit registers at the current <b>Polling Interval</b>. Its <b>Filter</b> feature permits immediate customization to focus on specific registers of interest.</p>
<p>When the <b>Poll</b> checkbox is checked/ticked, this inspector updates at the given polling <b>Interval</b> rate. Register contents that changed from the last update are shown in a brighter color.</p>
<p>The inspector has the following:</p><ul>
<li>A scrollable table of registers, one register per row, in ascending register number (i.e. bar address) order.</li>
<li><b>Virtuals</b> — A checkbox that controls if virtual registers are included in the list or not.</li>
<li><b>Bulk Reg Read</b> — A checkbox that controls if registers are read in a single driver call or not.</li>
<li><b>Filter</b> — An editable text box whose content determines which registers are seen in the list. It’s accompanied by a pop-up menu containing several named register groups, and any saved filters. The text in the box acts as a filter:<ul>
<li><em>empty</em> — No filtering takes place. All registers are shown.</li>
<li><em>non-empty</em> — Filtering takes place. Any of the following specifications that are separated by whitespace (any number of spaces or tabs) and/or commas:<ul>
<li><b>Class Name</b> — e.g. <code>kRegClass_Audio</code> — shows registers that belong to that class.<ul>
<li>The accompanying popup menu contains these predefined register groups (e.g. inputs, outputs, HDMI, etc.).</li>
</ul>
</li>
<li><b>Name Fragment</b> — shows registers whose name contains the given text fragment (without regard to case).</li>
<li><b>Register Range</b> — shows only those registers in the given range:<ul>
<li><code>{regSpec} [{'-'} {regSpec}]</code> …or…</li>
<li><code>[{decNum} '@'] {regSpec}</code></li>
</ul>
</li>
<li><b>Register Specification</b> — <code>regSpec</code> — specifies a single register (or a byte offset to one):<ul>
<li><code>['+'] {decNum}</code> …or…</li>
<li><code>['#'] ['0'] {'x'|'X'} {hexNum}</code></li>
</ul>
</li>
<li><b>Decimal Number</b> — <code>{decNum}</code> — a sequence of decimal digits that yields an unsigned integer value<ul>
<li>Specifies a register number by default</li>
<li>Specifies a byte offset when preceded by <code>'+'</code> sign</li>
</ul>
</li>
<li><b>Hexadecimal Number</b> — <code>{hexNum}</code> — a sequence of hex digits (0-9 | A-F | a-f)<ul>
<li>Specifies a byte offset by default</li>
<li>Specifies a register number when preceded by <code>'#'</code> sign</li>
</ul>
</li>
</ul>
</li>
<li><b>Examples:</b><ul>
<li><code>25</code> — Only show register 25</li>
<li><code>25-29</code> — Shows registers 25, 26, 27, 28 and 29.</li>
<li><code>5@25</code> — Shows 5 registers starting at register 25: 25, 26, 27, 28 and 29.</li>
<li><code>3 5, 7,,,9</code> — Shows registers 3, 5, 7 and 9.</li>
<li><code>dma3</code> — Shows all registers that have “dma3” in their name.</li>
<li><code>+4-+12</code> — Shows registers 1, 2 and 3 (i.e. the registers from byte offset 4 through byte offset 12).</li>
<li><code>#0x8A-#X8f</code> — Shows registers 138, 139, 140, 141, 142 and 143 (i.e. the registers from byte offset <code>0x8A</code> through byte offset <code>0x8F</code>).</li>
</ul>
</li>
</ul>
</li>
<li><b>Save</b> — Available if the filter text isn’t currently a preset in the popup menu. Click to save the filter as a new preset.</li>
<li><b>Remove</b> — Available if the filter text matches a previously-saved preset in the popup menu. Click to remove it from the popup menu.</li>
</ul>
<p>The register list is a table of register values that is always sorted in ascending register number order. Right-clicking in any of the column headings pops up a menu:</p><ul>
<li><b>Column Display</b> — Controls which columns are shown, and their order:<ul>
<li><b>Number</b> — The register number</li>
<li><b>Offset</b> — The register offset into its base address range (BAR).</li>
<li><b>Name</b> — The register name.</li>
<li><b>Class</b> — The class(es) the register belongs to.</li>
<li><b>Value</b> — The register value.</li>
<li><b>Desc</b> — The register description.</li>
<li><b>Decoded Value</b> — Text that shows the register value in a human-readable format.</li>
</ul>
</li>
<li><b>Radix</b> — Controls the radix of the numbers displayed in the column:<ul>
<li><b>Bin (Base 2)</b> — Display register values in base 2 (binary).</li>
<li><b>Oct (Base 8)</b> — Display register values in base 8 (octal).</li>
<li><b>Dec (Base 10)</b> — Display register values in base 10 (unsigned decimal).</li>
<li><b>Hex (Base 16)</b> — Display register values in base 16 (hexadecimal).</li>
</ul>
</li>
<li><b>Hide This Column</b> — Hides the column that was right-clicked.</li>
</ul>
<p>There are two ways to change a register’s value:</p><ul>
<li>Click inside the register value. This will cause an edit box to appear. Then…<ul>
<li>Change the value in the edit box as desired (keeping to the existing display radix).</li>
<li>Press <b>Enter</b> or <b>Return</b> to confirm your changes, and write the new register value to the device. The edit box will disappear.</li>
<li>Press <b>Escape</b> or click elsewhere to abandon your changes. The edit box will disappear.</li>
</ul>
</li>
<li>Right-click in any column other than the <b>Value</b> column to pop-up a context menu:<ul>
<li><b>Clear All Bits</b> — Sets the register value to zero.</li>
<li><b>Clear Bit</b> — Pops up a sub-menu to clear/zero a specific bit.</li>
<li><b>Set All Bits</b> — Sets all register bits (i.e. sets the register value to <code>0xFFFFFFFF</code>).</li>
<li><b>Set Bit</b> — Pops up a sub-menu to set a specific bit to <code>1</code>.</li>
<li><b>Increment</b> — Adds 1 to the register value.</li>
<li><b>Decrement</b> — Subtracts 1 from the register value.</li>
<li><b>Shift Left</b> — Left-shifts all bits by one (i.e. multiplying by 2).</li>
<li><b>Shift Right</b> — Right-shifts all bits by one (i.e. dividing by 2).</li>
</ul>
</li>
</ul>
<p>Choose <b>Copy</b> from the <b>Edit</b> menu to copy to the host’s Clipboard a set of <a class="el" href="../../dc/dfc/class_c_n_t_v2_mac_driver_interface.html#aa996046aa48e6c684fd77d7b1d99bd40" title="Updates or replaces all or part of the 32-bit contents of a specific register (real or virtual) on th...">CNTV2Card::WriteRegister</a> function calls that will produce the register values seen in the display.</p>
<p><b>TIP:</b> The <a class="el" href="../../db/d02/toolsandutilities.html#regautocycler">“Register Cycler” Tool</a> can be used to periodically cycle a register between a minimum and maximum value.</p>
<hr  size="50px" />
 <h2><a class="anchor" id="inspectorroute"></a>
Routing Inspector</h2>
<p>The <b>Routing</b> inspector monitors and controls widget signal crosspoint routing as well as widget state (to some degree). It has the following tab panels:</p><ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorroutecables">Cables</a> — Graphically shows the device widgets and signal connections between them.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorroutecode">C++ Code</a> — Shows the C++ SDK calls that will produce the current routing configuration.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorroutetext">Shorthand Text</a> — Shows the routing configuration mnemonically.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorrouteregs">Registers</a> — Shows the device’s routing registers. The register values are can be changed.</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#inspectorroutexptmap">Crosspoint Map</a> — Shows a crosspoint mapping table with signal sources (outputs) arrayed horizontally, and signal sinks (inputs) arrayed vertically. A checkmark in the matrix indicates a connection.</li>
</ul>
<p>Choose <b>Print…</b> from the <b>File</b> menu to print a two-page report of the current routing configuration.</p>
<p>Choose <b>Copy</b> from the <b>Edit</b> menu to copy a human-readable snapshot of the displayed routing information to the Clipboard.</p>
<p>This inspector will accept plain text either pasted in (using the <b>Paste</b> command from the <b>Edit</b> menu), or by dropping it in (using drag-and-drop) from another application. To be interpreted correctly as a set of routing connections, the text must syntactically conform to:</p><ul>
<li><b>C++ Statements</b> — One or more lines, each containing a call to <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#aaa49e3963887ef83d86ee39e19972b31" title="Connects the given widget signal input (sink) to the given widget signal output (source).">CNTV2Card::Connect</a> : <div class="fragment"><div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4ac4aee26674a8a4ae84d209468d5333ee">NTV2_XptFrameBuffer1Input</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16aeb92ee9e88c84198ee883600cddaaa02">NTV2_XptSDIIn1</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a2539e52aeba549c535358d52c04906a8">NTV2_XptCSC1VidInput</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16aeb92ee9e88c84198ee883600cddaaa02">NTV2_XptSDIIn1</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a5721f66168fd1d223ba1d555f0f9de2b">NTV2_XptCSC2VidInput</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16ab63f2f0117d9eef9be2157b4b6baf7e2">NTV2_XptSDIIn1DS2</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a03333436d304aa4dac93723056b3ad22">NTV2_XptLUT1Input</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16a62f59d93ac6159cd58f73ea085aa0770">NTV2_XptCSC1VidRGB</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a837064097eb86a9284c2a7effe26459c">NTV2_XptLUT2Input</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16a45fdfe2568c2c0095115c99d757cb772">NTV2_XptCSC2VidRGB</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a04689c4ed3081db9cd6c99365285fc56">NTV2_XptSDIOut3Input</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16aeb92ee9e88c84198ee883600cddaaa02">NTV2_XptSDIIn1</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a9ebb0bb1096185ae9077938f2558573f">NTV2_XptSDIOut4Input</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16ab63f2f0117d9eef9be2157b4b6baf7e2">NTV2_XptSDIIn1DS2</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a11599852b7ead0c7220b2cbcbfcb1793">NTV2_XptHDMIOutInput</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16aeb92ee9e88c84198ee883600cddaaa02">NTV2_XptSDIIn1</a>);</div>
<div class="line">device.Connect (<a class="code" href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4ab138b943a989ccf74ad365c11eafd412">NTV2_XptAnalogOutInput</a>, <a class="code" href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16aeb92ee9e88c84198ee883600cddaaa02">NTV2_XptSDIIn1</a>);</div>
</div><!-- fragment --></li>
<li><b>Shorthand Notation</b> — One or more lines having the “shorthand” notation: <div class="fragment"><div class="line">FB1 &lt;== SDIIn1</div>
<div class="line">CSC1 &lt;== SDIIn1</div>
<div class="line">CSC2 &lt;== SDIIn1DS2</div>
<div class="line">LUT1 &lt;== CSC1RGB</div>
<div class="line">LUT2 &lt;== CSC2RGB</div>
<div class="line">SDIOut3 &lt;== SDIIn1</div>
<div class="line">SDIOut4 &lt;== SDIIn1DS2</div>
<div class="line">HDMIOutQ1 &lt;== SDIIn1</div>
<div class="line">AnalogOut &lt;== SDIIn1</div>
</div><!-- fragment --></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The <b>Routing Inspector</b> has several preference settings in the <a class="el" href="../../db/d02/toolsandutilities.html#watcherprefscables">Cables Preferences</a> tab in the <a class="el" href="../../db/d02/toolsandutilities.html#watcherprefs">NTV2Watcher Preferences</a> dialog.</dd></dl>
<h3><a class="anchor" id="inspectorroutecables"></a>
Cables</h3>
<p>The <b>Cables</b> tab displays a <b>Routing Diagram</b>, where routing changes can be performed interactively. This is the panel in which most routing tasks are most easily performed.</p>
<div class="image">
<img src="../../watcher-inspector-routing.png" alt=""/>
</div>
<p>There are these principal types of objects in the diagram:</p><ul>
<li><b>Widgets</b> — These represent the functional widgets implemented in the device firmware, such as FrameStores, SDI Inputs, etc.<ul>
<li><b>Widget</b>s contain one or more <b>Sockets</b> that represent each of the <b>Widget</b>’s crosspoint connections.</li>
<li><b>Sockets</b> are little square boxes inside a <b>Widget</b>. They cannot move independently — they always move with their owning <b>Widget</b>. There are two kinds of <b>Sockets</b>:<ul>
<li><b>Input</b> — This is a signal “sink” or “destination” crosspoint.<ul>
<li><b>Input</b>s are always on the widget’s left side.</li>
<li><b>Input</b>s can only be connected to one <b>Output</b> crosspoint.</li>
<li>Depending on the parent <b>Widget</b>, <b>Input Socket</b>s sometimes can accept both RGB or YCbCr signals, or only RGB or YCbCr.</li>
</ul>
</li>
<li><b>Output</b> — This is a signal “source” crosspoint.<ul>
<li><b>Output</b>s are always on the widget’s right side.</li>
<li><b>Output</b>s can be connected to any number of <b>Input</b> crosspoints.</li>
<li><b>Output</b>s have a fixed signal type that they emit (if enabled): YCbCr or RGB.</li>
</ul>
</li>
</ul>
</li>
<li><b>Socket</b>s can be logically <b>enabled</b> or <b>disabled</b>, usually determined by the parent <b>Widget</b>’s configuration.</li>
</ul>
</li>
<li><b>Cables/Wires</b> — These represent the currently existing widget crosspoint connections, as read from the device’s “crosspoint select” registers.</li>
</ul>
<p>Standard behaviors:</p><ul>
<li><b>Hovering</b><ul>
<li>Hovering the mouse pointer over any object will display a “Tool Tip” that gives detailed information about the object and its current state.</li>
</ul>
</li>
<li><b>Right-Clicking</b><ul>
<li>On <b>widgets</b> — Displays a context menu with commands that are relevant for the <b>widget</b> in its current state.<ul>
<li><b>Disconnect</b> — Disconnects whatever is connected to the widget.</li>
<li><b>Show Legal Routes</b> — On devices that support this feature, displays all implemented crosspoint routes from every <b>input socket</b> and <b>output socket</b>.</li>
<li><b>Hide Legal Routes</b> — Hides any/all displayed implemented crosspoint routes.</li>
</ul>
</li>
<li>On enabled <b>output sockets</b> — Displays a context menu with these commands:<ul>
<li><b>Disconnect</b> — Disconnects whatever is connected to the <b>output socket</b>, breaking the connection. (This command will be dimmed if the <b>output socket</b> has nothing connected to it.)</li>
<li><b>Connect To…</b> —&#160;Pops up a submenu listing the available <b>widget input socket</b> connections.</li>
<li><b>Show Legal Routes</b> — On devices that support this feature, displays all implemented crosspoint routes from the socket.</li>
<li><b>Hide Legal Routes</b> — Hides any/all displayed implemented crosspoint routes that originate with the socket.</li>
</ul>
</li>
<li>On enabled <b>input sockets</b> — Displays a context menu with these commands:<ul>
<li><b>Disconnect</b> — Disconnects whatever is connected to the <b>input socket</b>, breaking the connection. (This menu command will be dimmed if the <b>input socket</b> has nothing connected to it.)</li>
<li><b>Connect To…</b> —&#160;Pops up a submenu listing the available <b>widget output socket</b> connections. This command will be labeled “Reconnect To…” if the <b>input socket</b> already has a <b>cable</b> connected to it.</li>
<li><b>Show Legal Routes</b> — On devices that support this feature, displays all implemented crosspoint routes that can terminate in the <b>input socket</b>.</li>
<li><b>Hide Legal Routes</b> — Hides any displayed implemented crosspoint routes that terminate at the <b>input socket</b>.</li>
</ul>
</li>
<li>On <b>cables</b> — Displays a context menu with these two commands:<ul>
<li><b>Copy (Source Code)</b> — Copies the source code containing the <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#aaa49e3963887ef83d86ee39e19972b31" title="Connects the given widget signal input (sink) to the given widget signal output (source).">CNTV2Card::Connect</a> function call that’s relevant to the <b>cable</b> — i.e. the connection — to the clipboard.</li>
<li><b>Disconnect</b> — Disconnects the <b>cable</b>, breaking the connection.</li>
</ul>
</li>
<li>On <b>Framestore</b>s:<ul>
<li><b>Disable</b> or <b>Enable</b></li>
<li><b>Set to Playout</b> or <b>Set to Capture</b></li>
<li><b>Video Format</b> — Changes the Framestore’s video format. If the device is Multi-Format capable, it will globally change the device to multi-format mode.</li>
<li><b>Pixel Format</b> — Changes the Framestore’s frame buffer format.</li>
<li><b>4K Mode</b> — Changes the Framestore’s “quad” mode to “squares” or “TSI” (if device is 4K-capable).</li>
<li><b>Inspect</b> — Opens the Framestore’s <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a>.</li>
<li><b>Fill…</b> — Opens the <a class="el" href="../../db/d02/toolsandutilities.html#fillbufferdlog">“Fill Buffer” Tool</a> .</li>
<li><b>Write Test Pattern</b> — Writes the chosen test pattern into the Framestore’s current Output Frame (playback mode only).</li>
</ul>
</li>
<li>On <b>CSC</b>s:<ul>
<li><b>Colorspace Matrix</b> — Choose “Rec601” or “Rec709”.</li>
<li><b>RGB Range</b> — Choose “Full” or “SMPTE”.</li>
<li><b>Alpha Output</b> — Choose “Opaque” or “From Key”.</li>
</ul>
</li>
<li>On <b>LUT</b>s:<ul>
<li><b>LUT Type</b> — Immediately rewrites the chosen LUT type to both banks of the LUT.</li>
<li><b>Bank</b> — Immediately changes the active LUT output bank.</li>
<li><b>Inspect</b> — Opens its <a class="el" href="../../db/d02/toolsandutilities.html#inspectorlut">LUT Inspector</a>.</li>
</ul>
</li>
<li>On <b>Mixer/Keyer</b>s:<ul>
<li><b>Inspect</b> — Opens the <a class="el" href="../../db/d02/toolsandutilities.html#inspectormixerkeyer">Mixer/Keyer Inspector</a>.</li>
</ul>
</li>
<li>On <b>SDI Input</b>s:<ul>
<li><b>Disable Input</b> or <b>Enable Input</b> — For bidirectional SDI connectors, immediately changes its direction.</li>
<li><b>3Gb-&gt;3Ga Conversion</b> — (3G/6G/12G only) Enables or disables the input’s 3Gb-to-3Ga converter.</li>
<li><b>CRC Checking</b> — (3G/6G/12G only) Enables or disables the input’s CRC error checking.</li>
</ul>
</li>
<li>On <b>SDI Output</b>s:<ul>
<li><b>Disable Output</b> or <b>Enable Output</b> — For bidirectional SDI connectors, immediately changes its direction.</li>
<li><b>SDI Output Standard</b> — Sets the output’s video standard.</li>
<li><b>Video Limiting</b> — Sets SDI output video limiting for all device SDI outputs.<ul>
<li><b>Off</b> — Disables output limiting.</li>
<li><b>Legal SDI</b> — SDI video output is limited to legal SDI.</li>
<li><b>Legal Broadcast</b> — SDI output is limited to legal broadcast.</li>
</ul>
</li>
<li><b>3Ga-&gt;3Gb Conversion</b> — (3G/6G/12G only) Enables or disables the output’s 3Ga-to-3Gb converter.</li>
<li><b>RGB 3Ga Conversion</b> — (3G/6G/12G only) Enables or disables the output’s RGB 3Ga converter.</li>
<li><b>3G Enabled</b> — (3G/6G/12G only) Enables or disables 3G output. If disabled, the output is restricted to 1.5G.</li>
<li><b>3Gb Enabled</b> — (3G/6G/12G only) Enables or disables 3Gb output.</li>
</ul>
</li>
<li>In the background area —&#160;Displays a context menu with commands that globally affect the device:<ul>
<li><b>Video Format</b> — Pops up a sub-menu of video formats supported by the device. Choosing one of these formats globally changes the video format for all FrameStores on the device. Note that if the device is multi-format capable, choosing a format here will place the device into single-format (“uniformat”) mode before globally changing the video format.</li>
<li><b>Pixel Format</b> — Pops up a sub-menu of frame buffer pixel formats supported by the device. Choosing one of the formats globally changes the pixel format for all FrameStores on the device.</li>
<li><b>4K Mode</b> — Available only if the device supports 4K/UHD video. If selected, pops up a sub-menu of 4K modes supported by the device:<ul>
<li><b>Tsi</b> — Selects two-sample-interleave (per SMPTE 425-5).</li>
<li><b>Squares</b> — Selects the “quad” mode (aka “squares”).</li>
</ul>
</li>
<li><b>8K Mode</b> — Available only if the device supports 8K/UHD2 video. If selected, pops up a sub-menu of 8K modes supported by the device:<ul>
<li><b>Tsi</b> — Selects two-sample-interleave (per SMPTE 425-5).</li>
<li><b>Squares</b> — Selects “quad-quad” mode.</li>
</ul>
</li>
<li><b>Clear Cables</b> — Deletes all <b>cable</b> connections.</li>
<li><b>Copy (Diagram)</b> — Copies the diagram image to the clipboard.</li>
<li><b>Copy (Source Code)</b> — Copies the <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#aaa49e3963887ef83d86ee39e19972b31" title="Connects the given widget signal input (sink) to the given widget signal output (source).">CNTV2Card::Connect</a> calls that are needed to produce the current routing as C/C++ source to the clipboard.</li>
<li><b>Paste Routing</b> — Replaces the current routing with the routing determined by the encoded text from the clipboard.</li>
<li><b>Load Preset</b> — Reveals a submenu of stored presets. Choosing one will replace the current routing with the saved Preset routing.</li>
<li><b>Delete Preset ‘</b><em>name</em><b>’</b> — Deletes the saved preset.</li>
<li><b>Add Preset…</b> — Prompts for a name under which to save the current routing configuration.</li>
<li><b>Show All</b> — Reveals all hidden widgets.</li>
<li><b>Hide Unconnected</b> — Hides all widgets that aren’t connected to anything else.</li>
<li><b>Reset Positions</b> — Reset the layout of all widgets back to their default positions.</li>
</ul>
</li>
</ul>
</li>
<li><b>Drag &amp; Drop</b><ul>
<li>For IDEs, text editors and word processors that support dragging/dropping text, the <b>Routing Diagram</b> panel will accept text data containing C++ code that contains <a class="el" href="../../d7/dfb/class_c_n_t_v2_card.html#aaa49e3963887ef83d86ee39e19972b31" title="Connects the given widget signal input (sink) to the given widget signal output (source).">CNTV2Card::Connect</a> calls. If the dropped code parses correctly, whatever is stipulated by the code will replace the current routing. (NOTE: The parser is dirt-simple — it only works if the <b>Connect</b> function’s parameters are <a class="el" href="../../d6/d0c/ntv2enums_8h.html#a25bfde168435b7a74401a79b7bb10074" title="Identifies a widget input that potentially can accept a signal emitted from another widget&#39;s output (...">NTV2InputCrosspointID</a> and <a class="el" href="../../d6/d0c/ntv2enums_8h.html#ac66b5a6f576042d87ba960eedd62d35b" title="Identifies a widget output, a signal source, that potentially can drive another widget&#39;s input (ident...">NTV2OutputCrosspointID</a> enums.)</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="inspectorroutecode"></a>
C++ Code</h3>
<div class="image">
<img src="../../watcher-inspector-routing-code.png" alt=""/>
</div>
<p>The <b>C++ Code</b> tab shows the device’s current routing configuration in C++ SDK function calls.</p><ul>
<li>It does this in one of two ways:<ul>
<li><b>C++ Code</b> — shows the SDK calls necessary to produce the routing configuration.</li>
<li><b>Shorthand</b> — shows the “shorthand” notation for it.</li>
</ul>
</li>
<li>The text panel is read-only — i.e., you can’t change what’s in it.</li>
<li>It supports dragging text from it for dropping elsewhere (e.g. into a code editor window).</li>
<li>Left-clicking allows text in the panel to be highlighted (selected) interactively with the mouse.</li>
<li>Right-clicking pops up a context menu with these commands:<ul>
<li><b>Copy</b> —&#160;Copies whatever text is highlighted in the panel to the host clipboard.</li>
<li><b>Select All</b> —&#160;Highlights all of the text in the panel.</li>
</ul>
</li>
<li>Other controls:<ul>
<li><b>Code</b> Menu — Selects which encoding form to display.</li>
<li><b>Presets</b> Menu — Shows which preset matches the device’s current routing configuration (if any). Choosing one of the presets will replace the device’s current routing with the selected one.</li>
<li><b>+</b> Button — Click to define a new preset for the device’s current routing configuration.</li>
<li><b>-</b> Button — Click to delete the current routing preset.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="inspectorroutetext"></a>
Shorthand Text</h3>
<div class="image">
<img src="../../watcher-inspector-routing-text.png" alt=""/>
</div>
<p>The <b>Shorthand Text</b> tab shows the device’s current routing configuration mnemonically in a textual “shorthand”.</p><ul>
<li>The text panel is read-only — i.e., its contents cannot be edited.</li>
<li>It supports dragging text from it for dropping elsewhere (e.g. into a code editor window).</li>
<li>Left-clicking allows text in the panel to be highlighted (selected) interactively with the mouse.</li>
<li>Right-clicking pops up a context menu with these commands:<ul>
<li><b>Copy</b> —&#160;Copies whatever text is highlighted in the panel to the host clipboard.</li>
<li><b>Select All</b> —&#160;Highlights all of the text in the panel.</li>
</ul>
</li>
<li>Other controls:<ul>
<li><b>Code</b> Menu — Selects which encoding form to display.</li>
<li><b>Presets</b> Menu — Shows which preset matches the device’s current routing configuration (if any). Choosing one of the presets will replace the device’s current routing with the selected one.</li>
<li><b>+</b> Button — Click to define a new preset for the device’s current routing configuration.</li>
<li><b>-</b> Button — Click to delete the current routing preset.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="inspectorrouteregs"></a>
Registers</h3>
<p>The <b>Registers</b> tab shows the device’s routing registers.</p>
<p>Hovering over a crosspoint selection register value will pop up a “Tool Tip” that shows information about the register’s four possible connections.</p>
<p>Register values can be edited. Simply click on its value, change it, then press Enter (or click elsewhere). (Pressing ESCape cancels editing, leaving the original value intact.)</p>
<h3><a class="anchor" id="inspectorroutexptmap"></a>
Crosspoint Map</h3>
<div class="image">
<img src="../../watcher-inspector-routing-xptmap.png" alt=""/>
</div>
<p>The <b>Crosspoint Map</b> tab shows a two-dimensional mapping between the device widget’s input crosspoints (arrayed vertically) and output crosspoints (arrayed horizontally).</p>
<p>The background color of each “cell” in the table — a potential connection — will be one of the following, depending on the currently running device firmware:</p><ul>
<li><em>dark red</em> — indicates the connection is not implemented;</li>
<li><em>dark green</em> — indicates the connection is implemented;</li>
<li><em>black</em> — indicates the device doesn’t have an “implemented crosspoint connections” ROM, and therefore the device and SDK cannot discern whether the connection is actually implemented in firmware or not.</li>
</ul>
<p>Standard behaviors:</p><ul>
<li><b>Hovering</b><ul>
<li>Hovering the mouse pointer over a column heading will display a “Tool Tip” that gives detailed information about the output crosspoint.</li>
<li>Hovering the mouse pointer over a row heading will display a “Tool Tip” that gives detailed information about the input crosspoint.</li>
<li>Hovering the mouse pointer over a cell in the matrix will display a “Tool Tip” that gives detailed information about the actual (if connected) or potential (if not connected) connection.</li>
</ul>
</li>
<li><b>Right-Clicking</b><ul>
<li>In a cell in the matrix — Displays a context menu:<ul>
<li><b>Connect</b> — Establishes the connection.</li>
<li><b>Disconnect</b> — Removes the connection.</li>
<li><b>Labels</b> — Pops up a submenu for choosing the labels used for the column and row headings:<ul>
<li><b>Ordinal Values</b> — Displays numeric crosspoint ID values.</li>
<li><b>Crosspoint Names</b> — Displays the crosspoint names (default).</li>
<li><b>Enums</b> — Displays the symbolic names used in the SDK.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>Double-Clicking</b><ul>
<li>In a cell in the matrix:<ul>
<li>Toggles the connection state.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="watchertools"></a>
Tool Windows</h2>
<p>NTV2Watcher also has a number of “Tools” that when activated appear in separate windows that are independent of the main window or detached inspector windows.</p>
<p>Each Tool has its own particular user interface that’s designed to perform its specific task. To activate (open) or deactivate (close) a Tool, check or un-check it in the <b>View</b> menu:</p><ul>
<li><a class="el" href="../../db/d02/toolsandutilities.html#fillbufferdlog">“Fill Buffer” Tool</a> — change the contents of frame buffer memory</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#anc608viewer">“EIA/CEA-608 Caption” Tool</a> — view/set EIA608 captions</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#regautocycler">“Register Cycler” Tool</a> — periodically change a register value</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#tonegenerator">“Tone Generator” Tool</a> — write tone values into an audio buffer</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#memmapdlog">“Memory Map” Tool</a> — show device memory utilization</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#scraptool">“Scrap Buffer” Tool</a> — display arbitrary host buffer content</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#demostool">“SDK Demos” Tool</a> — configure and run an SDK demo apps</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#debugstats">“AJADebug Stats” Tool</a> — display AJA debug stats</li>
<li><a class="el" href="../../db/d02/toolsandutilities.html#debuglog">“AJADebug Log” Tool</a> — display AJA debug logs</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Some tools are expensive in terms of CPU utilization, and can cause some inspectors to lag from their expected refresh rate.</dd></dl>
<h2><a class="anchor" id="fillbufferdlog"></a>
“Fill Buffer” Tool</h2>
<p>The <b>“Fill Buffer” Tool</b> is a handy debugging aid for filling device buffer memory with various values and/or patterns.</p>
<p>One or more frames can be written:</p><ul>
<li><b>Start Frame</b> — Specifies the first frame to be written.</li>
<li><b>End Frame</b> — Determines the last frame to be written.</li>
<li><b>All Frames</b> — Check this to quickly select all frames on the device to be written.</li>
</ul>
<p>There are currently three ways to fill buffer memory:</p><ol type="1">
<li><b>Numeric Value</b> — Fills one or more buffers with any 8, 16, 32 or 64-bit numeric value. <div class="image">
<img src="../../watcher-tool-fill-num.png" alt=""/>
</div>
 Click <b>Apply</b> to write the numeric value into the frame buffer(s). Checkboxes are provided for skipping certain regions of each frame buffer being filled:<ul>
<li><b>Field1</b> — Skips “Field 1” lines.</li>
<li><b>Field2</b> — Skips “Field 2” lines.</li>
<li><b>VANC</b> — Skips VANC lines. (Enabled only when the FrameStore geometry is “tall” or “taller”.)</li>
<li><b>Visible Raster</b> — Skips the visible raster lines.</li>
<li><b>Anc F1 Region</b> — Skips the F1 Ancillary Data region.</li>
<li><b>Anc F2 Region</b> — Skips the F2 Ancillary Data region.</li>
</ul>
</li>
<li><b>Test Pattern</b> — Fills one or more buffers with any of several predefined test patterns or colors. <div class="image">
<img src="../../watcher-tool-fill-pat.png" alt=""/>
</div>
 The test pattern image is written to the buffer(s) immediately after selecting the test pattern or color.</li>
<li><b>Color</b> — Fills one or more buffers with any color chosen from a standard color picker. <div class="image">
<img src="../../watcher-tool-fill-color.png" alt=""/>
</div>
 The color raster is written immediately to the buffer(s) as the color is changed in the dialog.</li>
<li><b>Text</b> — Fills one or more buffers with glyphs rendered using the <a class="el" href="../../d8/da3/class_c_n_t_v2_caption_renderer.html">CNTV2CaptionRenderer</a> class. <div class="image">
<img src="../../watcher-tool-fill-txt.png" alt=""/>
</div>
 Note that the frame buffer(s) are written immediately after making any changes or selections in the panel.<ul>
<li><b>Display Text</b> — A text edit box for specifying the text to be rendered.</li>
<li><b>Blit Over Test Pattern</b> — Renders the text <em>after</em> [re]writing the test pattern into the frame buffer(s).</li>
<li><b>Y</b> and <b>X</b> Position — Starting position where text rendering begins in the frame. The coordinate units depend on the <b>Use Pixel Position</b> checkbox.</li>
<li><b>Use Pixel Position</b> — Determines the position coordinate units where the text is rendered.<ul>
<li>Unchecked — use CEA608 row/column coordinates.</li>
<li>Checked — use pixel offset from the top-left corner (where top-left is 0,0).</li>
</ul>
</li>
<li><b>Italic</b> — Check the box to render in italics; un-check for non-italic (normal).</li>
<li><b>Underline</b> — Check the box to render with underline; un-check for no underline (normal).</li>
<li><b>FG</b> — Specifies the foreground color attribute.</li>
<li><b>BG</b> — Specifies the background color attribute.</li>
<li><b>Opacity</b> — Specifies the opacity attribute: Opaque, Translucent, or Transparent.</li>
<li><b>Clear Caches</b> — Clears the <a class="el" href="../../d8/da3/class_c_n_t_v2_caption_renderer.html">CNTV2CaptionRenderer</a> caches.</li>
</ul>
</li>
</ol>
<hr  size="50px" />
 <h2><a class="anchor" id="anc608viewer"></a>
“EIA/CEA-608 Caption” Tool</h2>
<div class="image">
<img src="../../watcher-tool-608caption.png" alt=""/>
</div>
<p>The <b>EIA/CEA-608 Caption Tool</b> is a handy debugging aid for viewing EIA-608 and/or CEA-608 caption byte-pair streams. It works with the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a> to supply its CEA-608 decoder with a stream of caption byte pairs to supply sufficient context in order to properly render captions. The tool window is dominated by two panels:</p><ul>
<li><b>Byte-Pair Stream</b> — Displays a hexadecimal representation of the caption byte-pair stream being decoded.<ul>
<li>The text represents a byte-pair FIFO that holds up to 90 byte pairs (maximum):<ul>
<li>New byte pairs enter the FIFO at the bottom-right corner.</li>
<li>The oldest byte pairs drop out of the FIFO at the top-left corner.</li>
</ul>
</li>
<li>When no caption data is being streamed, the text content can be edited:<ul>
<li>You can select all or part of the text, and copy it to the host’s clipboard.</li>
<li>You can add, remove, or change its contents by typing, or by pasting text from the clipboard.</li>
<li>The text must consist of 2-byte hexadecimal “words” separated by a single space (case is irrelevant). Any other format will fail to decode properly.<ul>
<li>The left-most 2 digits (most-significant byte) is “byte 1”;</li>
<li>The right-most 2 digits (least-significant byte) is “byte 2”.</li>
<li>Byte sequences from “.scc” sidecar files should work (but remove the timecodes).</li>
</ul>
</li>
<li><b>Example:</b> Try the byte-pair sequence “<code>9425 94ad 9170 c845 cc4c 4f20</code>” — it should render “Hello” for CC1.</li>
</ul>
</li>
</ul>
</li>
<li><b>Decoded Captions</b> — Renders the decoded captions, as they appear on-screen.<ul>
<li>The 608 decoder always re-decodes the entire FIFO whenever it changes, processing the byte pairs top-left to bottom-right.<ul>
<li>The last pair in the FIFO enters the decoder first;</li>
<li>The first pair in the FIFO enters the decoder last.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>A <b>Channel</b> selector menu is provided to change the caption channel being decoded and displayed:</p><ul>
<li>CC1 — the normal, primary (English language) closed-caption channel sourced from Field 1.</li>
<li>CC2 — the secondary (often Spanish language) closed-caption channel, also sourced from Field 1.</li>
<li>CC3, CC4 — additional closed-caption channels, sourced from Field 2.</li>
<li>TX1, TX2 — text-only channels sourced from Field 1.</li>
<li>TX3, TX4 — text-only channels sourced from Field 2.</li>
<li>XDS is currently not available for decoding or display.</li>
</ul>
<p>A <b>Reset</b> button is provided to manually reset the decoder, if necessary. Add or remove a space to/from it to force the decoder to re-render what’s in the byte stream.</p>
<p>To render captions in real-time, the decoder’s byte-pair FIFO requires a steady stream of caption byte-pairs transmitted by the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a> :</p><ul>
<li><b>“Analog” Captioning</b> — All of the following are true:<ul>
<li>The monitored FrameStore/Channel is receiving or transmitting SD (U.S. NTSC 525i) video;</li>
<li>The monitored FrameStore/Channel has a 'v210' or '2vuy' pixel format;</li>
<li>The current frame buffer contains a valid “analog” caption byte pair encoded as a waveform per EIA-608 in “line 21” of active video.</li>
</ul>
</li>
<li><b>VANC Frame Geometry</b> — All of the following are true:<ul>
<li>“Tall” or “Taller” VANC mode is enabled;</li>
<li>The monitored FrameStore/Channel has a 'v210' or '2vuy' pixel format;<ul>
<li>If 8-bit YCbCr, VANC Shift Mode must be enabled;</li>
</ul>
</li>
<li>The VANC anc display is set to “Packets”;</li>
<li>The packet display must contain:<ul>
<li>a CEA-708 packet that contains “Service 0“ CEA-608 caption data, or…</li>
<li>at least one CEA-608 packet.</li>
</ul>
</li>
</ul>
</li>
<li><b>Anc Extractor/Inserter F1 and/or F2</b> — All of the following are true:<ul>
<li>The monitored Anc Inserter/Extractor must be running;</li>
<li>The Field 1 or Field 2 displays (or both) must be set to display “Packets”.</li>
<li>One of the packet displays contains:<ul>
<li>a CEA-708 packet that contains “Service 0“ CEA-608 caption data, or…</li>
<li>a CEA-608 packet.</li>
</ul>
</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Successful caption rendering relies on getting a continuous byte pair sequence (no dropped frames). If the refresh rate of the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a> lags the frame rate, byte pairs will be skipped, resulting in garbled and unreadable captions. Hiding one or more of the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a> viewers (VANC, Anc Registers, F1, F2) can save CPU cycles and prevent lagging refresh rates.</dd></dl>
<p>To freeze the <b>Byte-Pair Stream</b> (perhaps to permit interacting with it manually), leave the <b>Caption Viewer</b> window open, but do one of the following:</p><ul>
<li>Switch NTV2Watcher to an Inspector other than the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a>, or…</li>
<li>Stop viewing “Packets” and instead switch to “Raw” or “Hide” in the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a>, or…</li>
<li>Uncheck the <b>Polling</b> checkbox at the top of the main window.</li>
</ul>
<p><b>Generating Captions</b></p>
<p>This tool can also generate caption byte pairs by using the controls at the bottom of the tool window:</p><ul>
<li><b>Type</b> — This controls the type of caption to generate:<ul>
<li><b>PopOn</b> — This uses the <a class="el" href="../../d7/d39/class_c_n_t_v2_caption_encoder608.html#a4d64dec6a83b40a8251b906fe6d34132" title="Enqueues the given message for eventual &quot;pop-on&quot; display.">CNTV2CaptionEncoder608::EnqueuePopOnMessage</a> function.</li>
<li><b>RollUp2</b> — This uses the <a class="el" href="../../d7/d39/class_c_n_t_v2_caption_encoder608.html#a2467869be0d41a6deda8038865548551" title="Enqueues the given message for eventual &quot;roll up&quot; display.">CNTV2CaptionEncoder608::EnqueueRollUpMessage</a> function to produce two-row “roll-up” captions.</li>
<li><b>RollUp3</b> — This uses the <a class="el" href="../../d7/d39/class_c_n_t_v2_caption_encoder608.html#a2467869be0d41a6deda8038865548551" title="Enqueues the given message for eventual &quot;roll up&quot; display.">CNTV2CaptionEncoder608::EnqueueRollUpMessage</a> function to produce three-row “roll-up” captions.</li>
<li><b>RollUp4</b> — This uses the <a class="el" href="../../d7/d39/class_c_n_t_v2_caption_encoder608.html#a2467869be0d41a6deda8038865548551" title="Enqueues the given message for eventual &quot;roll up&quot; display.">CNTV2CaptionEncoder608::EnqueueRollUpMessage</a> function to produce four-row “roll-up” captions.</li>
<li><b>PaintOn</b> — This uses the <a class="el" href="../../d7/d39/class_c_n_t_v2_caption_encoder608.html#a59ba9d52ccc2911b9ea222ed229755fa" title="Enqueues the given message for eventual &quot;paint-on&quot; display.">CNTV2CaptionEncoder608::EnqueuePaintOnMessage</a> function.</li>
</ul>
</li>
<li><b>Row</b> spin control — specifies the row number where the caption text will appear.</li>
<li><b>Col</b> spin control — specifies the column number where the caption text will begin.</li>
<li><b>FG</b> — Specifies the foreground color of the caption text.</li>
<li><b>BG</b> — Specifies the background color of the caption text.</li>
<li><b>Ital</b> checkbox — If checked, the caption text should be italicized.</li>
<li><b>Undr</b> checkbox — If checked, the caption text should be underlined.</li>
<li><b>Blnk</b> checkbox — If checked, the caption text should blink.</li>
<li>Transparency popup menu — Choose from <b>Opaque</b>, <b>Translucent</b> or <b>Transparent</b>.</li>
<li><b>Text</b> box — Enter the caption text to be generated.</li>
<li>Click <b>Xmit</b> to generate and “transmit” the caption byte pairs. These will be DMA’d starting at the current frame’s F1 Anc or VANC region (in the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoranc">Ancillary Data Inspector</a>). It will continue pulling byte pairs from the FIFO and DMA’ing into subsequent frame buffers on the device.</li>
</ul>
<p>To close the <b>“CEA-608 Caption” Tool</b>:</p><ul>
<li>click its close box;</li>
<li>or un-check the <b>View</b> menu’s <b>CEA608 Monitor</b> command.</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="regautocycler"></a>
“Register Cycler” Tool</h2>
<p>The <b>“Register Cycler”</b> is a handy tool for automatically cycling the value of a register from a minimum to a maximum numeric value at a particular step rate.</p>
<p>For example, it can be used to step an <b>OutputFrame</b> register to periodically cycle through several pre-loaded frame images.</p>
<div class="image">
<img src="../../watcher-tool-regcycler.png" alt=""/>
</div>
<p><b>Controls:</b></p><ul>
<li><b>Reg</b> — Specifies the register to be cycled.</li>
<li><b>Min</b> — Specifies the minimum value for the register.</li>
<li><b>Max</b> — Specifies the maximum value for the register. When the register reaches this value, it will start over at the <b>Min</b> value.</li>
<li><b>Rate</b> slider — Adjusts the time between steps.</li>
<li><b>Start</b> — Starts the cycler running. When running, this button will be disabled and will be titled “Running”.</li>
<li><b>Stop</b> — Stops the cycler. When stopped, this button will be disabled and will be titled “Stopped”.</li>
</ul>
<p>To close the <b>Register Cycler</b>:</p><ul>
<li>click its close box; or…</li>
<li>un-check the <b>View</b> menu’s <b>Register Cycler</b> command.</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="tonegenerator"></a>
“Tone Generator” Tool</h2>
<p>The <b>Tone Generator</b> is a handy tool for generating one or more channels of audio tones.</p>
<div class="image">
<img src="../../watcher-tool-tonegen.png" alt=""/>
</div>
<p><b>Controls:</b></p><ul>
<li><b>Function</b> — For each audio channel, determines if the audio channel is enabled or not, and if enabled, the waveform signal that will fill the channel.<ul>
<li><b>Off</b> — Disables the channel, and produces silence (zero values).</li>
<li><b>Sine</b> — Produces sinusoidal waveform.</li>
<li><b>Trian</b> — Produces a triangle waveform.</li>
<li><b>Square</b> — Produces a square waveform.</li>
<li><b>Noise</b> — Produces pseudo-random noise.</li>
</ul>
</li>
<li>For enabled channels, additional controls are available:<ul>
<li><b>Frequency</b> — Adjusts the frequency of the generated waveform (not available for <b>Noise</b>). For finer-grained control, click on the control, then adjust it using your keyboardʼs arrow keys.</li>
<li><b>Phase</b> — Adjusts the phase (time shift) of the generated waveform (not available for <b>Noise</b>).</li>
<li><b>Amplitude</b> — Adjusts the amplitude of the generated waveform.</li>
<li><b>Offset</b> — Adjusts the (amplitude) offset of the generated waveform (like adding a DC component to it).</li>
<li><b>Duty Cycle</b> — Adjusts the duty cycle (for <b>Square</b> or <b>Triangle</b> waveforms only).</li>
</ul>
</li>
<li><b>Audio System</b> popup menu — Specifies the target Audio System whose buffer will receive the generated audio samples. Choosing a new Audio System will automatically stop the generator (if running).</li>
<li><b>Fill</b> — Generates samples and fills the given Audio System’s entire output buffer in a one-shot operation.</li>
<li><b>Start</b> — Starts the generator to run continuously. When running, this button will be disabled and will be titled “Running”.</li>
<li><b>Stop</b> — Stops the generator. When stopped, this button will be disabled and will be titled “Stopped”.</li>
</ul>
<p>To close the <b>Tone Generator</b> tool window:</p><ul>
<li>click its close box; or…</li>
<li>un-check the <b>View</b> menu’s <b>Tone Generator</b> command.</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="memmapdlog"></a>
“Memory Map” Tool</h2>
<div class="image">
<img src="../../watcher-tool-memmap.png" alt=""/>
</div>
<p>The <b>Memory Map</b> is a handy debugging aid for visualizing how device memory is being used. It can readily indicate <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fbconflict">When FrameStores Access the Same Frame Buffer Memory</a> and/or <a class="el" href="../../d1/dc5/ntv2devops.html#audop-clobber">Audio Buffer Corruption</a>.</p>
<ul>
<li>The top of the window has two indicators:<ul>
<li><b>Intrinsic Frame Size</b> — indicates the “natural” size of a non-4K, non-8K frame, in megabytes. This is what the hardware is using for normal, non-4K/8K frames.</li>
<li><b>Total SDRAM</b> — displays the total SDRAM complement of the device, in megabytes.</li>
</ul>
</li>
<li>The remainder of the window contains the <b>Memory Map</b>:<ul>
<li>The horizontal space represents the device’s addressable SDRAM storage:<ul>
<li>Address zero (0x00000000) is at the far left edge;</li>
<li>The highest addressable byte is at the far right edge.</li>
</ul>
</li>
<li>The vertical space is irrelevant.</li>
<li><b>Scrolling</b> — When needed, scroll bars are provided to allow scrolling offscreen areas of the Map into view.</li>
<li><b>Zoom Controls</b> — Click <b>+</b> to zoom in; click <b>−</b> to zoom out.</li>
<li>Memory Region objects:<ul>
<li><b>Frame</b> — The gray boxes represent the intrinsic 8MB or 16MB frame boundaries.<ul>
<li>The numeric labels show the zero-based frame number.</li>
<li>Each frame represents a specific, unique byte range in device memory. No two frames ever overlap.</li>
<li>The width indicates the device’s <b>Intrinsic Frame Size</b>. At this time, NTV2 devices use an intrinsic frame size of either 8MB or 16MB.</li>
<li>Double-click to open the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> and view the raw frame data.</li>
<li>Right-click for a context menu:<ul>
<li><b>Inspect</b> — opens the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> to view the raw frame data.</li>
</ul>
</li>
</ul>
</li>
<li><b>AutoCirculate</b> — These translucent boxes span multiple Frames, and represents the frames being used by an <a class="el" href="../../d9/d9a/recordplaytechniques.html#aboutautocirculate">AutoCirculate</a> channel.<ul>
<li>Color depends on the Channel video format: green for SD, purple for HD, etc.</li>
<li>Label identifies the Mode and Channel (e.g. “In1”, “Out2”, etc.).</li>
<li>When in <b>Quad Mode</b> (4K/UHD) or <b>Quad-Quad Mode</b> (8K/UHD2), the logical frame size is 4 or 16 times (respectively) the device’s intrinsic frame size.</li>
<li>Double-click to open the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorac">AutoCirculate Inspector</a>.</li>
<li>Right-click for a context menu:<ul>
<li><b>Inspect</b> — opens the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorac">AutoCirculate Inspector</a>.</li>
<li><b>Stop</b> — stops the channel.</li>
<li><b>Pause</b> — pauses the channel.</li>
<li><b>Resume</b> — resumes the channel.</li>
</ul>
</li>
<li>Drag to change the channel’s frame range (it will be restarted).</li>
</ul>
</li>
<li><b>Video Read</b> — (Green) — Represents the “Output Frame” being read by an enabled FrameStore.<ul>
<li>Labeled with the FrameStore’s channel number (e.g. “1”, “2”, etc.).</li>
<li>In memory, NTV2 FrameStore widgets (see <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a> ) always read video starting at the frame boundary (at the lowest address).</li>
<li>The width of the box indicates how much memory is being read by the FrameStore.</li>
<li>Double-click to open the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> and view the frame image.</li>
<li>Right-click for a context menu:<ul>
<li><b>Inspect</b> — opens the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> to view the frame image.</li>
<li><b>Disable</b> — disables (turns off) the FrameStore.</li>
</ul>
</li>
<li>Drag to interactively change the FrameStore’s “Output Frame”.</li>
</ul>
</li>
<li><b>Video Write</b> — (Red) — Represents the “Input Frame” being written by an enabled FrameStore.<ul>
<li>Labeled with the FrameStore’s channel number (e.g. “1”, “2”, etc.).</li>
<li>In memory, NTV2 FrameStore widgets (see <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fs">FrameStore Operation</a> ) always write video starting at the frame boundary (at the lowest address).</li>
<li>The width of the box indicates how much memory is being written by the FrameStore.</li>
<li>Double-click to open the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> and view the frame image.</li>
<li>Right-click for a context menu:<ul>
<li><b>Inspect</b> — opens the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a> to view the frame image.</li>
<li><b>Disable</b> — disables (turns off) the FrameStore.</li>
</ul>
</li>
<li>Drag to interactively change the FrameStore’s “Input Frame”.</li>
</ul>
</li>
<li><b>Audio Read</b> — (Green) — Represents the playout audio buffer being read during <a class="el" href="../../d1/dc5/ntv2devops.html#audop-playout">Audio Playout</a> .<ul>
<li>Labeled with the Audio System (e.g. “A1”, “A2”, etc.).</li>
<li>Double-click to open the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoraudio">Audio Inspector</a> and reveal the audio buffer’s contents.</li>
<li>Right-click for a context menu:<ul>
<li><b>Inspect</b> — opens the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoraudio">Audio Inspector</a> to reveal the audio buffer’s contents.</li>
<li><b>Stop Playback</b> — stops the audio system’s playback engine.</li>
</ul>
</li>
</ul>
</li>
<li><b>Audio Write</b> — (Red) — Represents the capture audio buffer being written during <a class="el" href="../../d1/dc5/ntv2devops.html#audop-capture">Audio Capture</a> .<ul>
<li>Labeled with the Audio System (e.g. “A1”, “A2”, etc.).</li>
<li>Double-click to open the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoraudio">Audio Inspector</a> and reveal the audio buffer’s contents.</li>
<li>Right-click for a context menu:<ul>
<li><b>Inspect</b> — opens the <a class="el" href="../../db/d02/toolsandutilities.html#inspectoraudio">Audio Inspector</a> to reveal the audio buffer’s contents.</li>
<li><b>Stop Recording</b> — stops the audio system’s record/capture engine.</li>
</ul>
</li>
</ul>
</li>
<li><b>Conflict</b> — (Red) — A bright red bar over one or more <b>Frame</b>s that indicates a conflict — i.e. the frame memory is being used by more than one entity (e.g. being read and/or written by more than one FrameStore and/or Audio System), which can result in garbled video and/or audio. See <a class="el" href="../../d1/dc5/ntv2devops.html#vidop-fbconflict">When FrameStores Access the Same Frame Buffer Memory</a> for more information.</li>
<li>You can <b>hover</b> the mouse pointer over any object to display a tooltip that contains detailed information about the region.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>To close the <b>Memory Map</b> tool window:</p><ul>
<li>click its close box;</li>
<li>or un-check the <b>View</b> menu’s <b>Memory Map</b> command.</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="scraptool"></a>
“Scrap Buffer” Tool</h2>
<div class="image">
<img src="../../watcher-tool-scrap.png" alt=""/>
</div>
<p>The <b>Scrap Buffer</b> is a handy debugging aid for viewing data buffers, including the contents of the host operating system’s “desk scrap” buffer (aka “clipboard” or “paste buffer”). It also displays the contents of files or text clippings dropped into the window.</p>
<ul>
<li>Each buffer is represented by a tab in the window.</li>
<li>The <b>Clipboard</b> tab is monitored and automatically udpates as it changes. (Files, however, are not monitored.)</li>
<li>The window title indicates the data set, its byte count, and if it’s been modified.</li>
<li>Left-click the tab title to reveal its data content, bringing it to the front.<ul>
<li>Right-click inside the tab content for a context menu.<ul>
<li><b>Data Editing:</b><ul>
<li><b>Undo</b> — Un-does the last operation that was done.</li>
<li><b>Redo</b> — Re-does the last undone operation.</li>
<li><b>Cut</b> — Copies the selected data to the clipboard/scrap buffer, then removes it.</li>
<li><b>Copy</b> — Copies the selected data to the clipboard/scrap buffer.</li>
<li><b>Paste</b> — Pastes the clipboard/scrap data over the selected data, or, if there’s nothing selected, inserts the data at the right-click location.</li>
<li><b>Clear</b> — Removes the selected data.</li>
<li><b>Select All</b> — Selects (highlights) all data.</li>
</ul>
</li>
<li><b>Data View Options:</b><ul>
<li><b>Grouping</b> — Changes the data grouping to 8-bit (1-byte), 16-bit (2-byte), 32-bit (4-byte) or 64-bit (8-byte).</li>
<li><b>Radix</b> — Changes the radix of the data to Binary, Octal, Decimal or Hexadecimal.</li>
<li><b>Bytes/Line</b> — Changes the number of bytes to display in each line of the data view. Choose from 8 bytes up to 8K bytes by powers of 2. Note that larger values make for fewer lines and many more columns. Smaller values show many more lines with fewer columns.</li>
<li><b>Endianness</b> — Changes the display byte-ordering for 2/4/8-byte grouping. Choose “Big Endian” or “Little Endian”. One of the two options will indicate the host processor’s native endianness.</li>
<li><b>Show Rulers</b> — When available, shows whichever rulers were previously hidden.</li>
<li><b>Show/Hide ASCII</b> — Reveals or hides a side panel that displays the same row data as printable ASCII.</li>
</ul>
</li>
</ul>
</li>
<li><b>Row &amp; Column Label Options</b> — (Right-Click Operations)<ul>
<li><b>Reference</b> — Choose “Byte Offset From Start” or “Byte Offset From End”.</li>
<li><b>Radix</b> — Choose “Binary”, “Octal”, “Decimal” or “Hexadecimal”.</li>
<li><b>Hide</b> — Hides the ruler. (To show the ruler again, right-click in the data and choose “Show Rulers”.</li>
</ul>
</li>
</ul>
</li>
<li>Right-click the tab title to pop-up a context menu of <b>File Operations</b>:<ul>
<li><b>New (Dupe)</b> — Duplicates the tab content in another new tab.</li>
<li><b>Open…</b> — Brings up a file picker dialog box for choosing a data file to open a new tab on.</li>
<li><b>Close</b> — Requests the tab be closed. If there are unsaved changes, you’ll be asked if you wish to save them or not.</li>
<li><b>Compare</b> — Compares the tab contents with another tab’s contents, highlighting the differences with a brighter color.</li>
<li><b>Revert</b> — Prompts if changes should be discarded and the tab content reloaded from the file as saved on disk.</li>
<li><b>Save</b> — Writes the tab contents to the file on disk.</li>
<li><b>Save As…</b> — Brings up the standard Save As… dialog box for choosing the name of a file to be written with the tab data content.</li>
<li><b>Page Setup…</b> — Brings up the standard Print Setup… dialog box for choosing the print page layout.</li>
<li><b>Print…</b> — Brings up the standard Print… dialog box for printing the tab data content.</li>
</ul>
</li>
</ul>
<p>To close the <b>Scrap Buffer</b> tool window:</p><ul>
<li>click its close box;</li>
<li>or un-check the <b>View</b> menu’s <b>Scrap Buffer</b> command.</li>
<li>If there are unsaved changes in any of the open tabs, you’ll be given an opportunity to save them all, discard them all, or cancel the close request.</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="demostool"></a>
“SDK Demos” Tool</h2>
<p>The <b>SDK Demos</b> tool makes it easy to quickly configure and run SDK demo programs directly from <b>NTV2Watcher</b> without having to use an external command-line Terminal or remember option parameter names.</p>
<div class="image">
<img src="../../watcher-tool-demos-config.png" alt=""/>
</div>
<p>The <b>Configure</b> tab is the first tab, is always present, and is where demo apps are configured and started. It has no close box … and thus cannot be closed.</p>
<p>To close the <b>SDK Demos</b> tool window:</p><ul>
<li>click its close box;</li>
<li>or un-check the <b>View</b> menu’s <b>SDK Demos</b> command.</li>
</ul>
<dl class="section user"><dt>Starting a demo</dt><dd></dd></dl>
<ul>
<li>From the <b>Demo:</b> menu, choose the demo to run. <dl class="section note"><dt>Note</dt><dd>If the <b>Run</b> button (in the bottom-right corner) is dimmed (disabled), the demo executable could not be found in folders (or sub-folders) starting in the folder that contains <b>NTV2Watcher</b>.</dd></dl>
</li>
<li>The <b>Parameters and Options</b> section will re-populate with those options and parameters supported by the chosen demo.</li>
<li>Make any option choices and parameter selections as desired. The <b>Command Line</b> will automatically update as option choices and parameter selections change.</li>
<li>Click <b>Run</b> to start the demo. A new tab will be created to show the status of the running demo.</li>
</ul>
<dl class="section user"><dt>Monitoring the running demo</dt><dd></dd></dl>
<ul>
<li>Each running demo is represented by a separate tab.</li>
<li>The tab title indicates which demo app was (or is still) running.</li>
<li>Hovering over the tab title pops up a tooltip that shows the full path to the demo executable file.</li>
<li>Left-click the tab title to bring its content to the front.</li>
<li>Right-click the tab title to pop-up a context menu:<ul>
<li><b>Close</b> — Closes the tab. If its corresponding SDK demo is running, it will be terminated.</li>
<li><b>Save…</b> — Choose this to open a standard <b>Save As…</b> dialog box for choosing the name and location of a text file to be filled with the demo’s output text.</li>
<li><b>Terminate</b> — Choose this to terminate the running demo.</li>
</ul>
</li>
<li>The cyan-colored text at the top shows the command line that was (or is still) running. The text panel below it indicates the execution status:<ul>
<li><b>completed normally</b> (green) indicates the demo ran and completed without errors. <div class="image">
<img src="../../watcher-tool-demos-done.png" alt=""/>
</div>
</li>
<li><b>running</b> (yellow) indicates the demo is still running. <div class="image">
<img src="../../watcher-tool-demos-running.png" alt=""/>
</div>
</li>
<li><b>terminated abnormally with exit code</b> (red) indicates the demo terminated with a non-zero exit code. <div class="image">
<img src="../../watcher-tool-demos-abend.png" alt=""/>
</div>
</li>
</ul>
</li>
<li>Click <b>Stop</b> to terminate the running demo.</li>
<li>Click <b>Re-Run</b> to re-run the completed (or terminated) demo.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Closing the <b>SDK Demos</b> window closes all demo tabs, and thus terminate any running demos.</dd></dl>
<hr  size="50px" />
 <h2><a class="anchor" id="debugstats"></a>
“AJADebug Stats” Tool</h2>
<div class="image">
<img src="../../watcher-tool-debugstats.png" alt=""/>
</div>
<p>The <b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Stats</b> tool monitors active <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instances.</p>
<ul>
<li>The very top of the window shows the version number and size of the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility’s shared memory buffer. It also shows the number of active <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instances (and the maximum number of stats that the shared buffer can accommodate).</li>
<li>The window can be resized, and the monitored <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instances will automatically “reflow” to fit within the given window dimensions.</li>
<li>Right-click in the window to pop-up its context menu:<ul>
<li><b>Named Stats</b> — Pops up a sub-menu of known stats that can be monitored. Selecting a named stat adds it to those being monitored in the window.</li>
<li><b>Show Details</b> — Expands all monitored <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instances to show all their information (max, min, count, average, etc.).</li>
<li><b>Hide Details</b> — Shrinks all monitored <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instances to only show the minimum information.</li>
<li><b>Reset All</b> — Resets all monitored <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instances (such that their max, min and moving average computations are restarted).</li>
</ul>
</li>
<li>Right-click in a monitored <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instance to pop-up its context menu:<ul>
<li><b>Min</b> — If checked, displays the smallest value ever seen for the stat (since last reset).</li>
<li><b>Max</b> — If checked, displays the largest value ever seen for the stat (since last reset).</li>
<li><b>Count</b> — If checked, displays the number of times the stat value was updated.</li>
<li><b>Timestamp</b> — If checked, displays the host operating system timestamp when the stat value was last updated.</li>
<li><b>Value</b> — If checked, displays the latest (instantaneous) value.</li>
<li><b>Avg</b> — If checked, displays the moving average value.</li>
<li><b>Format</b> — Pops up a sub-menu for changing the display format of the stat value as <b>Decimal</b> (base 10), <b>Hex</b> (base 16), and <b>Float</b> (in floating-point).</li>
<li><b>Designated Timer</b> — If checked, declares the stat to be a timer, which displays its data as timing measurements. If not checked, declares the stat to NOT be a timer, which displays its data as simple numeric values.</li>
<li><b>Delete</b> — Stops monitoring the <a class="el" href="../../dd/d35/class_a_j_a_debug_stat.html">AJADebugStat</a> instance, removing it from the stats being displayed.</li>
</ul>
</li>
</ul>
<p>To close the <b>SDK Demos</b> tool window:</p><ul>
<li>click its close box;</li>
<li>or un-check the <b>View</b> menu’s <b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Stats</b> command.</li>
</ul>
<hr  size="50px" />
 <h2><a class="anchor" id="debuglog"></a>
“AJADebug Log” Tool</h2>
<p>The <b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Log</b> tool allows you to monitor, in near real time, log messages originated by the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility. It has several handy features:</p><ul>
<li>Filtering based on message content.</li>
<li>Filter based on message classification and/or severity.</li>
<li>Colorize messages based on originating process ID.</li>
<li>Calculate time between two messages.</li>
<li>Log recording, snapshotting, copying (clipboard) and printing.</li>
</ul>
<p>The user interface consists of the <b>AJA Debug Log</b> window that has three parts:</p><ul>
<li>A button bar at the top that allows you to configure what is seen (or not seen) in the main view;</li>
<li>The main view containing the log display with column headings;</li>
<li>A status bar at the bottom that shows logging activity statistics.</li>
</ul>
<p>To close the <b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Log</b> tool window:</p><ul>
<li>click its close box;</li>
<li>or un-check the <b>View</b> menu’s <b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Log</b> command.</li>
</ul>
<div class="image">
<img src="../../watcher-tool-debuglog.png" alt=""/>
</div>
<dl class="section user"><dt>Operation</dt><dd></dd></dl>
<p>The Main View shows log messages in tabular fashion, one log entry per row, with the log entry data shown in columns. The tool bar at the top has the following controls:</p><ul>
<li><b>Message Groups…</b>: Click to open the <b>Enable/Disable Message Groups</b> dialog: <div class="image">
<img src="../../logger-enables.png" alt=""/>
</div>
</li>
<li><b>Log to File</b>: Enables or disables recording incoming messages to a log file.</li>
<li><b>Save…</b>: Saves the contents of the message display to a file of the user’s choosing.</li>
<li><b>Font…</b>: Opens a font dialog to change the font and size of the log display.</li>
<li><b>Clear</b>: Erases all captured messages from the log display.</li>
<li><b>AutoScroll</b>: Enables or disables the auto-scrolling feature.</li>
<li><b>Pause</b>: Pauses or resumes the capture/display of new messages.</li>
<li><b>Add Marker</b>: Inserts a marker into the log.</li>
<li><b>Auto Group</b>: Specifies a “quiet time”, in seconds, that if no messages are logged in that interval, the first that arrives after it transpires will automatically be preceded by a marker entry.</li>
<li><b>Message Filter</b>: If non-empty, filters the log display such that it will only show messages containing the filter text.</li>
</ul>
<p>The data columns are as follows:</p><ul>
<li><b>Index</b>: The unique index number of the message. This number starts at zero when the AJA Debug Facility is initialized.</li>
<li><b>PID</b>: The ID of the message’s originating host process.</li>
<li><b>TID</b>: The ID of the message’s originating host thread.</li>
<li><b>Time</b>: The host timestamp when the message entered the AJA Debug Facility’s ring buffer.</li>
<li><b>Group</b>: The message’s classification group (see <a class="el" href="../../d0/db4/debugshare_8h.html#ab39be81b481f6034a234f5b36f54581e">AJADebugUnit</a>).</li>
<li><b>Severity</b>: The message’s severity (see <a class="el" href="../../d0/db4/debugshare_8h.html#ab79e9b7969ef5d20032e96ff229a7186">AJADebugSeverity</a>).</li>
<li><b>Source</b>: The message’s originating source file name and line number (if known).</li>
<li><b>Message</b>: The log message text.</li>
</ul>
<p>By default, all columns are visible. If needed, any of the columns (except for <b>Message</b>) can be hidden.</p><ul>
<li>To hide a column, uncheck it in the <b>View</b> menu’s <b>Column</b> sub-menu.</li>
<li>To re-show a column, check it.</li>
<li>To quickly re-show all columns, choose the <b>Show All Columns</b> command in the <b>Column</b> submenu in the <b>View</b> menu.</li>
</ul>
<p>Messages are always displayed in increasing index/time order, top-to-bottom.</p>
<p>The <b>Status Bar</b> shows:</p><ul>
<li><b>File Recording State</b>: If the logger’s “Log” setting is enabled, it shows the path of the log file being written, and its size, in bytes. If the logger’s “Log” setting is off, it shows “not logging to file”.</li>
<li><b>Message Stats</b>:<ul>
<li><b>Ignored</b>: The number of messages that were reported by <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> clients, but ignored by the AJA Logger. You can choose the kinds of messages to ignore by showing the <b>Enables</b> dialog box by clicking the <b>Enables</b> button. You can also pause the logger by clicking the <b>Pause</b> button.</li>
<li><b>Accepted</b>: The number of messages that were reported by <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> clients, and accepted for display by the AJA Logger application.</li>
<li><b>Total</b>: The total number of messages that were reported by <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> clients.</li>
<li><b>Ref Count</b>: The number of attached clients that are currently monitoring <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> activity.</li>
</ul>
</li>
</ul>
<p>As new messages are reported to the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> logging facility, these are detected and, if configured to show them, incorporated into the log display. If <b>AutoScroll</b> is enabled, the display will auto-scroll to the bottom, to continually show the newest message.</p>
<dl class="section note"><dt>Note</dt><dd>Log messages containing line breaks (newline characters) are displayed in a single row, with the message text truncated at the first line break in the message with an ellipsis (‘…’). If logging to a file, the message text is written to the log file unchanged (including line breaks).</dd></dl>
<dl class="section user"><dt>Selecting and Copying Data</dt><dd></dd></dl>
<p>Clicking inside the Main View highlights (selects) information on a per-messsage (row) basis. The usual rules of selection are followed:</p><ul>
<li>“Shift-click” — Extends the selection.</li>
<li>“Ctrl-click” or “Command-click” — Extends or contracts the selection.</li>
<li>“Dragging” — Continues to extend (or contract) the selection while the mouse button is down (and auto-scrolls, too).</li>
</ul>
<p>Right-clicking inside the Main View pops up a context menu:</p><ul>
<li><b>Set row color for PID…</b> —</li>
<li><b>Copy</b> — Copies selected log entries to the host’s clipboard.</li>
<li><b>Clear</b> — Clears the entire log display.</li>
<li><b>Select All</b> — Selects (highlights) all captured log entries.</li>
<li><b>Columns</b> — Chooses which columns (fields) are shown.<ul>
<li><b>Index</b> — If checked, shows the log message sequence (index) number.</li>
<li><b>PID</b> — If checked, shows the originating process IDs.</li>
<li><b>TID</b> — If checked, shows the originating thread IDs.</li>
<li><b>Time</b> — If checked, shows the timestamp when the message was received.</li>
<li><b>Group</b> — If checked, shows the message group.</li>
<li><b>Severity</b> — If checked, shows the message severity.</li>
<li><b>Source</b> — If checked, shows the originating source file name.</li>
<li><b>Show All Columns</b> — Choose this item to enable all columns (fields).</li>
</ul>
</li>
<li><b>Grid</b> — If checked, displays a grid between columns and rows.</li>
<li><b>AutoScroll</b> or <b>Stop AutoScroll</b> — Choose this item to enable or disable auto-scrolling.</li>
<li><b>Auto-Resize Columns</b> — Choose this item to toggle column auto-resizing.</li>
<li><b>Font…</b> — Choose this item to choose a different display font and/or size.</li>
<li><b>Message Groups…</b> — Choose this item to open the <a class="el" href="../../db/d02/toolsandutilities.html#watcher-loggerconfig">Enable/Disable Message Groups Dialog</a>.</li>
<li><b>Add Marker</b> — Choose this item to insert a marker into the log.</li>
<li><b>Pause</b> or <b>Resume</b> — Choose this item to pause or resume the capture and display of new incoming log messages.</li>
<li><b>Log to File</b> — Choose this item to start or stop the capture of incoming log message to a local host file.</li>
<li><b>Text Delimiter</b> — Choose this item to pop up a sub-menu to choose a different column delimiter.</li>
<li><b>Page Setup…</b> — Choose this item to pop up the Page Setup dialog.</li>
<li><b>Print…</b> — Choose this item to bring up the Print dialog to print the captured log.</li>
<li><b>Reset Ref Count</b> — Choose this item to reset the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility’s reference counter.</li>
</ul>
<dl class="section user"><dt>Logging to a File</dt><dd></dd></dl>
<p>To toggle the automatic recording of incoming messages into a file on the host:</p><ul>
<li>Click the <b>Log to File</b> button;</li>
<li>or choose <b>Log to File</b> in the context menu.</li>
</ul>
<p>When enabled:</p><ul>
<li>The path to the file (and its current size, in bytes) is displayed in the Status Bar, on the left side.</li>
<li>The file is written in clear text, in UTF-8 encoding, one line per message.</li>
<li>The line delimiter used is native to the host operating system.</li>
<li>The field delimiter is user-selectable, and defaults to the semicolon (“;”).<ul>
<li>To change it, choose the <b>Text Delimiter</b> command in the context menu … then choose the desired delimiter (<b>semicolon</b>, <b>colon</b>, <b>comma</b>, <b>space</b>, or <b>tab</b>).</li>
<li>Subsequent writes to the file will use the new delimiter.</li>
</ul>
</li>
<li>Log messages that contain line breaks in the message text are written into the log file without change.</li>
</ul>
<p>To toggle file logging on or off, click the <b>Log to File</b> button in the Toolbar, or un-check its command in the <b>Action</b> menu.</p>
<dl class="section user"><dt>Clearing the Log Display</dt><dd></dd></dl>
<p>To clear the log display, do one of the following:</p><ul>
<li>click the <b>Clear</b> button;</li>
<li>or choose <b>Clear</b> from the context menu;</li>
<li>or press the forward-delete key.</li>
</ul>
<dl class="section user"><dt>Pausing or Resuming the Log Display</dt><dd></dd></dl>
<p>To pause the capture and display of new incoming messages:</p><ul>
<li>click the <b>Pause</b> button;</li>
<li>or choose <b>Pause</b> in the context menu.</li>
</ul>
<p>Even if paused, new messages are still recorded in the log file (if file logging is enabled).</p>
<p>To resume capture and display of new messages:</p><ul>
<li>click the <b>Resume</b> button;</li>
<li>or choose <b>Resume</b> in the context menu.</li>
</ul>
<dl class="section user"><dt>Inserting Markers Into the Log</dt><dd></dd></dl>
<p>An “elapsed time” marker is automatically inserted into the log when a new log message is captured after a user-configurable number of seconds has passed since the last accepted message was received. The default time interval is 86400 seconds (one day). To change time interval, type a new value, in seconds, into the <b>Auto Group</b> edit box … then press Return, Enter or Tab.</p>
<p>To manually insert a marker into the log, click the <b>Add Marker</b> button. It will be timestamped and appended to the log.</p>
<dl class="section user"><dt>Changing the Display Font/Typeface</dt><dd></dd></dl>
<p>To change the typeface used in the log display, click the <b>Font…</b> button or the <b>Font…</b> command in the context menu. The host-specific Font-chooser dialog box will appear. Choose the font family, size and style, then click <b>OK</b>. The Main View will be redrawn using the new typeface.</p>
<dl class="section user"><dt>Changing the Message Color Based on Process ID</dt><dd></dd></dl>
<p><b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Log</b> can display messages having the same process ID (PID) with a chosen background color, making it easy to differentiate messages coming from different processes on the host computer.</p><ul>
<li>Right-click on the message(s) having the desired process ID you wish to colorize.</li>
<li>Choose <b>Set row color for PID…</b>.</li>
<li>A color picker dialog will appear. Choose the new desired background color, then click OK.</li>
</ul>
<p>All messages having that process ID will be drawn with the newly-chosen background color.</p>
<dl class="section user"><dt>Resizing Columns</dt><dd></dd></dl>
<p><b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Log</b> can automatically adjust its column widths based on the widest data in the column. When the <b>Auto-Resize Columns</b> item in the context menu is checked, columns will automatically resize based on the captured messages being displayed. If the item is unchecked, column widths are fixed. Choose the <b>Auto-Resize Columns</b> item to toggle its setting.</p>
<p>To manually resize a column, click on the column’s border in the column heading, and drag.</p>
<dl class="section user"><dt>Filtering Displayed Messages</dt><dd></dd></dl>
<p>To see only those messages that contain a particular character string, enter the search text into the <b>Message Filter</b> edit box …&#160;then press Return, Enter or Tab. Henceforth, you’ll only see messages that contain that text — all others will be excluded and invisible.</p>
<dl class="section note"><dt>Note</dt><dd>This will only affect messages received by AJA Logger <em>after</em> changing the <b>Message Filter</b> text.</dd></dl>
<p>To stop filtering displayed messages, delete all text from the <b>Message Filter</b> edit box … then press Return, Enter or Tab.</p>
<dl class="section user"><dt>Measuring the Time Between Two Messages</dt><dd></dd></dl>
<p>To measure the time span between two messages in the display:</p><ul>
<li>Click the <b>Stop AutoScroll</b> button. This makes it easier to select the desired message.</li>
<li>Scroll to reveal the first message, then (left) click on it.</li>
<li>Scroll to reveal the second message, then Command-Click (MacOS) or Control-Click on it.</li>
<li>Right-click on either of the two highlighted messages.</li>
<li>Note the elapsed “Time Difference” is the first item in the popup menu.</li>
</ul>
<h3><a class="anchor" id="watcher-loggerconfig"></a>
Enable/Disable Message Groups Dialog</h3>
<div class="image">
<img src="../../logger-enables.png" alt=""/>
</div>
<p><b><a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> Tool</b> has powerful filtering capabilities that make it easy to “include everything except…” or “exclude everything but…” or a combination.</p>
<p>To reveal the <b>Enable/Disable Message Groups</b> dialog box:</p><ul>
<li>click the <b>Message Groups…</b> button;</li>
<li>or choose the <b>Message Groups…</b> command from the context menu.</li>
</ul>
<p>The dialog box has two sections:</p><ul>
<li><b>Groups</b> — Enable or disable message display by group (aka <a class="el" href="../../d0/db4/debugshare_8h.html#ab39be81b481f6034a234f5b36f54581e">AJADebugUnit</a>).</li>
<li><b>Severity</b> — Enable or disable message display by severity (aka <a class="el" href="../../d0/db4/debugshare_8h.html#ab79e9b7969ef5d20032e96ff229a7186">AJADebugSeverity</a>).</li>
</ul>
<p>Each checkbox is “live” — i.e. toggling a checkbox takes effect immediately.</p>
<p>There are handy pushbuttons for immediately enabling or disabling all of the Group or Severity checkboxes.</p>
<p>Click <b>OK</b> to dismiss (hide) the dialog box.</p>
<h3><a class="anchor" id="watcher-loggercustom"></a>
How to Post Messages</h3>
<p>SDK clients can post their own messages with the <a class="el" href="../../db/d56/class_a_j_a_debug.html">AJADebug</a> facility.</p>
<ol type="1">
<li>In your source file(s), <code>#include</code> <code>"ajadebug.h"</code> .</li>
<li>Be sure to link with the <b>libajantv2</b> library.</li>
<li>When the application starts, call <a class="el" href="../../db/d56/class_a_j_a_debug.html#a00ff3e1d68cf7d7b49a6545774c22bb2">AJADebug::Open</a>.</li>
<li>Call <a class="el" href="../../db/d56/class_a_j_a_debug.html#a1516564a30573c6a32c8699fc204bbf0">AJADebug::Report</a> to log a message …&#160;or use one of the <a class="el" href="../../db/df7/group___a_j_a_group_macro.html#gaabd7cfd000c8d08a32ed1f77eeeb1e6f">AJA_sDEBUG</a>, <a class="el" href="../../db/df7/group___a_j_a_group_macro.html#ga1975f7e93899a83cd85bcfe370247bfd">AJA_sINFO</a>, <a class="el" href="../../db/df7/group___a_j_a_group_macro.html#ga457ab8824e0e1e09c8996e3a39cda877">AJA_sNOTICE</a>, etc. macros.</li>
</ol>
<hr  size="50px" />
 <h2><a class="anchor" id="watcherprefs"></a>
NTV2Watcher Preferences</h2>
<p>The <b>Preferences</b> dialog is opened by choosing the “Preferences…” menu command, which is located…</p><ul>
<li>MacOS: under the “NTV2Watcher” application menu</li>
<li>Windows and Linux: under the “Help” menu</li>
</ul>
<p>Changing any setting stores the new setting, and it takes effect immediately.</p>
<h3><a class="anchor" id="watcherprefsgeneral"></a>
General Preferences</h3>
<div class="image">
<img src="../../watcher-prefs-general.png" alt=""/>
</div>
<p>The controls in this panel set general (global) preferences for the NTV2Watcher application.</p><ul>
<li><b>Pre-Lock Host Buffers</b> — When checked, pre-locks host DMA buffers (which can improve performance).</li>
</ul>
<h3><a class="anchor" id="watcherprefscolor"></a>
Color Preferences</h3>
<div class="image">
<img src="../../watcher-prefs-colors.png" alt=""/>
</div>
<p>The controls in this panel set the color preferences for several inspectors that display numeric data.</p><ul>
<li><b>Generic</b> — For generic video data, sets the colors used for “unchanged” and “changed” video data.</li>
<li><b>Ancillary</b> — For ancillary data, sets the colors used for “unchanged” and “changed” ancillary data.</li>
<li><b>Audio</b> — For audio data, sets the colors used for “unchanged” and “changed” audio data.</li>
</ul>
<h3><a class="anchor" id="watcherprefsfbs"></a>
Frame Buffers Preferences</h3>
<div class="image">
<img src="../../watcher-prefs-fbs.png" alt=""/>
</div>
<p>The controls in this panel set the preferences for the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorframebuffer">Frame Buffer Inspector</a>.</p><ul>
<li><b>Pixel Tracking</b> — When checked and hovering cursor over the data area, shows FrameStore raster’s pixel/line coordinates in the status bar.</li>
<li><b>Show Pixel Component Values</b> — When checked and hovering cursor over the data area, shows pixel component values in the status bar.</li>
<li><b>Show Frame Number control with NTV4 FrameStores</b> — When checked, the <b>Frame Number</b> spin control is also shown with the <b>Frame Address</b> spin control (only for NTV4 FrameStores).</li>
</ul>
<h3><a class="anchor" id="watcherprefscables"></a>
Cables Preferences</h3>
<p>The controls in this panel set the preferences for the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorroute">Routing Inspector</a>.</p><ul>
<li><b>Allow drag &amp; drop to/from disabled sockets</b> — When checked, allows dragging new connection cables to or from disabled sockets.</li>
<li><b>FrameStore Preview</b> — When hovering the mouse over a FrameStore widget, you can see previews of the image stored in its current frame buffer.<ul>
<li><b>Off</b> — Disables the Preview feature.</li>
<li><b>Adjacent</b> — Put the preview next to the FrameStore widget.</li>
<li><b>In bottom-left corner</b> — Put the preview in the bottom-left corner of the Cables view.</li>
</ul>
</li>
<li><b>Animate signals in cables</b> — When checked, cables that are actively carrying a signal will display with an animation effect.</li>
</ul>
<p><b>Regs Preferences</b> </p><div class="image">
<img src="../../watcher-prefs-regs.png" alt=""/>
</div>
<p>The controls in this panel set the preferences for the <a class="el" href="../../db/d02/toolsandutilities.html#inspectorregs">Registers Inspector</a>.</p><ul>
<li><b>Write Read-Only Registers</b> — When checked, allows registers that are designated “read-only” to be edited and written.</li>
</ul>
<hr  size="50px" />
<h1><a class="anchor" id="usingsupportlog"></a>
‘supportlog’ Command-Line Utility</h1>
<dl class="section user"><dt>Description</dt><dd></dd></dl>
<p>A command-line tool that generates a support log file that contains state information about the device and driver for one or more AJA devices, and can optionally capture device SDRAM contents into a separate binary dump file.</p>
<dl class="section user"><dt>Synopsis</dt><dd></dd></dl>
<div class="fragment"><div class="line">supportlog [OPTION...]</div>
<div class="line">  -d, --device=index#|serial#|model      device to use</div>
<div class="line">  -s, --stdout                           dump to stdout instead of file?</div>
<div class="line">  -r, --sdram                            also dump device SDRAM to .raw file?</div>
<div class="line">  -v  --verbose                          verbose mode?</div>
<div class="line">  -w  --wait=seconds                     time to wait before capturing</div>
<div class="line">      --version                          show version and exit</div>
<div class="line">Help options:</div>
<div class="line">  -?, --help                             Show this help message</div>
<div class="line">      --usage                            Show brief usage message</div>
</div><!-- fragment --><ul>
<li>The executable is shipped pre-built with the SDK, and appears in the “<b>bin</b>” directory.</li>
<li>Source code is provided in the Linux SDK.</li>
</ul>
<dl class="section user"><dt>Device Selection</dt><dd></dd></dl>
<p>By default, <b>supportlog</b> generates a support log for the first device found. </p><div class="fragment"><div class="line">$ ./bin/supportlog</div>
</div><!-- fragment --><p>This is no different than specifying device zero: </p><div class="fragment"><div class="line">$ ./bin/supportlog  --device 0</div>
</div><!-- fragment --><p>You can also specify a device by model name. For example, if a Kona4 was installed in the host system: </p><div class="fragment"><div class="line">$ ./bin/supportlog  --device kona4</div>
</div><!-- fragment --><p>You can also specify a device by serial number: </p><div class="fragment"><div class="line">$ ./bin/supportlog  --device 00T12345</div>
</div><!-- fragment --><dl class="section user"><dt>Log Files</dt><dd></dd></dl>
<p>Files are always written into the currently logged-in user’s home directory: </p><div class="fragment"><div class="line">$ ls ~/*log</div>
<div class="line">-rw-r--r--  1 demo  staff   130K Sep 20 15:53 /Users/demo/aja_supportlog_0_1537484005.log</div>
<div class="line">-rw-r--r--  1 demo  staff   226K Sep 20 15:53 /Users/demo/aja_supportlog_1_1537484005.log</div>
<div class="line">-rw-r--r--  1 demo  staff   272K Sep 20 15:53 /Users/demo/aja_supportlog_2_1537484005.log</div>
</div><!-- fragment --><p>The name of the log file contains the device index number, and a 10-digit number that’s based on the date and time it was generated. If the host file system enumerates files lexically by name, within a single device index’s group, they should appear sorted oldest-to-newest.</p>
<p>To write a log file to a specific directory with a different name, use the “<code>&ndash;stdout</code>” option along with standard shell redirection directives to pipe the output into the desired file and path: </p><div class="fragment"><div class="line">$ ./bin/supportlog  --stdout  &gt;./my_support_log.txt</div>
</div><!-- fragment --><dl class="section user"><dt>Delaying Log Capture</dt><dd></dd></dl>
<p>Sometimes it’s desirable to capture the log after a certain length of time, often to give the operator time to change something. Use the “<code>&ndash;wait</code>” option to specify a delay time. For example, to capture a log after delaying 10 seconds: </p><div class="fragment"><div class="line">$ ./bin/supportlog  --wait 10</div>
</div><!-- fragment --><dl class="section user"><dt>Capturing Device SDRAM Contents</dt><dd></dd></dl>
<p>If AJA SDK Support requests a snapshot of the device’s SDRAM contents, use the “<code>&ndash;sdram</code>” option.</p>
<dl class="section note"><dt>Note</dt><dd>The resulting dump file will be quite large. Be sure the host storage volume on which your home directory resides has plenty of free space.</dd></dl>
<hr  size="50px" />
<h1><a class="anchor" id="usingsystemtest"></a>
“AJA System Test”</h1>
<p>This page describes how to use the <b>AJA System Test</b> utility to measure the read/write performance of an AJA device and/or local host disk storage.</p>
<dl class="section user"><dt>General Operation</dt><dd></dd></dl>
<p>The user interface consists of a single main window, with…</p><ul>
<li><b>Write</b> and <b>Read</b> progress indicators featured prominently in the middle.</li>
<li>The big, green <b>Start</b> button, which starts a test running. When a test is running, it becomes a large, red <b>Stop</b> button.</li>
<li><b>Operation Mode</b> buttons (at the top). These are mutually exclusive — only one mode can be active at any given time.</li>
<li><b>Settings</b> (on the left). These allow you to choose resolution, file size, codec type, device, target disk, etc.</li>
<li>A graph icon (at the bottom) to toggle the display of performance charts.</li>
</ul>
<p>The <b>Settings</b> panel (on the left) makes it easy to both see and change the relevant test settings. Click on the heading to change the setting.</p><ul>
<li><b>Resolution</b> — Selects the video format (and frame dimensions) of interest. (For device tests, the available formats may vary depending on the selected device capabilities.)</li>
<li><b>Test File Size</b> — Selects the size of the test file to be created and used in the test. Choose from 256MB to 16GB.</li>
<li><b>Codec Type</b> — Selects the codec type to be used in the test. Choose from a variety of uncompressed YUV or RGB formats, and many compressed formats.</li>
<li><b>Target Disk</b> — Selects the host disk volume to be used for the test. <dl class="section note"><dt>Note</dt><dd>The volume must be writable and have sufficient free space to accommodate the test file(s) that the test will create.</dd></dl>
</li>
<li><b>Pixel Format</b> — Selects a pixel format. The available formats will vary, depending on the selected device capabilities.</li>
<li><b>AJA Device</b> — Selects an AJA device to test.</li>
<li><b>Settings</b> — Used to configure other lesser-used settings (see below).</li>
</ul>
<h2><a class="anchor" id="systest-disk"></a>
System Disk Test</h2>
<div class="image">
<img src="../../systest-disktest.png" alt=""/>
</div>
<p>The <b>System Disk Test</b> measures the read/write performance of local host storage.</p>
<p>To measure disk performance for a particular local host volume…</p><ol type="1">
<li>Choose a video <b>Resolution</b>.</li>
<li>Choose a <b>Test File Size</b>.</li>
<li>Choose a <b>Codec Type</b>.</li>
<li>Choose a <b>Target Disk</b>.</li>
<li>Click <b>Start</b>.</li>
</ol>
<ul>
<li>Click the <b>MB/Sec</b> button to view the performance as a data rate, in megabytes per second.</li>
<li>Click the <b>F/Sec</b> button to view the performance as a frame rate, in frames per second.</li>
<li>Click the graph icon at the bottom to reveal charts of the read/write performance over time.</li>
</ul>
<h2><a class="anchor" id="systest-dev"></a>
AJA Device Test</h2>
<div class="image">
<img src="../../systest-devicetest.png" alt=""/>
</div>
<p>The <b>AJA Device Test</b> measures the hostʼs-deviceʼs DMA read/write performance.</p>
<p>To measure DMA performance for a particular device…</p><ol type="1">
<li>Choose a video <b>Resolution</b>.</li>
<li>Choose a <b>Pixel Format</b>.</li>
<li>Choose a device.</li>
<li>Click <b>Start</b>.</li>
</ol>
<ul>
<li>Click the <b>MB/Sec</b> button to view the performance as a data rate, in megabytes per second.</li>
<li>Click the <b>F/Sec</b> button to view the performance as a frame rate, in frames per second.</li>
<li>Click the graph icon at the bottom to reveal charts of the read/write performance over time.</li>
</ul>
<h2><a class="anchor" id="systest-devdisk"></a>
Disk + Device Test</h2>
<div class="image">
<img src="../../systest-diskdevicetest.png" alt=""/>
</div>
<p>The <b>Disk + Device Test</b> measures more “real-world” read/write performance by performing DMA reads followed by host disk writes (for capture), and host disk reads followed by DMA writes (for playout).</p>
<p>To measure combined DMA and host disk I/O performance…</p><ol type="1">
<li>Choose a video <b>Resolution</b>.</li>
<li>Choose a <b>Test File Size</b>.</li>
<li>Choose a <b>Codec Type</b>.</li>
<li>Choose a <b>Target Disk</b>.</li>
<li>Choose a <b>Pixel Format</b>.</li>
<li>Choose an <b>AJA Device</b>.</li>
<li>Click <b>Start</b>.</li>
</ol>
<ul>
<li>Click the <b>MB/Sec</b> button to view the performance as a data rate, in megabytes per second.</li>
<li>Click the <b>F/Sec</b> button to view the performance as a frame rate, in frames per second.</li>
<li>Click the graph icon at the bottom to reveal charts of the read/write performance over time.</li>
</ul>
<h2><a class="anchor" id="systest-settings"></a>
Other Settings</h2>
<div class="image">
<img src="../../systest-settings.png" alt=""/>
</div>
<p>The “Settings” dialog box is used to configure other lesser-used settings.</p>
<ul>
<li><b>Start Test</b> — Configures whether the test runs once (the default) or continuously.</li>
<li><b>Disk Test</b> — Configures the Disk Test to create and use one “File per Frame” or use one “Single file” for all frames. Defaults to “Single file”.</li>
<li><b>Disk Cache</b> — Enables or disables the local host operating systemʼs disk cache. Defaults to “Disable”.</li>
<li><b>Disk Mode</b> — Configures the Disk Test to measure “Read/Write”, “Write-only” or “Read-only (write once)” performance. Defaults to “Read/Write”.</li>
<li><b>DMA Mode</b> — Configures the Device Test to use one (“Single Engine”) or two (“Dual Engines”) DMA engines. Defaults to “Dual Engines”.</li>
</ul>
<h2><a class="anchor" id="systest-report"></a>
System Report</h2>
<div class="image">
<img src="../../systest-report.png" alt=""/>
</div>
<p>The <b>System Report</b> shows detailed information about the host system and the attached AJA device(s) that may affect read/write performance.</p>
<p>To export a <b>.pdf</b> file that contains the report…</p><ol type="1">
<li>Be sure the <b>Generate System Report File (.spx)</b> checkbox is unchecked (clear).</li>
<li>Click <b>Save</b>.</li>
<li>A folder-picker dialog box will appear. Choose a folder in which to save the PDF file, then click <b>Open</b>.</li>
</ol>
<p>To export a <b>.spx</b> file that contains the full report of the host system configuration…</p><ol type="1">
<li>Be sure the <b>Generate System Report File (.spx)</b> checkbox is checked (ticked).</li>
<li>Click <b>Save</b>.</li>
<li>A folder-picker dialog box will appear. Choose a folder in which to save the SPX file, then click <b>Open</b>.</li>
</ol>
<p>To copy all or part of the report text out of the report window…</p><ol type="1">
<li>Left-click and drag through the text in the window, or right-click and choose <b>Select All</b> (or press Ctrl-A).</li>
<li>Right-click and choose <b>Copy</b> (or press Ctrl-C).</li>
<li>You may now paste (using Ctrl-V) the copied text into a document being edited in another running application.</li>
</ol>
<hr  size="50px" />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4a11599852b7ead0c7220b2cbcbfcb1793"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a11599852b7ead0c7220b2cbcbfcb1793">NTV2_XptHDMIOutInput</a></div><div class="ttdeci">@ NTV2_XptHDMIOutInput</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02843">ntv2enums.h:2843</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a7446502a7d2e8ea13394b3a4cdaa5b16ab63f2f0117d9eef9be2157b4b6baf7e2"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16ab63f2f0117d9eef9be2157b4b6baf7e2">NTV2_XptSDIIn1DS2</a></div><div class="ttdeci">@ NTV2_XptSDIIn1DS2</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02555">ntv2enums.h:2555</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4a9ebb0bb1096185ae9077938f2558573f"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a9ebb0bb1096185ae9077938f2558573f">NTV2_XptSDIOut4Input</a></div><div class="ttdeci">@ NTV2_XptSDIOut4Input</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02793">ntv2enums.h:2793</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4a2539e52aeba549c535358d52c04906a8"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a2539e52aeba549c535358d52c04906a8">NTV2_XptCSC1VidInput</a></div><div class="ttdeci">@ NTV2_XptCSC1VidInput</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02759">ntv2enums.h:2759</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4a837064097eb86a9284c2a7effe26459c"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a837064097eb86a9284c2a7effe26459c">NTV2_XptLUT2Input</a></div><div class="ttdeci">@ NTV2_XptLUT2Input</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02776">ntv2enums.h:2776</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4a03333436d304aa4dac93723056b3ad22"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a03333436d304aa4dac93723056b3ad22">NTV2_XptLUT1Input</a></div><div class="ttdeci">@ NTV2_XptLUT1Input</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02775">ntv2enums.h:2775</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4ac4aee26674a8a4ae84d209468d5333ee"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4ac4aee26674a8a4ae84d209468d5333ee">NTV2_XptFrameBuffer1Input</a></div><div class="ttdeci">@ NTV2_XptFrameBuffer1Input</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02743">ntv2enums.h:2743</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a7446502a7d2e8ea13394b3a4cdaa5b16aeb92ee9e88c84198ee883600cddaaa02"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16aeb92ee9e88c84198ee883600cddaaa02">NTV2_XptSDIIn1</a></div><div class="ttdeci">@ NTV2_XptSDIIn1</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02519">ntv2enums.h:2519</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a7446502a7d2e8ea13394b3a4cdaa5b16a45fdfe2568c2c0095115c99d757cb772"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16a45fdfe2568c2c0095115c99d757cb772">NTV2_XptCSC2VidRGB</a></div><div class="ttdeci">@ NTV2_XptCSC2VidRGB</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02539">ntv2enums.h:2539</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a7446502a7d2e8ea13394b3a4cdaa5b16a62f59d93ac6159cd58f73ea085aa0770"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a7446502a7d2e8ea13394b3a4cdaa5b16a62f59d93ac6159cd58f73ea085aa0770">NTV2_XptCSC1VidRGB</a></div><div class="ttdeci">@ NTV2_XptCSC1VidRGB</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02524">ntv2enums.h:2524</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4a5721f66168fd1d223ba1d555f0f9de2b"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a5721f66168fd1d223ba1d555f0f9de2b">NTV2_XptCSC2VidInput</a></div><div class="ttdeci">@ NTV2_XptCSC2VidInput</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02761">ntv2enums.h:2761</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4ab138b943a989ccf74ad365c11eafd412"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4ab138b943a989ccf74ad365c11eafd412">NTV2_XptAnalogOutInput</a></div><div class="ttdeci">@ NTV2_XptAnalogOutInput</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02860">ntv2enums.h:2860</a></div></div>
<div class="ttc" id="antv2enums_8h_html_a8c757863040a131ff5aa4e0e93284fd4a04689c4ed3081db9cd6c99365285fc56"><div class="ttname"><a href="../../d6/d0c/ntv2enums_8h.html#a8c757863040a131ff5aa4e0e93284fd4a04689c4ed3081db9cd6c99365285fc56">NTV2_XptSDIOut3Input</a></div><div class="ttdeci">@ NTV2_XptSDIOut3Input</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/ntv2enums_8h_source.html#l02791">ntv2enums.h:2791</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">The NTV2 SDK</a></li>
    <li class="footer">Generated on Fri May 9 2025 14:09:44 for AJA NTV2 SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
