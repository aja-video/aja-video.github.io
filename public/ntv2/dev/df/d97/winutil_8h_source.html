<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AJA NTV2 SDK: /home/tcbuilder/buildAgent/work/df8e8cce5bebfd58/libajantv2/demos/ntv2vcam/baseclasses/winutil.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../ajastyles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../AJALogoMini.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AJA NTV2 SDK
   &#160;<span id="projectnumber">18.0.0.2322</span>
   </div>
   <div id="projectbrief">NTV2 SDK 18.0.0.2322</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('df/d97/winutil_8h_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">winutil.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d97/winutil_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// File: WinUtil.h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Desc: DirectShow base classes - defines generic handler classes.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// Copyright (c) 1992-2001 Microsoft Corporation.  All rights reserved.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// Make sure that you call PrepareWindow to initialise the window after</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// the object has been constructed. It is a separate method so that</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// derived classes can override useful methods like MessageLoop. Also</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// any derived class must call DoneWithWindow in its destructor. If it</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// doesn&#39;t a message may be retrieved and call a derived class member</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// function while a thread is executing the base class destructor code</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifndef __WINUTIL__</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#define __WINUTIL__</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a37657f8f22181c41024f1d7d1d4b8a7e">   20</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d97/winutil_8h.html#a37657f8f22181c41024f1d7d1d4b8a7e">DEFWIDTH</a> = 320;                    <span class="comment">// Initial window width</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a82a42596b29857d5822b770cc18de246">   21</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d97/winutil_8h.html#a82a42596b29857d5822b770cc18de246">DEFHEIGHT</a> = 240;                   <span class="comment">// Initial window height</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#ae5de5e992bdc7532c7c240954a3db292">   22</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d97/winutil_8h.html#ae5de5e992bdc7532c7c240954a3db292">CAPTION</a> = 256;                     <span class="comment">// Maximum length of caption</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a899cc5f762143c226e2f8b3167bcbd8e">   23</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d97/winutil_8h.html#a899cc5f762143c226e2f8b3167bcbd8e">TIMELENGTH</a> = 50;                   <span class="comment">// Maximum length of times</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#aa25e76db60a720be2b031bd4fe9cd3b0">   24</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d97/winutil_8h.html#aa25e76db60a720be2b031bd4fe9cd3b0">PROFILESTR</a> = 128;                  <span class="comment">// Normal profile string</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a86e8628c16751b3d1bad5b08eec0febe">   25</a></span>&#160;<span class="keyword">const</span> WORD <a class="code" href="../../df/d97/winutil_8h.html#a86e8628c16751b3d1bad5b08eec0febe">PALVERSION</a> = 0x300;               <span class="comment">// GDI palette version</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a72d6c44e263b95a0e4c9c67ffe3cdfb1">   26</a></span>&#160;<span class="keyword">const</span> LONG <a class="code" href="../../df/d97/winutil_8h.html#a72d6c44e263b95a0e4c9c67ffe3cdfb1">PALETTE_VERSION</a> = (LONG) 1;       <span class="comment">// Initial palette version</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#abba1e365379462fc69597c37d1a760d0">   27</a></span>&#160;<span class="keyword">const</span> COLORREF <a class="code" href="../../df/d97/winutil_8h.html#abba1e365379462fc69597c37d1a760d0">VIDEO_COLOUR</a> = 0;             <span class="comment">// Defaults to black background</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a32fec42979da8a14e7cd0796af617006">   28</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../db/de2/ajatypes_8h.html#a0b94bcde5ffe910695c0e57ea5a4364e">HANDLE</a> <a class="code" href="../../df/d97/winutil_8h.html#a32fec42979da8a14e7cd0796af617006">hMEMORY</a> = (<a class="code" href="../../db/de2/ajatypes_8h.html#a0b94bcde5ffe910695c0e57ea5a4364e">HANDLE</a>) (-1);        <span class="comment">// Says to open as memory file</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a9978c9be0f4161638ec49b4eda697d42">   30</a></span>&#160;<span class="preprocessor">#define WIDTH(x) ((*(x)).right - (*(x)).left)</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#ae56175e77e5fe7e8b151669e0ffd592c">   31</a></span>&#160;<span class="preprocessor">#define HEIGHT(x) ((*(x)).bottom - (*(x)).top)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#ab6d6a509197eba6cb3d49c731fa67968">   32</a></span>&#160;<span class="preprocessor">#define SHOWSTAGE TEXT(&quot;WM_SHOWSTAGE&quot;)</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#a38d6a7e3802a0d6c02281d560064cc5e">   33</a></span>&#160;<span class="preprocessor">#define SHOWSTAGETOP TEXT(&quot;WM_SHOWSTAGETOP&quot;)</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../df/d97/winutil_8h.html#af37019f822cfdbff541671c75b6cd3a6">   34</a></span>&#160;<span class="preprocessor">#define REALIZEPALETTE TEXT(&quot;WM_REALIZEPALETTE&quot;)</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html">   36</a></span>&#160;<span class="keyword">class </span>AM_NOVTABLE <a class="code" href="../../db/dbd/class_c_base_window.html">CBaseWindow</a></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a06cf937833a00e33e9e2a190acb5601e">   40</a></span>&#160;    HINSTANCE <a class="code" href="../../db/dbd/class_c_base_window.html#a06cf937833a00e33e9e2a190acb5601e">m_hInstance</a>;          <span class="comment">// Global module instance handle</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a1e3759de504b321ccab463af2922e715">   41</a></span>&#160;    HWND <a class="code" href="../../db/dbd/class_c_base_window.html#a1e3759de504b321ccab463af2922e715">m_hwnd</a>;                    <span class="comment">// Handle for our window</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a23ce79903703be9f052951a3c5f93a20">   42</a></span>&#160;    HDC <a class="code" href="../../db/dbd/class_c_base_window.html#a23ce79903703be9f052951a3c5f93a20">m_hdc</a>;                      <span class="comment">// Device context for the window</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a31d33e4b409bb2666b38e737f188a9a5">   43</a></span>&#160;    LONG <a class="code" href="../../db/dbd/class_c_base_window.html#a31d33e4b409bb2666b38e737f188a9a5">m_Width</a>;                   <span class="comment">// Client window width</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#aa9f5ce3c349fe2db484cc4ae4848ec95">   44</a></span>&#160;    LONG <a class="code" href="../../db/dbd/class_c_base_window.html#aa9f5ce3c349fe2db484cc4ae4848ec95">m_Height</a>;                  <span class="comment">// Client window height</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a928f6b17447903a25905306ce00c02c0">   45</a></span>&#160;    BOOL <a class="code" href="../../db/dbd/class_c_base_window.html#a928f6b17447903a25905306ce00c02c0">m_bActivated</a>;              <span class="comment">// Has the window been activated</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a8f08ed6797c958f91953662f5b96d2c8">   46</a></span>&#160;    LPTSTR <a class="code" href="../../db/dbd/class_c_base_window.html#a8f08ed6797c958f91953662f5b96d2c8">m_pClassName</a>;            <span class="comment">// Static string holding class name</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a19ab034c9d198ccf518d90f4d1ae7489">   47</a></span>&#160;    DWORD <a class="code" href="../../db/dbd/class_c_base_window.html#a19ab034c9d198ccf518d90f4d1ae7489">m_ClassStyles</a>;            <span class="comment">// Passed in to our constructor</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#ad2b80f4129dc6e42f1245959db65f56a">   48</a></span>&#160;    DWORD <a class="code" href="../../db/dbd/class_c_base_window.html#ad2b80f4129dc6e42f1245959db65f56a">m_WindowStyles</a>;           <span class="comment">// Likewise the initial window styles</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a1f3fbdfd47cc2a01fce903b105fbf1b3">   49</a></span>&#160;    DWORD <a class="code" href="../../db/dbd/class_c_base_window.html#a1f3fbdfd47cc2a01fce903b105fbf1b3">m_WindowStylesEx</a>;         <span class="comment">// And the extended window styles</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a6fca1e1dca08017447b8d3c4a8dae675">   50</a></span>&#160;    UINT <a class="code" href="../../db/dbd/class_c_base_window.html#a6fca1e1dca08017447b8d3c4a8dae675">m_ShowStageMessage</a>;        <span class="comment">// Have the window shown with focus</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a04728947be4f7bfe428f6164f2c1e0ae">   51</a></span>&#160;    UINT <a class="code" href="../../db/dbd/class_c_base_window.html#a04728947be4f7bfe428f6164f2c1e0ae">m_ShowStageTop</a>;            <span class="comment">// Makes the window WS_EX_TOPMOST</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a62faab4631b054cfb7b492c3059edba8">   52</a></span>&#160;    UINT <a class="code" href="../../db/dbd/class_c_base_window.html#a62faab4631b054cfb7b492c3059edba8">m_RealizePalette</a>;          <span class="comment">// Makes us realize our new palette</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a6487b0332a17b9e87b43cbf18850bb32">   53</a></span>&#160;    HDC <a class="code" href="../../db/dbd/class_c_base_window.html#a6487b0332a17b9e87b43cbf18850bb32">m_MemoryDC</a>;                 <span class="comment">// Used for fast BitBlt operations</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#ac27aa395735c3685cd8a2d8e7dfc9f2e">   54</a></span>&#160;    HPALETTE <a class="code" href="../../db/dbd/class_c_base_window.html#ac27aa395735c3685cd8a2d8e7dfc9f2e">m_hPalette</a>;            <span class="comment">// Handle to any palette we may have</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a00bd3bba1d7e01c4a066a6636a9451b4">   55</a></span>&#160;    BYTE <a class="code" href="../../db/dbd/class_c_base_window.html#a00bd3bba1d7e01c4a066a6636a9451b4">m_bNoRealize</a>;              <span class="comment">// Don&#39;t realize palette now</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#abab2aa3e6b446c2f833ca0d977ef3873">   56</a></span>&#160;    BYTE <a class="code" href="../../db/dbd/class_c_base_window.html#abab2aa3e6b446c2f833ca0d977ef3873">m_bBackground</a>;             <span class="comment">// Should we realise in background</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a92bc97047123467d13cb7df0117f6d24">   57</a></span>&#160;    BYTE <a class="code" href="../../db/dbd/class_c_base_window.html#a92bc97047123467d13cb7df0117f6d24">m_bRealizing</a>;              <span class="comment">// already realizing the palette</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#aa247f2ef2779e5bbac583144171ca963">   58</a></span>&#160;    <a class="code" href="../../d5/d24/class_c_crit_sec.html">CCritSec</a> <a class="code" href="../../db/dbd/class_c_base_window.html#aa247f2ef2779e5bbac583144171ca963">m_WindowLock</a>;          <span class="comment">// Serialise window object access</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a891a50655637e79f054d823936e9876a">   59</a></span>&#160;    BOOL <a class="code" href="../../db/dbd/class_c_base_window.html#a891a50655637e79f054d823936e9876a">m_bDoGetDC</a>;                <span class="comment">// Should this window get a DC</span></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a22ed0c2feb4f8f1b1d0b48459a2202c0">   60</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../db/dbd/class_c_base_window.html#a22ed0c2feb4f8f1b1d0b48459a2202c0">m_bDoPostToDestroy</a>;        <span class="comment">// Use PostMessage to destroy</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a6e0a3196a2abd3358bb4c69bbe2c9a5a">   61</a></span>&#160;    <a class="code" href="../../d5/d24/class_c_crit_sec.html">CCritSec</a> <a class="code" href="../../db/dbd/class_c_base_window.html#a6e0a3196a2abd3358bb4c69bbe2c9a5a">m_PaletteLock</a>;         <span class="comment">// This lock protects m_hPalette.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                    <span class="comment">// It should be held anytime the</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                    <span class="comment">// program use the value of m_hPalette.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// Maps windows message procedure into C++ methods</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">friend</span> LRESULT CALLBACK <a class="code" href="../../d8/db1/winutil_8cpp.html#a7d6f0180524ce55ee47fb178d756da99">WndProc</a>(HWND hwnd,      <span class="comment">// Window handle</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                    UINT uMsg,      <span class="comment">// Message ID</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                    WPARAM wParam,  <span class="comment">// First parameter</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                    LPARAM lParam); <span class="comment">// Other parameter</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">virtual</span> LRESULT OnPaletteChange(HWND hwnd, UINT Message);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../db/dbd/class_c_base_window.html">CBaseWindow</a>(BOOL bDoGetDC = TRUE, <span class="keywordtype">bool</span> bPostToDestroy = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="../../db/dbd/class_c_base_window.html">CBaseWindow</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">virtual</span> HRESULT DoneWithWindow();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">virtual</span> HRESULT PrepareWindow();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">virtual</span> HRESULT InactivateWindow();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">virtual</span> HRESULT ActivateWindow();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">virtual</span> BOOL OnSize(LONG Width, LONG Height);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">virtual</span> BOOL OnClose();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keyword">virtual</span> RECT GetDefaultRect();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">virtual</span> HRESULT UninitialiseWindow();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keyword">virtual</span> HRESULT InitialiseWindow(HWND hwnd);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    HRESULT CompleteConnect();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    HRESULT DoCreateWindow();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    HRESULT PerformanceAlignWindow();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    HRESULT DoShowWindow(LONG ShowCmd);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">void</span> PaintWindow(BOOL bErase);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">void</span> DoSetWindowForeground(BOOL bFocus);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">virtual</span> HRESULT SetPalette(HPALETTE hPalette);</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a74c0cfe67e879b129843e76ab15d8e31">   99</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/dbd/class_c_base_window.html#a74c0cfe67e879b129843e76ab15d8e31">SetRealize</a>(BOOL bRealize)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        m_bNoRealize = !bRealize;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">//  Jump over to the window thread to set the current palette</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    HRESULT SetPalette();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">void</span> UnsetPalette(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">virtual</span> HRESULT DoRealisePalette(BOOL bForceBackground = FALSE);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">void</span> LockPaletteLock();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">void</span> UnlockPaletteLock();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../db/dbd/class_c_base_window.html#a0885cbf839728a6c56ad33c61ea2bd44">  112</a></span>&#160;    <span class="keyword">virtual</span> BOOL <a class="code" href="../../db/dbd/class_c_base_window.html#a0885cbf839728a6c56ad33c61ea2bd44">PossiblyEatMessage</a>(UINT uMsg, WPARAM wParam, LPARAM lParam)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        { <span class="keywordflow">return</span> FALSE; };</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// Access our window information</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">bool</span> WindowExists();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    LONG GetWindowWidth();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    LONG GetWindowHeight();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    HWND GetWindowHWND();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    HDC GetMemoryHDC();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    HDC GetWindowHDC();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">    #ifdef DEBUG</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    HPALETTE GetPalette();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">    #endif // DEBUG</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// This is the window procedure the derived object should override</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">virtual</span> LRESULT OnReceiveMessage(HWND hwnd,          <span class="comment">// Window handle</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                     UINT uMsg,          <span class="comment">// Message ID</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                     WPARAM wParam,      <span class="comment">// First parameter</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                     LPARAM lParam);     <span class="comment">// Other parameter</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// Must be overriden to return class and window styles</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keyword">virtual</span> LPTSTR GetClassWindowStyles(</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                            __out DWORD *pClassStyles,          <span class="comment">// Class styles</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                            __out DWORD *pWindowStyles,         <span class="comment">// Window styles</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                            __out DWORD *pWindowStylesEx) PURE; <span class="comment">// Extended styles</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;};</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// This helper class is entirely subservient to the owning CBaseWindow object</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// All this object does is to split out the actual drawing operation from the</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// main object (because it was becoming too large). We have a number of entry</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// points to set things like the draw device contexts, to implement the actual</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// drawing and to set the destination rectangle in the client window. We have</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">// no critical section locking in this class because we are used exclusively</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">// by the owning window object which looks after serialising calls into us</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// If you want to use this class make sure you call NotifyAllocator once the</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// allocate has been agreed, also call NotifyMediaType with a pointer to a</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// NON stack based CMediaType once that has been set (we keep a pointer to</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">// the original rather than taking a copy). When the palette changes call</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">// IncrementPaletteVersion (easiest thing to do is to also call this method</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">// in the SetMediaType method most filters implement). Finally before you</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">// start rendering anything call SetDrawContext so that we can get the HDCs</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">// for drawing from the CBaseWindow object we are given during construction</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html">  161</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../db/d39/class_c_draw_image.html">CDrawImage</a></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#a0d8798445b39302f5404745229417561">  165</a></span>&#160;    <a class="code" href="../../db/dbd/class_c_base_window.html">CBaseWindow</a> *<a class="code" href="../../db/d39/class_c_draw_image.html#a0d8798445b39302f5404745229417561">m_pBaseWindow</a>;     <span class="comment">// Owning video window object</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#a41083429158538cd52cee7547ed2cf4d">  166</a></span>&#160;    <a class="code" href="../../dc/da7/class_c_ref_time.html">CRefTime</a> <a class="code" href="../../db/d39/class_c_draw_image.html#a41083429158538cd52cee7547ed2cf4d">m_StartSample</a>;         <span class="comment">// Start time for the current sample</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#ae06eafb7504b7125e4e7e9f1fc151fc3">  167</a></span>&#160;    <a class="code" href="../../dc/da7/class_c_ref_time.html">CRefTime</a> <a class="code" href="../../db/d39/class_c_draw_image.html#ae06eafb7504b7125e4e7e9f1fc151fc3">m_EndSample</a>;           <span class="comment">// And likewise it&#39;s end sample time</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#a5503b2a632c3017f30915b1ea41a83e3">  168</a></span>&#160;    HDC <a class="code" href="../../db/d39/class_c_draw_image.html#a5503b2a632c3017f30915b1ea41a83e3">m_hdc</a>;                      <span class="comment">// Main window device context</span></div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#af2f5bebd35c52d5dfdec0f2abbe3b15a">  169</a></span>&#160;    HDC <a class="code" href="../../db/d39/class_c_draw_image.html#af2f5bebd35c52d5dfdec0f2abbe3b15a">m_MemoryDC</a>;                 <span class="comment">// Offscreen draw device context</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#afabac3812222cfebf0a166f5f4adc162">  170</a></span>&#160;    RECT <a class="code" href="../../db/d39/class_c_draw_image.html#afabac3812222cfebf0a166f5f4adc162">m_TargetRect</a>;              <span class="comment">// Target destination rectangle</span></div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#ad789045cab99c9bb05b29d39353f37da">  171</a></span>&#160;    RECT <a class="code" href="../../db/d39/class_c_draw_image.html#ad789045cab99c9bb05b29d39353f37da">m_SourceRect</a>;              <span class="comment">// Source image rectangle</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#aaaf4351d538de803d3999bd417c27a92">  172</a></span>&#160;    BOOL <a class="code" href="../../db/d39/class_c_draw_image.html#aaaf4351d538de803d3999bd417c27a92">m_bStretch</a>;                <span class="comment">// Do we have to stretch the images</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#a627210eaad54e896ed4eba6b4bc63a52">  173</a></span>&#160;    BOOL <a class="code" href="../../db/d39/class_c_draw_image.html#a627210eaad54e896ed4eba6b4bc63a52">m_bUsingImageAllocator</a>;    <span class="comment">// Are the samples shared DIBSECTIONs</span></div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#acc1b3b5faebf31d4c32e77a72c53fac6">  174</a></span>&#160;    <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *<a class="code" href="../../db/d39/class_c_draw_image.html#acc1b3b5faebf31d4c32e77a72c53fac6">m_pMediaType</a>;       <span class="comment">// Pointer to the current format</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#a55e1c9813218ece78b33dc7128a94f91">  175</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a55e1c9813218ece78b33dc7128a94f91">m_perfidRenderTime</a>;         <span class="comment">// Time taken to render an image</span></div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#ae21c22d9710e4c4cc3c7b33418f17e4f">  176</a></span>&#160;    LONG <a class="code" href="../../db/d39/class_c_draw_image.html#ae21c22d9710e4c4cc3c7b33418f17e4f">m_PaletteVersion</a>;          <span class="comment">// Current palette version cookie</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// Draw the video images in the window</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a62db596a2f1ecba70d5a01c436a10858">SlowRender</a>(IMediaSample *pMediaSample);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a8f41ad1e273bd5389ed7f4651416f7c3">FastRender</a>(IMediaSample *pMediaSample);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a56c5709cccd1252333e86e664bdbebde">DisplaySampleTimes</a>(IMediaSample *pSample);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#ad3f9e33c4636c98b1276c219ca9ac0df">UpdateColourTable</a>(HDC hdc,__in BITMAPINFOHEADER *pbmi);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a6fbe7068d1f1785dc75eda7a626b3242">SetStretchMode</a>();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// Used to control the image drawing</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="../../db/d39/class_c_draw_image.html#a6d7b6c0cf404eabe77cd3dc7d2df0525">CDrawImage</a>(__inout <a class="code" href="../../db/dbd/class_c_base_window.html">CBaseWindow</a> *pBaseWindow);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    BOOL <a class="code" href="../../db/d39/class_c_draw_image.html#ab2cbbdb638124c3db636d8c32cebca28">DrawImage</a>(IMediaSample *pMediaSample);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    BOOL <a class="code" href="../../db/d39/class_c_draw_image.html#ae0c6839b0907b83762265485c0e9e853">DrawVideoImageHere</a>(HDC hdc, IMediaSample *pMediaSample,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                            __in LPRECT lprcSrc, __in LPRECT lprcDst);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a827e53af5ddbd10cc0abe96487d2a99d">SetDrawContext</a>();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#ac2981891c97790ec53e2bb616f8aecef">SetTargetRect</a>(__in RECT *pTargetRect);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a67ea9f0d4327e9f3cf4eb7a3f0d9206b">SetSourceRect</a>(__in RECT *pSourceRect);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a0b0c6b594c8d8b3cc3bdec3221759114">GetTargetRect</a>(__out RECT *pTargetRect);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#afbbcdb2af518cf5718717dd0cca32ca6">GetSourceRect</a>(__out RECT *pSourceRect);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keyword">virtual</span> RECT <a class="code" href="../../db/d39/class_c_draw_image.html#a0a90839aef2888bcf4f74c46ff995d40">ScaleSourceRect</a>(<span class="keyword">const</span> RECT *pSource);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// Handle updating palettes as they change</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    LONG <a class="code" href="../../db/d39/class_c_draw_image.html#ac3bd7dac46d842df0dbb9ce286f03ec1">GetPaletteVersion</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a91691a9e7088cb597b884f75404fd48f">ResetPaletteVersion</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#aefb948121cb5fbcd04205854c7ae85fe">IncrementPaletteVersion</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Tell us media types and allocator assignments</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a37120cffa002ceaf0c2440ccb91ccde5">NotifyAllocator</a>(BOOL bUsingImageAllocator);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#a98d190ce0944c5af0f8a0eba334ca810">NotifyMediaType</a>(__in <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *pMediaType);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    BOOL <a class="code" href="../../db/d39/class_c_draw_image.html#a1cde20355604501adb5fe5b63b277a75">UsingImageAllocator</a>();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// Called when we are about to draw an image</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#af8d13a3902529cd908772a871f970f68">  215</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#af8d13a3902529cd908772a871f970f68">NotifyStartDraw</a>() {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../d1/d9c/measure_8h.html#a657053552648b916b0320add925d7cbd">MSR_START</a>(<a class="code" href="../../db/d39/class_c_draw_image.html#a55e1c9813218ece78b33dc7128a94f91">m_perfidRenderTime</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    };</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Called when we complete an image rendering</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../db/d39/class_c_draw_image.html#af8bb71e8205cffd3f671210b78d06cc9">  221</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d39/class_c_draw_image.html#af8bb71e8205cffd3f671210b78d06cc9">NotifyEndDraw</a>() {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="../../d1/d9c/measure_8h.html#ac3941e524693bc09baf6e6559ed6d285">MSR_STOP</a>(<a class="code" href="../../db/d39/class_c_draw_image.html#a55e1c9813218ece78b33dc7128a94f91">m_perfidRenderTime</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    };</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;};</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">// This is the structure used to keep information about each GDI DIB. All the</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">// samples we create from our allocator will have a DIBSECTION allocated to</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">// them. When we receive the sample we know we can BitBlt straight to an HDC</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../df/d48/structtag_d_i_b_d_a_t_a.html">  231</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html">tagDIBDATA</a> {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#ac970f5e7d18ca4fb6d540cdcd17cb82b">  233</a></span>&#160;    LONG        <a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#ac970f5e7d18ca4fb6d540cdcd17cb82b">PaletteVersion</a>;     <span class="comment">// Current palette version in use</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#a5485580203a9c3b9226f4a21c2db9920">  234</a></span>&#160;    DIBSECTION  <a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#a5485580203a9c3b9226f4a21c2db9920">DibSection</a>;         <span class="comment">// Details of DIB section allocated</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#a944e9f20488a3f3698362e4a38d7ac5d">  235</a></span>&#160;    HBITMAP     <a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#a944e9f20488a3f3698362e4a38d7ac5d">hBitmap</a>;            <span class="comment">// Handle to bitmap for drawing</span></div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#aacaa9d926e849d23a5863f803742d0ba">  236</a></span>&#160;    <a class="code" href="../../db/de2/ajatypes_8h.html#a0b94bcde5ffe910695c0e57ea5a4364e">HANDLE</a>      <a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#aacaa9d926e849d23a5863f803742d0ba">hMapping</a>;           <span class="comment">// Handle to shared memory block</span></div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#aaa2337bc4dd90ec6cc43a72feccbc6bb">  237</a></span>&#160;    BYTE        *<a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html#aaa2337bc4dd90ec6cc43a72feccbc6bb">pBase</a>;             <span class="comment">// Pointer to base memory address</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;} <a class="code" href="../../df/d97/winutil_8h.html#abe70eb61be0cd30035b38b64bf033d51">DIBDATA</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">// This class inherits from CMediaSample and uses all of it&#39;s methods but it</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">// overrides the constructor to initialise itself with the DIBDATA structure</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">// When we come to render an IMediaSample we will know if we are using our own</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">// allocator, and if we are, we can cast the IMediaSample to a pointer to one</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">// of these are retrieve the DIB section information and hence the HBITMAP</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="../../db/d4b/class_c_image_sample.html">  248</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../db/d4b/class_c_image_sample.html">CImageSample</a> : <span class="keyword">public</span> <a class="code" href="../../d1/d07/class_c_media_sample.html">CMediaSample</a></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="../../db/d4b/class_c_image_sample.html#acf69256d736e3592f7508cb919f70ad4">  252</a></span>&#160;    <a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html">DIBDATA</a> <a class="code" href="../../db/d4b/class_c_image_sample.html#acf69256d736e3592f7508cb919f70ad4">m_DibData</a>;      <span class="comment">// Information about the DIBSECTION</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="../../db/d4b/class_c_image_sample.html#a6728d87e57b53056c74832a17357bbd7">  253</a></span>&#160;    BOOL <a class="code" href="../../db/d4b/class_c_image_sample.html#a6728d87e57b53056c74832a17357bbd7">m_bInit</a>;           <span class="comment">// Is the DIB information setup</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// Constructor</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="../../db/d4b/class_c_image_sample.html#a8a5828ce4cd0fb4875eb262841664401">CImageSample</a>(__inout <a class="code" href="../../df/d60/class_c_base_allocator.html">CBaseAllocator</a> *pAllocator,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                 __in_opt LPCTSTR <a class="code" href="../../dc/d6e/amvideo_8cpp.html#ae622e6915f2e78c44f138c31d9433178">pName</a>,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                 __inout HRESULT *phr,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                 __in_bcount(length) LPBYTE pBuffer,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                 LONG length);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// Maintain the DIB/DirectDraw state</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../db/d4b/class_c_image_sample.html#a1f5a37428637c06c0e528c99eabaca46">SetDIBData</a>(__in <a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html">DIBDATA</a> *pDibData);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    __out <a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html">DIBDATA</a> *<a class="code" href="../../db/d4b/class_c_image_sample.html#abccfb37fd74342b63ac9113d6606a309">GetDIBData</a>();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;};</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// This is an allocator based on the abstract CBaseAllocator base class that</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">// allocates sample buffers in shared memory. The number and size of these</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">// are determined when the output pin calls Prepare on us. The shared memory</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">// blocks are used in subsequent calls to GDI CreateDIBSection, once that</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">// has been done the output pin can fill the buffers with data which will</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">// then be handed to GDI through BitBlt calls and thereby remove one copy</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="../../d5/de7/class_c_image_allocator.html">  279</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d5/de7/class_c_image_allocator.html">CImageAllocator</a> : <span class="keyword">public</span> <a class="code" href="../../df/d60/class_c_base_allocator.html">CBaseAllocator</a></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="../../d5/de7/class_c_image_allocator.html#a35602a209e6ed09f3b45eae8308da470">  283</a></span>&#160;    <a class="code" href="../../d5/d74/class_c_base_filter.html">CBaseFilter</a> *<a class="code" href="../../d5/de7/class_c_image_allocator.html#a35602a209e6ed09f3b45eae8308da470">m_pFilter</a>;   <span class="comment">// Delegate reference counts to</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="../../d5/de7/class_c_image_allocator.html#ae0cd67930507275b40e990fe46679c92">  284</a></span>&#160;    <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *<a class="code" href="../../d5/de7/class_c_image_allocator.html#ae0cd67930507275b40e990fe46679c92">m_pMediaType</a>;           <span class="comment">// Pointer to the current format</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Used to create and delete samples</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    HRESULT <a class="code" href="../../d5/de7/class_c_image_allocator.html#a731046243dfb8e51057aa18e94183b5d">Alloc</a>();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/de7/class_c_image_allocator.html#a41e687e3ba371b3716c89a62930b69c6">Free</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// Manage the shared DIBSECTION and DCI/DirectDraw buffers</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    HRESULT <a class="code" href="../../d5/de7/class_c_image_allocator.html#a0c3f617ca5cbda3c4b55c141f3f56861">CreateDIB</a>(LONG InSize,<a class="code" href="../../df/d48/structtag_d_i_b_d_a_t_a.html">DIBDATA</a> &amp;DibData);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    STDMETHODIMP <a class="code" href="../../d5/de7/class_c_image_allocator.html#a99b8a4d2db406bda6e71e055ba0d8ddf">CheckSizes</a>(__in ALLOCATOR_PROPERTIES *pRequest);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="../../db/d4b/class_c_image_sample.html">CImageSample</a> *<a class="code" href="../../d5/de7/class_c_image_allocator.html#ad600c1dcbd38b42558a823d936cf4bcc">CreateImageSample</a>(__in_bcount(Length) LPBYTE pData,LONG Length);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// Constructor and destructor</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="../../d5/de7/class_c_image_allocator.html#a22cc0e9363560a8aa00a026b3c8f3170">CImageAllocator</a>(__inout <a class="code" href="../../d5/d74/class_c_base_filter.html">CBaseFilter</a> *pFilter,__in_opt LPCTSTR <a class="code" href="../../dc/d6e/amvideo_8cpp.html#ae622e6915f2e78c44f138c31d9433178">pName</a>,__inout HRESULT *phr);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    ~<a class="code" href="../../d5/de7/class_c_image_allocator.html">CImageAllocator</a>();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="../../d5/de7/class_c_image_allocator.html#a8863915758f70baed001f4426a24ea28">STDMETHODIMP_</a>(<a class="code" href="../../d9/d7b/perflog_8cpp.html#a9bee5f2dfb4ff136a35b29d87d13eb50">ULONG</a>) NonDelegatingAddRef();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="../../d5/de7/class_c_image_allocator.html#a8863915758f70baed001f4426a24ea28">STDMETHODIMP_</a>(<a class="code" href="../../d9/d7b/perflog_8cpp.html#a9bee5f2dfb4ff136a35b29d87d13eb50">ULONG</a>) NonDelegatingRelease();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/de7/class_c_image_allocator.html#a29ee4f1069bb0c6532a64e51563ff38a">NotifyMediaType</a>(__in <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *pMediaType);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// Agree the number of buffers to be used and their size</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    STDMETHODIMP <a class="code" href="../../d5/de7/class_c_image_allocator.html#a4c7b85253114c3e9b3011ece8f9513a4">SetProperties</a>(</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        __in ALLOCATOR_PROPERTIES *pRequest,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        __out ALLOCATOR_PROPERTIES *pActual);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;};</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">// This class is a fairly specialised helper class for image renderers that</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">// have to create and manage palettes. The CBaseWindow class looks after</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">// realising palettes once they have been installed. This class can be used</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">// to create the palette handles from a media format (which must contain a</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">// VIDEOINFO structure in the format block). We try to make the palette an</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">// identity palette to maximise performance and also only change palettes</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">// if actually required to (we compare palette colours before updating).</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">// All the methods are virtual so that they can be overriden if so required</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../d0/dd3/class_c_image_palette.html">  327</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d0/dd3/class_c_image_palette.html">CImagePalette</a></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="../../d0/dd3/class_c_image_palette.html#a9ea466188a0d75cb321ae8e31d89a92f">  331</a></span>&#160;    <a class="code" href="../../db/dbd/class_c_base_window.html">CBaseWindow</a> *<a class="code" href="../../d0/dd3/class_c_image_palette.html#a9ea466188a0d75cb321ae8e31d89a92f">m_pBaseWindow</a>;             <span class="comment">// Window to realise palette in</span></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="../../d0/dd3/class_c_image_palette.html#a9e5c16035709c094d64034fab696ceaa">  332</a></span>&#160;    <a class="code" href="../../d5/d74/class_c_base_filter.html">CBaseFilter</a> *<a class="code" href="../../d0/dd3/class_c_image_palette.html#a9e5c16035709c094d64034fab696ceaa">m_pFilter</a>;                 <span class="comment">// Media filter to send events</span></div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="../../d0/dd3/class_c_image_palette.html#aa768e2b117d80b9e2a648c9c6c600b4e">  333</a></span>&#160;    <a class="code" href="../../db/d39/class_c_draw_image.html">CDrawImage</a> *<a class="code" href="../../d0/dd3/class_c_image_palette.html#aa768e2b117d80b9e2a648c9c6c600b4e">m_pDrawImage</a>;               <span class="comment">// Object who will be drawing</span></div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="../../d0/dd3/class_c_image_palette.html#a473321249b5c16bab74dd72d2a6e7b43">  334</a></span>&#160;    HPALETTE <a class="code" href="../../d0/dd3/class_c_image_palette.html#a473321249b5c16bab74dd72d2a6e7b43">m_hPalette</a>;                    <span class="comment">// The palette handle we own</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="../../d0/dd3/class_c_image_palette.html#ac62c82a625008ad400b5245b0875af3a">CImagePalette</a>(__inout <a class="code" href="../../d5/d74/class_c_base_filter.html">CBaseFilter</a> *pBaseFilter,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                  __inout <a class="code" href="../../db/dbd/class_c_base_window.html">CBaseWindow</a> *pBaseWindow,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                  __inout <a class="code" href="../../db/d39/class_c_draw_image.html">CDrawImage</a> *pDrawImage);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="../../d0/dd3/class_c_image_palette.html">CImagePalette</a>();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">static</span> HPALETTE <a class="code" href="../../d0/dd3/class_c_image_palette.html#a599b2b2f9ded56e8c910f0777dd12f8a">MakePalette</a>(<span class="keyword">const</span> VIDEOINFOHEADER *pVideoInfo, __in LPSTR szDevice);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    HRESULT <a class="code" href="../../d0/dd3/class_c_image_palette.html#a8a1f77f037f0df9c46e536270bd4cff7">RemovePalette</a>();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">static</span> HRESULT <a class="code" href="../../d0/dd3/class_c_image_palette.html#ace6c9c31a4c7a016aa35f7c5a7e2a8bd">MakeIdentityPalette</a>(__inout_ecount_full(iColours) PALETTEENTRY *pEntry,INT iColours, __in LPSTR szDevice);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    HRESULT <a class="code" href="../../d0/dd3/class_c_image_palette.html#a251b20cc8d904456ffc2843cedf9df63">CopyPalette</a>(<span class="keyword">const</span> <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *pSrc,__out <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *pDest);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    BOOL <a class="code" href="../../d0/dd3/class_c_image_palette.html#ab4bf8e0a307c414efe462aa36f924af9">ShouldUpdate</a>(<span class="keyword">const</span> VIDEOINFOHEADER *pNewInfo,<span class="keyword">const</span> VIDEOINFOHEADER *pOldInfo);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    HRESULT <a class="code" href="../../d0/dd3/class_c_image_palette.html#a242a1aba46bded8062c3ae25eb11a3e3">PreparePalette</a>(<span class="keyword">const</span> <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *pmtNew,<span class="keyword">const</span> <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *pmtOld,__in LPSTR szDevice);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="../../d0/dd3/class_c_image_palette.html#a1e96e226444438551f74fdf721e3dccd">  353</a></span>&#160;    BOOL <a class="code" href="../../d0/dd3/class_c_image_palette.html#a1e96e226444438551f74fdf721e3dccd">DrawVideoImageHere</a>(HDC hdc, IMediaSample *pMediaSample, __in LPRECT lprcSrc, __in LPRECT lprcDst)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/dd3/class_c_image_palette.html#aa768e2b117d80b9e2a648c9c6c600b4e">m_pDrawImage</a>-&gt;<a class="code" href="../../db/d39/class_c_draw_image.html#ae0c6839b0907b83762265485c0e9e853">DrawVideoImageHere</a>(hdc, pMediaSample, lprcSrc,lprcDst);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;};</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">// Another helper class really for video based renderers. Most such renderers</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">// need to know what the display format is to some degree or another. This</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">// class initialises itself with the display format. The format can be asked</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">// for through GetDisplayFormat and various other accessor functions. If a</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// filter detects a display format change (perhaps it gets a WM_DEVMODECHANGE</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// message then it can call RefreshDisplayType to reset that format). Also</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">// many video renderers will want to check formats as they are proposed by</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">// source filters. This class provides methods to check formats and only</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">// accept those video formats that can be efficiently drawn using GDI calls</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="../../d2/d2a/class_c_image_display.html">  370</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d2/d2a/class_c_image_display.html">CImageDisplay</a> : <span class="keyword">public</span> <a class="code" href="../../d5/d24/class_c_crit_sec.html">CCritSec</a></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// This holds the display format; biSize should not be too big, so we can</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// safely use the VIDEOINFO structure</span></div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="../../d2/d2a/class_c_image_display.html#a77830374b3b78b65e3a3ff82005d697e">  376</a></span>&#160;    VIDEOINFO <a class="code" href="../../d2/d2a/class_c_image_display.html#a77830374b3b78b65e3a3ff82005d697e">m_Display</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">static</span> DWORD <a class="code" href="../../d2/d2a/class_c_image_display.html#a7fd44e460fef5ef92ffa0ed6006329d9">CountSetBits</a>(<span class="keyword">const</span> DWORD Field);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">static</span> DWORD <a class="code" href="../../d2/d2a/class_c_image_display.html#a34d9eeea51a21eacd1580d85d7202419">CountPrefixBits</a>(<span class="keyword">const</span> DWORD Field);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keyword">static</span> BOOL <a class="code" href="../../d2/d2a/class_c_image_display.html#a86f6b43fe1670351011a37c912aac377">CheckBitFields</a>(<span class="keyword">const</span> VIDEOINFO *pInput);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Constructor and destructor</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="../../d2/d2a/class_c_image_display.html#ab802578f4efa01788cf8882629aed322">CImageDisplay</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// Used to manage BITMAPINFOHEADERs and the display format</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">const</span> VIDEOINFO *<a class="code" href="../../d2/d2a/class_c_image_display.html#acbec162f82ad69b1f34b587620573c2d">GetDisplayFormat</a>();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    HRESULT <a class="code" href="../../d2/d2a/class_c_image_display.html#a8a807d262e222fe055cd4dcbca0d7f1c">RefreshDisplayType</a>(__in_opt LPSTR szDeviceName);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keyword">static</span> BOOL <a class="code" href="../../d2/d2a/class_c_image_display.html#ac2255fb672b209a1ea2ee0646dc9d5cc">CheckHeaderValidity</a>(<span class="keyword">const</span> VIDEOINFO *pInput);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keyword">static</span> BOOL <a class="code" href="../../d2/d2a/class_c_image_display.html#a235b2a7ff1b96c2d0cc92b262cefcf2d">CheckPaletteHeader</a>(<span class="keyword">const</span> VIDEOINFO *pInput);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    BOOL <a class="code" href="../../d2/d2a/class_c_image_display.html#abeab4581d2c5768bd2a241bdbb769bab">IsPalettised</a>();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    WORD <a class="code" href="../../d2/d2a/class_c_image_display.html#a7d88068e6b285c9ed959fbfe9c2097e1">GetDisplayDepth</a>();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// Provide simple video format type checking</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    HRESULT <a class="code" href="../../d2/d2a/class_c_image_display.html#a6a867ac609085fccdaa119c4fccad25a">CheckMediaType</a>(<span class="keyword">const</span> <a class="code" href="../../d7/da7/class_c_media_type.html">CMediaType</a> *pmtIn);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    HRESULT <a class="code" href="../../d2/d2a/class_c_image_display.html#a013659042fcb9abb288bde11c87db402">CheckVideoType</a>(<span class="keyword">const</span> VIDEOINFO *pInput);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    HRESULT <a class="code" href="../../d2/d2a/class_c_image_display.html#ae3b1776b0f43d620da1eb5025c914a0e">UpdateFormat</a>(__inout VIDEOINFO *pVideoInfo);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keyword">const</span> DWORD *<a class="code" href="../../d2/d2a/class_c_image_display.html#acab10a5a0c0c2647d2b2fcfd67eb9e25">GetBitMasks</a>(<span class="keyword">const</span> VIDEOINFO *pVideoInfo);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    BOOL <a class="code" href="../../d2/d2a/class_c_image_display.html#ac2970d0c120f7d12b494b4fd779d1205">GetColourMask</a>(__out DWORD *pMaskRed,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                       __out DWORD *pMaskGreen,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                       __out DWORD *pMaskBlue);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;};</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">//  Convert a FORMAT_VideoInfo to FORMAT_VideoInfo2</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;STDAPI <a class="code" href="../../df/d97/winutil_8h.html#a96e2187a631b507651e4773bf31d0e7b">ConvertVideoInfoToVideoInfo2</a>(__inout AM_MEDIA_TYPE *pmt);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">//  Check a media type containing VIDEOINFOHEADER</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;STDAPI <a class="code" href="../../df/d97/winutil_8h.html#af8a720f5409cdd11164a279059c01f53">CheckVideoInfoType</a>(<span class="keyword">const</span> AM_MEDIA_TYPE *pmt);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">//  Check a media type containing VIDEOINFOHEADER</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;STDAPI <a class="code" href="../../df/d97/winutil_8h.html#ae7202e31a4daeb9bef173a9c3db1597b">CheckVideoInfo2Type</a>(<span class="keyword">const</span> AM_MEDIA_TYPE *pmt);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#endif // __WINUTIL__</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclass_c_draw_image_html_a0b0c6b594c8d8b3cc3bdec3221759114"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a0b0c6b594c8d8b3cc3bdec3221759114">CDrawImage::GetTargetRect</a></div><div class="ttdeci">void GetTargetRect(__out RECT *pTargetRect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01328">winutil.cpp:1328</a></div></div>
<div class="ttc" id="awinutil_8h_html_aa25e76db60a720be2b031bd4fe9cd3b0"><div class="ttname"><a href="../../df/d97/winutil_8h.html#aa25e76db60a720be2b031bd4fe9cd3b0">PROFILESTR</a></div><div class="ttdeci">const int PROFILESTR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00024">winutil.h:24</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a19ab034c9d198ccf518d90f4d1ae7489"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a19ab034c9d198ccf518d90f4d1ae7489">CBaseWindow::m_ClassStyles</a></div><div class="ttdeci">DWORD m_ClassStyles</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00047">winutil.h:47</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a74c0cfe67e879b129843e76ab15d8e31"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a74c0cfe67e879b129843e76ab15d8e31">CBaseWindow::SetRealize</a></div><div class="ttdeci">void SetRealize(BOOL bRealize)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00099">winutil.h:99</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a7d88068e6b285c9ed959fbfe9c2097e1"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a7d88068e6b285c9ed959fbfe9c2097e1">CImageDisplay::GetDisplayDepth</a></div><div class="ttdeci">WORD GetDisplayDepth()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02429">winutil.cpp:2429</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a0a90839aef2888bcf4f74c46ff995d40"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a0a90839aef2888bcf4f74c46ff995d40">CDrawImage::ScaleSourceRect</a></div><div class="ttdeci">virtual RECT ScaleSourceRect(const RECT *pSource)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01009">winutil.cpp:1009</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a04728947be4f7bfe428f6164f2c1e0ae"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a04728947be4f7bfe428f6164f2c1e0ae">CBaseWindow::m_ShowStageTop</a></div><div class="ttdeci">UINT m_ShowStageTop</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00051">winutil.h:51</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a731046243dfb8e51057aa18e94183b5d"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a731046243dfb8e51057aa18e94183b5d">CImageAllocator::Alloc</a></div><div class="ttdeci">HRESULT Alloc()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01560">winutil.cpp:1560</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a41e687e3ba371b3716c89a62930b69c6"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a41e687e3ba371b3716c89a62930b69c6">CImageAllocator::Free</a></div><div class="ttdeci">void Free()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01476">winutil.cpp:1476</a></div></div>
<div class="ttc" id="aajatypes_8h_html_a0b94bcde5ffe910695c0e57ea5a4364e"><div class="ttname"><a href="../../db/de2/ajatypes_8h.html#a0b94bcde5ffe910695c0e57ea5a4364e">HANDLE</a></div><div class="ttdeci">short HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/ajatypes_8h_source.html#l00318">ajatypes.h:318</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a0c3f617ca5cbda3c4b55c141f3f56861"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a0c3f617ca5cbda3c4b55c141f3f56861">CImageAllocator::CreateDIB</a></div><div class="ttdeci">HRESULT CreateDIB(LONG InSize, DIBDATA &amp;DibData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01636">winutil.cpp:1636</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_ad600c1dcbd38b42558a823d936cf4bcc"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#ad600c1dcbd38b42558a823d936cf4bcc">CImageAllocator::CreateImageSample</a></div><div class="ttdeci">virtual CImageSample * CreateImageSample(__in_bcount(Length) LPBYTE pData, LONG Length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01611">winutil.cpp:1611</a></div></div>
<div class="ttc" id="astructtag_d_i_b_d_a_t_a_html_a5485580203a9c3b9226f4a21c2db9920"><div class="ttname"><a href="../../df/d48/structtag_d_i_b_d_a_t_a.html#a5485580203a9c3b9226f4a21c2db9920">tagDIBDATA::DibSection</a></div><div class="ttdeci">DIBSECTION DibSection</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00234">winutil.h:234</a></div></div>
<div class="ttc" id="awinutil_8h_html_a37657f8f22181c41024f1d7d1d4b8a7e"><div class="ttname"><a href="../../df/d97/winutil_8h.html#a37657f8f22181c41024f1d7d1d4b8a7e">DEFWIDTH</a></div><div class="ttdeci">const int DEFWIDTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00020">winutil.h:20</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_af8d13a3902529cd908772a871f970f68"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#af8d13a3902529cd908772a871f970f68">CDrawImage::NotifyStartDraw</a></div><div class="ttdeci">void NotifyStartDraw()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00215">winutil.h:215</a></div></div>
<div class="ttc" id="ameasure_8h_html_ac3941e524693bc09baf6e6559ed6d285"><div class="ttname"><a href="../../d1/d9c/measure_8h.html#ac3941e524693bc09baf6e6559ed6d285">MSR_STOP</a></div><div class="ttdeci">#define MSR_STOP(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9c/measure_8h_source.html#l00138">measure.h:138</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a23ce79903703be9f052951a3c5f93a20"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a23ce79903703be9f052951a3c5f93a20">CBaseWindow::m_hdc</a></div><div class="ttdeci">HDC m_hdc</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00042">winutil.h:42</a></div></div>
<div class="ttc" id="awinutil_8h_html_abba1e365379462fc69597c37d1a760d0"><div class="ttname"><a href="../../df/d97/winutil_8h.html#abba1e365379462fc69597c37d1a760d0">VIDEO_COLOUR</a></div><div class="ttdeci">const COLORREF VIDEO_COLOUR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00027">winutil.h:27</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_af8bb71e8205cffd3f671210b78d06cc9"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#af8bb71e8205cffd3f671210b78d06cc9">CDrawImage::NotifyEndDraw</a></div><div class="ttdeci">void NotifyEndDraw()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00221">winutil.h:221</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_aefb948121cb5fbcd04205854c7ae85fe"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#aefb948121cb5fbcd04205854c7ae85fe">CDrawImage::IncrementPaletteVersion</a></div><div class="ttdeci">void IncrementPaletteVersion()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01433">winutil.cpp:1433</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a013659042fcb9abb288bde11c87db402"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a013659042fcb9abb288bde11c87db402">CImageDisplay::CheckVideoType</a></div><div class="ttdeci">HRESULT CheckVideoType(const VIDEOINFO *pInput)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02484">winutil.cpp:2484</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_acab10a5a0c0c2647d2b2fcfd67eb9e25"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#acab10a5a0c0c2647d2b2fcfd67eb9e25">CImageDisplay::GetBitMasks</a></div><div class="ttdeci">const DWORD * GetBitMasks(const VIDEOINFO *pVideoInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02547">winutil.cpp:2547</a></div></div>
<div class="ttc" id="aclass_c_image_sample_html"><div class="ttname"><a href="../../db/d4b/class_c_image_sample.html">CImageSample</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00248">winutil.h:248</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_ac27aa395735c3685cd8a2d8e7dfc9f2e"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#ac27aa395735c3685cd8a2d8e7dfc9f2e">CBaseWindow::m_hPalette</a></div><div class="ttdeci">HPALETTE m_hPalette</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00054">winutil.h:54</a></div></div>
<div class="ttc" id="awinutil_8h_html_ae5de5e992bdc7532c7c240954a3db292"><div class="ttname"><a href="../../df/d97/winutil_8h.html#ae5de5e992bdc7532c7c240954a3db292">CAPTION</a></div><div class="ttdeci">const int CAPTION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00022">winutil.h:22</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a928f6b17447903a25905306ce00c02c0"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a928f6b17447903a25905306ce00c02c0">CBaseWindow::m_bActivated</a></div><div class="ttdeci">BOOL m_bActivated</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00045">winutil.h:45</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a4c7b85253114c3e9b3011ece8f9513a4"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a4c7b85253114c3e9b3011ece8f9513a4">CImageAllocator::SetProperties</a></div><div class="ttdeci">STDMETHODIMP SetProperties(__in ALLOCATOR_PROPERTIES *pRequest, __out ALLOCATOR_PROPERTIES *pActual)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01536">winutil.cpp:1536</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a599b2b2f9ded56e8c910f0777dd12f8a"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a599b2b2f9ded56e8c910f0777dd12f8a">CImagePalette::MakePalette</a></div><div class="ttdeci">static HPALETTE MakePalette(const VIDEOINFOHEADER *pVideoInfo, __in LPSTR szDevice)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02016">winutil.cpp:2016</a></div></div>
<div class="ttc" id="aclass_c_base_window_html"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html">CBaseWindow</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00036">winutil.h:36</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_ac62c82a625008ad400b5245b0875af3a"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#ac62c82a625008ad400b5245b0875af3a">CImagePalette::CImagePalette</a></div><div class="ttdeci">CImagePalette(__inout CBaseFilter *pBaseFilter, __inout CBaseWindow *pBaseWindow, __inout CDrawImage *pDrawImage)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01772">winutil.cpp:1772</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_ab802578f4efa01788cf8882629aed322"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#ab802578f4efa01788cf8882629aed322">CImageDisplay::CImageDisplay</a></div><div class="ttdeci">CImageDisplay()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02150">winutil.cpp:2150</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a9e5c16035709c094d64034fab696ceaa"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a9e5c16035709c094d64034fab696ceaa">CImagePalette::m_pFilter</a></div><div class="ttdeci">CBaseFilter * m_pFilter</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00332">winutil.h:332</a></div></div>
<div class="ttc" id="aclass_c_media_type_html"><div class="ttname"><a href="../../d7/da7/class_c_media_type.html">CMediaType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3f/mtype_8h_source.html#l00018">mtype.h:18</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_afbbcdb2af518cf5718717dd0cca32ca6"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#afbbcdb2af518cf5718717dd0cca32ca6">CDrawImage::GetSourceRect</a></div><div class="ttdeci">void GetSourceRect(__out RECT *pSourceRect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01350">winutil.cpp:1350</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_ae0cd67930507275b40e990fe46679c92"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#ae0cd67930507275b40e990fe46679c92">CImageAllocator::m_pMediaType</a></div><div class="ttdeci">CMediaType * m_pMediaType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00284">winutil.h:284</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a891a50655637e79f054d823936e9876a"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a891a50655637e79f054d823936e9876a">CBaseWindow::m_bDoGetDC</a></div><div class="ttdeci">BOOL m_bDoGetDC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00059">winutil.h:59</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a6e0a3196a2abd3358bb4c69bbe2c9a5a"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a6e0a3196a2abd3358bb4c69bbe2c9a5a">CBaseWindow::m_PaletteLock</a></div><div class="ttdeci">CCritSec m_PaletteLock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00061">winutil.h:61</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_acbec162f82ad69b1f34b587620573c2d"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#acbec162f82ad69b1f34b587620573c2d">CImageDisplay::GetDisplayFormat</a></div><div class="ttdeci">const VIDEOINFO * GetDisplayFormat()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02413">winutil.cpp:2413</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_abab2aa3e6b446c2f833ca0d977ef3873"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#abab2aa3e6b446c2f833ca0d977ef3873">CBaseWindow::m_bBackground</a></div><div class="ttdeci">BYTE m_bBackground</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00056">winutil.h:56</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_ac2970d0c120f7d12b494b4fd779d1205"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#ac2970d0c120f7d12b494b4fd779d1205">CImageDisplay::GetColourMask</a></div><div class="ttdeci">BOOL GetColourMask(__out DWORD *pMaskRed, __out DWORD *pMaskGreen, __out DWORD *pMaskBlue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02618">winutil.cpp:2618</a></div></div>
<div class="ttc" id="aclass_c_image_sample_html_abccfb37fd74342b63ac9113d6606a309"><div class="ttname"><a href="../../db/d4b/class_c_image_sample.html#abccfb37fd74342b63ac9113d6606a309">CImageSample::GetDIBData</a></div><div class="ttdeci">__out DIBDATA * GetDIBData()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01756">winutil.cpp:1756</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a77830374b3b78b65e3a3ff82005d697e"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a77830374b3b78b65e3a3ff82005d697e">CImageDisplay::m_Display</a></div><div class="ttdeci">VIDEOINFO m_Display</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00376">winutil.h:376</a></div></div>
<div class="ttc" id="aclass_c_image_sample_html_a6728d87e57b53056c74832a17357bbd7"><div class="ttname"><a href="../../db/d4b/class_c_image_sample.html#a6728d87e57b53056c74832a17357bbd7">CImageSample::m_bInit</a></div><div class="ttdeci">BOOL m_bInit</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00253">winutil.h:253</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a251b20cc8d904456ffc2843cedf9df63"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a251b20cc8d904456ffc2843cedf9df63">CImagePalette::CopyPalette</a></div><div class="ttdeci">HRESULT CopyPalette(const CMediaType *pSrc, __out CMediaType *pDest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01916">winutil.cpp:1916</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a8a807d262e222fe055cd4dcbca0d7f1c"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a8a807d262e222fe055cd4dcbca0d7f1c">CImageDisplay::RefreshDisplayType</a></div><div class="ttdeci">HRESULT RefreshDisplayType(__in_opt LPSTR szDeviceName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02166">winutil.cpp:2166</a></div></div>
<div class="ttc" id="awinutil_8h_html_af8a720f5409cdd11164a279059c01f53"><div class="ttname"><a href="../../df/d97/winutil_8h.html#af8a720f5409cdd11164a279059c01f53">CheckVideoInfoType</a></div><div class="ttdeci">STDAPI CheckVideoInfoType(const AM_MEDIA_TYPE *pmt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02707">winutil.cpp:2707</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a67ea9f0d4327e9f3cf4eb7a3f0d9206b"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a67ea9f0d4327e9f3cf4eb7a3f0d9206b">CDrawImage::SetSourceRect</a></div><div class="ttdeci">void SetSourceRect(__in RECT *pSourceRect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01340">winutil.cpp:1340</a></div></div>
<div class="ttc" id="astructtag_d_i_b_d_a_t_a_html_ac970f5e7d18ca4fb6d540cdcd17cb82b"><div class="ttname"><a href="../../df/d48/structtag_d_i_b_d_a_t_a.html#ac970f5e7d18ca4fb6d540cdcd17cb82b">tagDIBDATA::PaletteVersion</a></div><div class="ttdeci">LONG PaletteVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00233">winutil.h:233</a></div></div>
<div class="ttc" id="ameasure_8h_html_a657053552648b916b0320add925d7cbd"><div class="ttname"><a href="../../d1/d9c/measure_8h.html#a657053552648b916b0320add925d7cbd">MSR_START</a></div><div class="ttdeci">#define MSR_START(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9c/measure_8h_source.html#l00137">measure.h:137</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ae21c22d9710e4c4cc3c7b33418f17e4f"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ae21c22d9710e4c4cc3c7b33418f17e4f">CDrawImage::m_PaletteVersion</a></div><div class="ttdeci">LONG m_PaletteVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00176">winutil.h:176</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ad789045cab99c9bb05b29d39353f37da"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ad789045cab99c9bb05b29d39353f37da">CDrawImage::m_SourceRect</a></div><div class="ttdeci">RECT m_SourceRect</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00171">winutil.h:171</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a7fd44e460fef5ef92ffa0ed6006329d9"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a7fd44e460fef5ef92ffa0ed6006329d9">CImageDisplay::CountSetBits</a></div><div class="ttdeci">static DWORD CountSetBits(const DWORD Field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02257">winutil.cpp:2257</a></div></div>
<div class="ttc" id="astructtag_d_i_b_d_a_t_a_html_aacaa9d926e849d23a5863f803742d0ba"><div class="ttname"><a href="../../df/d48/structtag_d_i_b_d_a_t_a.html#aacaa9d926e849d23a5863f803742d0ba">tagDIBDATA::hMapping</a></div><div class="ttdeci">HANDLE hMapping</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00236">winutil.h:236</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a55e1c9813218ece78b33dc7128a94f91"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a55e1c9813218ece78b33dc7128a94f91">CDrawImage::m_perfidRenderTime</a></div><div class="ttdeci">int m_perfidRenderTime</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00175">winutil.h:175</a></div></div>
<div class="ttc" id="aclass_c_image_display_html"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html">CImageDisplay</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00370">winutil.h:370</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_ab4bf8e0a307c414efe462aa36f924af9"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#ab4bf8e0a307c414efe462aa36f924af9">CImagePalette::ShouldUpdate</a></div><div class="ttdeci">BOOL ShouldUpdate(const VIDEOINFOHEADER *pNewInfo, const VIDEOINFOHEADER *pOldInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01802">winutil.cpp:1802</a></div></div>
<div class="ttc" id="aamvideo_8cpp_html_ae622e6915f2e78c44f138c31d9433178"><div class="ttname"><a href="../../dc/d6e/amvideo_8cpp.html#ae622e6915f2e78c44f138c31d9433178">pName</a></div><div class="ttdeci">CHAR * pName</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/amvideo_8cpp_source.html#l00026">amvideo.cpp:26</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_aa768e2b117d80b9e2a648c9c6c600b4e"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#aa768e2b117d80b9e2a648c9c6c600b4e">CImagePalette::m_pDrawImage</a></div><div class="ttdeci">CDrawImage * m_pDrawImage</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00333">winutil.h:333</a></div></div>
<div class="ttc" id="awinutil_8cpp_html_a7d6f0180524ce55ee47fb178d756da99"><div class="ttname"><a href="../../d8/db1/winutil_8cpp.html#a7d6f0180524ce55ee47fb178d756da99">WndProc</a></div><div class="ttdeci">LRESULT CALLBACK WndProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l00416">winutil.cpp:416</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_aa9f5ce3c349fe2db484cc4ae4848ec95"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#aa9f5ce3c349fe2db484cc4ae4848ec95">CBaseWindow::m_Height</a></div><div class="ttdeci">LONG m_Height</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00044">winutil.h:44</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ae0c6839b0907b83762265485c0e9e853"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ae0c6839b0907b83762265485c0e9e853">CDrawImage::DrawVideoImageHere</a></div><div class="ttdeci">BOOL DrawVideoImageHere(HDC hdc, IMediaSample *pMediaSample, __in LPRECT lprcSrc, __in LPRECT lprcDst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01244">winutil.cpp:1244</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_aaaf4351d538de803d3999bd417c27a92"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#aaaf4351d538de803d3999bd417c27a92">CDrawImage::m_bStretch</a></div><div class="ttdeci">BOOL m_bStretch</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00172">winutil.h:172</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a6d7b6c0cf404eabe77cd3dc7d2df0525"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a6d7b6c0cf404eabe77cd3dc7d2df0525">CDrawImage::CDrawImage</a></div><div class="ttdeci">CDrawImage(__inout CBaseWindow *pBaseWindow)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l00919">winutil.cpp:919</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a235b2a7ff1b96c2d0cc92b262cefcf2d"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a235b2a7ff1b96c2d0cc92b262cefcf2d">CImageDisplay::CheckPaletteHeader</a></div><div class="ttdeci">static BOOL CheckPaletteHeader(const VIDEOINFO *pInput)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02375">winutil.cpp:2375</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a8863915758f70baed001f4426a24ea28"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a8863915758f70baed001f4426a24ea28">CImageAllocator::STDMETHODIMP_</a></div><div class="ttdeci">STDMETHODIMP_(ULONG) NonDelegatingAddRef()</div></div>
<div class="ttc" id="aclass_c_crit_sec_html"><div class="ttname"><a href="../../d5/d24/class_c_crit_sec.html">CCritSec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db0/wxutil_8h_source.html#l00018">wxutil.h:18</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a6fbe7068d1f1785dc75eda7a626b3242"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a6fbe7068d1f1785dc75eda7a626b3242">CDrawImage::SetStretchMode</a></div><div class="ttdeci">void SetStretchMode()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01362">winutil.cpp:1362</a></div></div>
<div class="ttc" id="awinutil_8h_html_a899cc5f762143c226e2f8b3167bcbd8e"><div class="ttname"><a href="../../df/d97/winutil_8h.html#a899cc5f762143c226e2f8b3167bcbd8e">TIMELENGTH</a></div><div class="ttdeci">const int TIMELENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00023">winutil.h:23</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a5503b2a632c3017f30915b1ea41a83e3"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a5503b2a632c3017f30915b1ea41a83e3">CDrawImage::m_hdc</a></div><div class="ttdeci">HDC m_hdc</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00168">winutil.h:168</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_acc1b3b5faebf31d4c32e77a72c53fac6"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#acc1b3b5faebf31d4c32e77a72c53fac6">CDrawImage::m_pMediaType</a></div><div class="ttdeci">CMediaType * m_pMediaType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00174">winutil.h:174</a></div></div>
<div class="ttc" id="astructtag_d_i_b_d_a_t_a_html_a944e9f20488a3f3698362e4a38d7ac5d"><div class="ttname"><a href="../../df/d48/structtag_d_i_b_d_a_t_a.html#a944e9f20488a3f3698362e4a38d7ac5d">tagDIBDATA::hBitmap</a></div><div class="ttdeci">HBITMAP hBitmap</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00235">winutil.h:235</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a41083429158538cd52cee7547ed2cf4d"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a41083429158538cd52cee7547ed2cf4d">CDrawImage::m_StartSample</a></div><div class="ttdeci">CRefTime m_StartSample</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00166">winutil.h:166</a></div></div>
<div class="ttc" id="aclass_c_media_sample_html"><div class="ttname"><a href="../../d1/d07/class_c_media_sample.html">CMediaSample</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9b/amfilter_8h_source.html#l01185">amfilter.h:1185</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a242a1aba46bded8062c3ae25eb11a3e3"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a242a1aba46bded8062c3ae25eb11a3e3">CImagePalette::PreparePalette</a></div><div class="ttdeci">HRESULT PreparePalette(const CMediaType *pmtNew, const CMediaType *pmtOld, __in LPSTR szDevice)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01845">winutil.cpp:1845</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a6a867ac609085fccdaa119c4fccad25a"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a6a867ac609085fccdaa119c4fccad25a">CImageDisplay::CheckMediaType</a></div><div class="ttdeci">HRESULT CheckMediaType(const CMediaType *pmtIn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02572">winutil.cpp:2572</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html">CDrawImage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00161">winutil.h:161</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a86f6b43fe1670351011a37c912aac377"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a86f6b43fe1670351011a37c912aac377">CImageDisplay::CheckBitFields</a></div><div class="ttdeci">static BOOL CheckBitFields(const VIDEOINFO *pInput)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02220">winutil.cpp:2220</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a92bc97047123467d13cb7df0117f6d24"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a92bc97047123467d13cb7df0117f6d24">CBaseWindow::m_bRealizing</a></div><div class="ttdeci">BYTE m_bRealizing</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00057">winutil.h:57</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a827e53af5ddbd10cc0abe96487d2a99d"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a827e53af5ddbd10cc0abe96487d2a99d">CDrawImage::SetDrawContext</a></div><div class="ttdeci">void SetDrawContext()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01307">winutil.cpp:1307</a></div></div>
<div class="ttc" id="awinutil_8h_html_a96e2187a631b507651e4773bf31d0e7b"><div class="ttname"><a href="../../df/d97/winutil_8h.html#a96e2187a631b507651e4773bf31d0e7b">ConvertVideoInfoToVideoInfo2</a></div><div class="ttdeci">STDAPI ConvertVideoInfoToVideoInfo2(__inout AM_MEDIA_TYPE *pmt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02671">winutil.cpp:2671</a></div></div>
<div class="ttc" id="awinutil_8h_html_a86e8628c16751b3d1bad5b08eec0febe"><div class="ttname"><a href="../../df/d97/winutil_8h.html#a86e8628c16751b3d1bad5b08eec0febe">PALVERSION</a></div><div class="ttdeci">const WORD PALVERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00025">winutil.h:25</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a0885cbf839728a6c56ad33c61ea2bd44"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a0885cbf839728a6c56ad33c61ea2bd44">CBaseWindow::PossiblyEatMessage</a></div><div class="ttdeci">virtual BOOL PossiblyEatMessage(UINT uMsg, WPARAM wParam, LPARAM lParam)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00112">winutil.h:112</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a1f3fbdfd47cc2a01fce903b105fbf1b3"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a1f3fbdfd47cc2a01fce903b105fbf1b3">CBaseWindow::m_WindowStylesEx</a></div><div class="ttdeci">DWORD m_WindowStylesEx</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00049">winutil.h:49</a></div></div>
<div class="ttc" id="astructtag_d_i_b_d_a_t_a_html_aaa2337bc4dd90ec6cc43a72feccbc6bb"><div class="ttname"><a href="../../df/d48/structtag_d_i_b_d_a_t_a.html#aaa2337bc4dd90ec6cc43a72feccbc6bb">tagDIBDATA::pBase</a></div><div class="ttdeci">BYTE * pBase</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00237">winutil.h:237</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a22cc0e9363560a8aa00a026b3c8f3170"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a22cc0e9363560a8aa00a026b3c8f3170">CImageAllocator::CImageAllocator</a></div><div class="ttdeci">CImageAllocator(__inout CBaseFilter *pFilter, __in_opt LPCTSTR pName, __inout HRESULT *phr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01450">winutil.cpp:1450</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a0d8798445b39302f5404745229417561"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a0d8798445b39302f5404745229417561">CDrawImage::m_pBaseWindow</a></div><div class="ttdeci">CBaseWindow * m_pBaseWindow</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00165">winutil.h:165</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_aa247f2ef2779e5bbac583144171ca963"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#aa247f2ef2779e5bbac583144171ca963">CBaseWindow::m_WindowLock</a></div><div class="ttdeci">CCritSec m_WindowLock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00058">winutil.h:58</a></div></div>
<div class="ttc" id="aclass_c_image_sample_html_a1f5a37428637c06c0e528c99eabaca46"><div class="ttname"><a href="../../db/d4b/class_c_image_sample.html#a1f5a37428637c06c0e528c99eabaca46">CImageSample::SetDIBData</a></div><div class="ttdeci">void SetDIBData(__in DIBDATA *pDibData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01746">winutil.cpp:1746</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a29ee4f1069bb0c6532a64e51563ff38a"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a29ee4f1069bb0c6532a64e51563ff38a">CImageAllocator::NotifyMediaType</a></div><div class="ttdeci">void NotifyMediaType(__in CMediaType *pMediaType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01693">winutil.cpp:1693</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ad3f9e33c4636c98b1276c219ca9ac0df"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ad3f9e33c4636c98b1276c219ca9ac0df">CDrawImage::UpdateColourTable</a></div><div class="ttdeci">void UpdateColourTable(HDC hdc, __in BITMAPINFOHEADER *pbmi)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l00991">winutil.cpp:991</a></div></div>
<div class="ttc" id="aclass_c_ref_time_html"><div class="ttname"><a href="../../dc/da7/class_c_ref_time.html">CRefTime</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/def/reftime_8h_source.html#l00049">reftime.h:49</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a35602a209e6ed09f3b45eae8308da470"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a35602a209e6ed09f3b45eae8308da470">CImageAllocator::m_pFilter</a></div><div class="ttdeci">CBaseFilter * m_pFilter</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00283">winutil.h:283</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_ae3b1776b0f43d620da1eb5025c914a0e"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#ae3b1776b0f43d620da1eb5025c914a0e">CImageDisplay::UpdateFormat</a></div><div class="ttdeci">HRESULT UpdateFormat(__inout VIDEOINFO *pVideoInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02443">winutil.cpp:2443</a></div></div>
<div class="ttc" id="aclass_c_base_filter_html"><div class="ttname"><a href="../../d5/d74/class_c_base_filter.html">CBaseFilter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9b/amfilter_8h_source.html#l00148">amfilter.h:148</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a91691a9e7088cb597b884f75404fd48f"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a91691a9e7088cb597b884f75404fd48f">CDrawImage::ResetPaletteVersion</a></div><div class="ttdeci">void ResetPaletteVersion()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01425">winutil.cpp:1425</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a56c5709cccd1252333e86e664bdbebde"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a56c5709cccd1252333e86e664bdbebde">CDrawImage::DisplaySampleTimes</a></div><div class="ttdeci">void DisplaySampleTimes(IMediaSample *pSample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l00941">winutil.cpp:941</a></div></div>
<div class="ttc" id="aperflog_8cpp_html_a9bee5f2dfb4ff136a35b29d87d13eb50"><div class="ttname"><a href="../../d9/d7b/perflog_8cpp.html#a9bee5f2dfb4ff136a35b29d87d13eb50">ULONG</a></div><div class="ttdeci">ULONG(__stdcall *_RegisterTraceGuids)(__in IN WMIDPREQUEST RequestAddress</div></div>
<div class="ttc" id="aclass_c_base_window_html_a62faab4631b054cfb7b492c3059edba8"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a62faab4631b054cfb7b492c3059edba8">CBaseWindow::m_RealizePalette</a></div><div class="ttdeci">UINT m_RealizePalette</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00052">winutil.h:52</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a22ed0c2feb4f8f1b1d0b48459a2202c0"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a22ed0c2feb4f8f1b1d0b48459a2202c0">CBaseWindow::m_bDoPostToDestroy</a></div><div class="ttdeci">bool m_bDoPostToDestroy</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00060">winutil.h:60</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html">CImagePalette</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00327">winutil.h:327</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_ace6c9c31a4c7a016aa35f7c5a7e2a8bd"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#ace6c9c31a4c7a016aa35f7c5a7e2a8bd">CImagePalette::MakeIdentityPalette</a></div><div class="ttdeci">static HRESULT MakeIdentityPalette(__inout_ecount_full(iColours) PALETTEENTRY *pEntry, INT iColours, __in LPSTR szDevice)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02070">winutil.cpp:2070</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a8a1f77f037f0df9c46e536270bd4cff7"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a8a1f77f037f0df9c46e536270bd4cff7">CImagePalette::RemovePalette</a></div><div class="ttdeci">HRESULT RemovePalette()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01977">winutil.cpp:1977</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a1e3759de504b321ccab463af2922e715"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a1e3759de504b321ccab463af2922e715">CBaseWindow::m_hwnd</a></div><div class="ttdeci">HWND m_hwnd</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00041">winutil.h:41</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a473321249b5c16bab74dd72d2a6e7b43"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a473321249b5c16bab74dd72d2a6e7b43">CImagePalette::m_hPalette</a></div><div class="ttdeci">HPALETTE m_hPalette</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00334">winutil.h:334</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html_a99b8a4d2db406bda6e71e055ba0d8ddf"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html#a99b8a4d2db406bda6e71e055ba0d8ddf">CImageAllocator::CheckSizes</a></div><div class="ttdeci">STDMETHODIMP CheckSizes(__in ALLOCATOR_PROPERTIES *pRequest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01497">winutil.cpp:1497</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_afabac3812222cfebf0a166f5f4adc162"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#afabac3812222cfebf0a166f5f4adc162">CDrawImage::m_TargetRect</a></div><div class="ttdeci">RECT m_TargetRect</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00170">winutil.h:170</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a8f08ed6797c958f91953662f5b96d2c8"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a8f08ed6797c958f91953662f5b96d2c8">CBaseWindow::m_pClassName</a></div><div class="ttdeci">LPTSTR m_pClassName</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00046">winutil.h:46</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_ac2255fb672b209a1ea2ee0646dc9d5cc"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#ac2255fb672b209a1ea2ee0646dc9d5cc">CImageDisplay::CheckHeaderValidity</a></div><div class="ttdeci">static BOOL CheckHeaderValidity(const VIDEOINFO *pInput)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02305">winutil.cpp:2305</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a627210eaad54e896ed4eba6b4bc63a52"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a627210eaad54e896ed4eba6b4bc63a52">CDrawImage::m_bUsingImageAllocator</a></div><div class="ttdeci">BOOL m_bUsingImageAllocator</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00173">winutil.h:173</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a6fca1e1dca08017447b8d3c4a8dae675"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a6fca1e1dca08017447b8d3c4a8dae675">CBaseWindow::m_ShowStageMessage</a></div><div class="ttdeci">UINT m_ShowStageMessage</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00050">winutil.h:50</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a37120cffa002ceaf0c2440ccb91ccde5"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a37120cffa002ceaf0c2440ccb91ccde5">CDrawImage::NotifyAllocator</a></div><div class="ttdeci">void NotifyAllocator(BOOL bUsingImageAllocator)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01387">winutil.cpp:1387</a></div></div>
<div class="ttc" id="aclass_c_base_allocator_html"><div class="ttname"><a href="../../df/d60/class_c_base_allocator.html">CBaseAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9b/amfilter_8h_source.html#l01339">amfilter.h:1339</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ac2981891c97790ec53e2bb616f8aecef"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ac2981891c97790ec53e2bb616f8aecef">CDrawImage::SetTargetRect</a></div><div class="ttdeci">void SetTargetRect(__in RECT *pTargetRect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01318">winutil.cpp:1318</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ab2cbbdb638124c3db636d8c32cebca28"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ab2cbbdb638124c3db636d8c32cebca28">CDrawImage::DrawImage</a></div><div class="ttdeci">BOOL DrawImage(IMediaSample *pMediaSample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01217">winutil.cpp:1217</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ac3bd7dac46d842df0dbb9ce286f03ec1"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ac3bd7dac46d842df0dbb9ce286f03ec1">CDrawImage::GetPaletteVersion</a></div><div class="ttdeci">LONG GetPaletteVersion()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01417">winutil.cpp:1417</a></div></div>
<div class="ttc" id="aclass_c_image_sample_html_a8a5828ce4cd0fb4875eb262841664401"><div class="ttname"><a href="../../db/d4b/class_c_image_sample.html#a8a5828ce4cd0fb4875eb262841664401">CImageSample::CImageSample</a></div><div class="ttdeci">CImageSample(__inout CBaseAllocator *pAllocator, __in_opt LPCTSTR pName, __inout HRESULT *phr, __in_bcount(length) LPBYTE pBuffer, LONG length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01731">winutil.cpp:1731</a></div></div>
<div class="ttc" id="awinutil_8h_html_a72d6c44e263b95a0e4c9c67ffe3cdfb1"><div class="ttname"><a href="../../df/d97/winutil_8h.html#a72d6c44e263b95a0e4c9c67ffe3cdfb1">PALETTE_VERSION</a></div><div class="ttdeci">const LONG PALETTE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00026">winutil.h:26</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a06cf937833a00e33e9e2a190acb5601e"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a06cf937833a00e33e9e2a190acb5601e">CBaseWindow::m_hInstance</a></div><div class="ttdeci">HINSTANCE m_hInstance</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00040">winutil.h:40</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a98d190ce0944c5af0f8a0eba334ca810"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a98d190ce0944c5af0f8a0eba334ca810">CDrawImage::NotifyMediaType</a></div><div class="ttdeci">void NotifyMediaType(__in CMediaType *pMediaType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01405">winutil.cpp:1405</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_a34d9eeea51a21eacd1580d85d7202419"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#a34d9eeea51a21eacd1580d85d7202419">CImageDisplay::CountPrefixBits</a></div><div class="ttdeci">static DWORD CountPrefixBits(const DWORD Field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02278">winutil.cpp:2278</a></div></div>
<div class="ttc" id="awinutil_8h_html_abe70eb61be0cd30035b38b64bf033d51"><div class="ttname"><a href="../../df/d97/winutil_8h.html#abe70eb61be0cd30035b38b64bf033d51">DIBDATA</a></div><div class="ttdeci">struct tagDIBDATA DIBDATA</div></div>
<div class="ttc" id="awinutil_8h_html_ae7202e31a4daeb9bef173a9c3db1597b"><div class="ttname"><a href="../../df/d97/winutil_8h.html#ae7202e31a4daeb9bef173a9c3db1597b">CheckVideoInfo2Type</a></div><div class="ttdeci">STDAPI CheckVideoInfo2Type(const AM_MEDIA_TYPE *pmt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02728">winutil.cpp:2728</a></div></div>
<div class="ttc" id="awinutil_8h_html_a82a42596b29857d5822b770cc18de246"><div class="ttname"><a href="../../df/d97/winutil_8h.html#a82a42596b29857d5822b770cc18de246">DEFHEIGHT</a></div><div class="ttdeci">const int DEFHEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00021">winutil.h:21</a></div></div>
<div class="ttc" id="aclass_c_image_allocator_html"><div class="ttname"><a href="../../d5/de7/class_c_image_allocator.html">CImageAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00279">winutil.h:279</a></div></div>
<div class="ttc" id="aclass_c_image_sample_html_acf69256d736e3592f7508cb919f70ad4"><div class="ttname"><a href="../../db/d4b/class_c_image_sample.html#acf69256d736e3592f7508cb919f70ad4">CImageSample::m_DibData</a></div><div class="ttdeci">DIBDATA m_DibData</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00252">winutil.h:252</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_af2f5bebd35c52d5dfdec0f2abbe3b15a"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#af2f5bebd35c52d5dfdec0f2abbe3b15a">CDrawImage::m_MemoryDC</a></div><div class="ttdeci">HDC m_MemoryDC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00169">winutil.h:169</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a8f41ad1e273bd5389ed7f4651416f7c3"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a8f41ad1e273bd5389ed7f4651416f7c3">CDrawImage::FastRender</a></div><div class="ttdeci">void FastRender(IMediaSample *pMediaSample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01023">winutil.cpp:1023</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_ad2b80f4129dc6e42f1245959db65f56a"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#ad2b80f4129dc6e42f1245959db65f56a">CBaseWindow::m_WindowStyles</a></div><div class="ttdeci">DWORD m_WindowStyles</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00048">winutil.h:48</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a62db596a2f1ecba70d5a01c436a10858"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a62db596a2f1ecba70d5a01c436a10858">CDrawImage::SlowRender</a></div><div class="ttdeci">void SlowRender(IMediaSample *pMediaSample)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01126">winutil.cpp:1126</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a9ea466188a0d75cb321ae8e31d89a92f"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a9ea466188a0d75cb321ae8e31d89a92f">CImagePalette::m_pBaseWindow</a></div><div class="ttdeci">CBaseWindow * m_pBaseWindow</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00331">winutil.h:331</a></div></div>
<div class="ttc" id="astructtag_d_i_b_d_a_t_a_html"><div class="ttname"><a href="../../df/d48/structtag_d_i_b_d_a_t_a.html">tagDIBDATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00231">winutil.h:231</a></div></div>
<div class="ttc" id="aclass_c_image_display_html_abeab4581d2c5768bd2a241bdbb769bab"><div class="ttname"><a href="../../d2/d2a/class_c_image_display.html#abeab4581d2c5768bd2a241bdbb769bab">CImageDisplay::IsPalettised</a></div><div class="ttdeci">BOOL IsPalettised()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l02421">winutil.cpp:2421</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_ae06eafb7504b7125e4e7e9f1fc151fc3"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#ae06eafb7504b7125e4e7e9f1fc151fc3">CDrawImage::m_EndSample</a></div><div class="ttdeci">CRefTime m_EndSample</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00167">winutil.h:167</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a6487b0332a17b9e87b43cbf18850bb32"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a6487b0332a17b9e87b43cbf18850bb32">CBaseWindow::m_MemoryDC</a></div><div class="ttdeci">HDC m_MemoryDC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00053">winutil.h:53</a></div></div>
<div class="ttc" id="aclass_c_draw_image_html_a1cde20355604501adb5fe5b63b277a75"><div class="ttname"><a href="../../db/d39/class_c_draw_image.html#a1cde20355604501adb5fe5b63b277a75">CDrawImage::UsingImageAllocator</a></div><div class="ttdeci">BOOL UsingImageAllocator()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db1/winutil_8cpp_source.html#l01395">winutil.cpp:1395</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a00bd3bba1d7e01c4a066a6636a9451b4"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a00bd3bba1d7e01c4a066a6636a9451b4">CBaseWindow::m_bNoRealize</a></div><div class="ttdeci">BYTE m_bNoRealize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00055">winutil.h:55</a></div></div>
<div class="ttc" id="aclass_c_image_palette_html_a1e96e226444438551f74fdf721e3dccd"><div class="ttname"><a href="../../d0/dd3/class_c_image_palette.html#a1e96e226444438551f74fdf721e3dccd">CImagePalette::DrawVideoImageHere</a></div><div class="ttdeci">BOOL DrawVideoImageHere(HDC hdc, IMediaSample *pMediaSample, __in LPRECT lprcSrc, __in LPRECT lprcDst)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00353">winutil.h:353</a></div></div>
<div class="ttc" id="aclass_c_base_window_html_a31d33e4b409bb2666b38e737f188a9a5"><div class="ttname"><a href="../../db/dbd/class_c_base_window.html#a31d33e4b409bb2666b38e737f188a9a5">CBaseWindow::m_Width</a></div><div class="ttdeci">LONG m_Width</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00043">winutil.h:43</a></div></div>
<div class="ttc" id="awinutil_8h_html_a32fec42979da8a14e7cd0796af617006"><div class="ttname"><a href="../../df/d97/winutil_8h.html#a32fec42979da8a14e7cd0796af617006">hMEMORY</a></div><div class="ttdeci">const HANDLE hMEMORY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d97/winutil_8h_source.html#l00028">winutil.h:28</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_012a9823336f45ecffba9316d6ff6f27.html">libajantv2</a></li><li class="navelem"><a class="el" href="../../dir_957939c99aa964633a97cef056d70db5.html">demos</a></li><li class="navelem"><a class="el" href="../../dir_eb713407732141c419241c43afea526b.html">ntv2vcam</a></li><li class="navelem"><a class="el" href="../../dir_e31f2f6056c798e74b11bdda1f0d33ad.html">baseclasses</a></li><li class="navelem"><a class="el" href="../../df/d97/winutil_8h.html">winutil.h</a></li>
    <li class="footer">Generated on Wed Aug 13 2025 12:20:31 for AJA NTV2 SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
